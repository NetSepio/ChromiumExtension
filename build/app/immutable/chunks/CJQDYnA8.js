import{p as Ct,a as Et,w as Pt}from"./0wNmbcRK.js";import{P as ot}from"./DcZVe53u.js";import{E as Ot}from"./BQ8nBn3P.js";import{E as jt}from"./D0YAcCpT.js";const it="2.27.2";let H={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${it}`},R=class Ae extends Error{constructor(e,n={}){var a;const r=(()=>{var u;return n.cause instanceof Ae?n.cause.details:(u=n.cause)!=null&&u.message?n.cause.message:n.details})(),s=n.cause instanceof Ae&&n.cause.docsPath||n.docsPath,o=(a=H.getDocsUrl)==null?void 0:a.call(H,{...n,docsPath:s}),i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...H.version?[`Version: ${H.version}`]:[]].join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=it}walk(e){return ct(this,e)}};function ct(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?ct(t.cause,e):e?null:t}class At extends R{constructor({max:e,min:n,signed:r,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class $t extends R{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}class at extends R{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function le(t,{dir:e,size:n=32}={}){return typeof t=="string"?kt(t,{dir:e,size:n}):Rt(t,{dir:e,size:n})}function kt(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new at({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Rt(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new at({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const o=e==="right";r[o?s:n-s-1]=t[o?s:t.length-s-1]}return r}function Ue(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function He(t){return Ue(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const Mt=new TextEncoder;function Tt(t,e={}){return typeof t=="number"||typeof t=="bigint"?qt(t,e):typeof t=="boolean"?Ut(t,e):Ue(t)?ut(t,e):dt(t,e)}function Ut(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Se(n,{size:e.size}),le(n,{size:e.size})):n}const M={zero:48,nine:57,A:65,F:70,a:97,f:102};function Fe(t){if(t>=M.zero&&t<=M.nine)return t-M.zero;if(t>=M.A&&t<=M.F)return t-(M.A-10);if(t>=M.a&&t<=M.f)return t-(M.a-10)}function ut(t,e={}){let n=t;e.size&&(Se(n,{size:e.size}),n=le(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let i=0,a=0;i<s;i++){const u=Fe(r.charCodeAt(a++)),c=Fe(r.charCodeAt(a++));if(u===void 0||c===void 0)throw new R(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);o[i]=u*16+c}return o}function qt(t,e){const n=$e(t,e);return ut(n)}function dt(t,e={}){const n=Mt.encode(t);return typeof e.size=="number"?(Se(n,{size:e.size}),le(n,{dir:"right",size:e.size})):n}function Se(t,{size:e}){if(He(t)>e)throw new $t({givenSize:He(t),maxSize:e})}const zt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Bt(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=zt[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Se(r,{size:e.size}),le(r,{dir:"right",size:e.size})):r}function $e(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof t=="bigint"?"n":"";throw new At({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${t}${u}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?le(a,{size:r}):a}const Lt=new TextEncoder;function _t(t,e={}){const n=Lt.encode(t);return Bt(n,e)}class Nt extends R{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class qe extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}function We(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ht(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ze(t,...e){if(!Ht(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function De(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Ft(t,e){ze(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const he=BigInt(2**32-1),Ke=BigInt(32);function Wt(t,e=!1){return e?{h:Number(t&he),l:Number(t>>Ke&he)}:{h:Number(t>>Ke&he)|0,l:Number(t&he)|0}}function Dt(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:o,l:i}=Wt(t[s],e);[n[s],r[s]]=[o,i]}return[n,r]}const Kt=(t,e,n)=>t<<n|e>>>32-n,Jt=(t,e,n)=>e<<n|t>>>32-n,Vt=(t,e,n)=>e<<n-32|t>>>64-n,Xt=(t,e,n)=>t<<n-32|e>>>64-n;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Gt(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}const Je=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Yt(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Ve(t){for(let e=0;e<t.length;e++)t[e]=Yt(t[e])}function Zt(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function lt(t){return typeof t=="string"&&(t=Zt(t)),ze(t),t}class Qt{clone(){return this._cloneInto()}}function en(t){const e=r=>t().update(lt(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}const ft=[],ht=[],pt=[],tn=BigInt(0),F=BigInt(1),nn=BigInt(2),rn=BigInt(7),sn=BigInt(256),on=BigInt(113);for(let t=0,e=F,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],ft.push(2*(5*r+n)),ht.push((t+1)*(t+2)/2%64);let s=tn;for(let o=0;o<7;o++)e=(e<<F^(e>>rn)*on)%sn,e&nn&&(s^=F<<(F<<BigInt(o))-F);pt.push(s)}const[cn,an]=Dt(pt,!0),Xe=(t,e,n)=>n>32?Vt(t,e,n):Kt(t,e,n),Ge=(t,e,n)=>n>32?Xt(t,e,n):Jt(t,e,n);function un(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let i=0;i<10;i++)n[i]=t[i]^t[i+10]^t[i+20]^t[i+30]^t[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,u=(i+2)%10,c=n[u],d=n[u+1],m=Xe(c,d,1)^n[a],h=Ge(c,d,1)^n[a+1];for(let l=0;l<50;l+=10)t[i+l]^=m,t[i+l+1]^=h}let s=t[2],o=t[3];for(let i=0;i<24;i++){const a=ht[i],u=Xe(s,o,a),c=Ge(s,o,a),d=ft[i];s=t[d],o=t[d+1],t[d]=u,t[d+1]=c}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=t[i+a];for(let a=0;a<10;a++)t[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=cn[r],t[1]^=an[r]}n.fill(0)}class Be extends Qt{constructor(e,n,r,s=!1,o=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,We(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Gt(this.state)}keccak(){Je||Ve(this.state32),un(this.state32,this.rounds),Je||Ve(this.state32),this.posOut=0,this.pos=0}update(e){De(this);const{blockLen:n,state:r}=this;e=lt(e);const s=e.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){De(this,!1),ze(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=e.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);e.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return We(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ft(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return e||(e=new Be(n,r,s,i,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=s,e.enableXOF=i,e.destroyed=this.destroyed,e}}const dn=(t,e,n)=>en(()=>new Be(e,t,n)),ln=dn(1,136,256/8);function fn(t,e){return ln(Ue(t,{strict:!1})?Tt(t):t)}const Ce=new qe(8192);function bt(t,e){if(Ce.has(`${t}.${e}`))return Ce.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=fn(dt(n)),s=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const o=`0x${s.join("")}`;return Ce.set(`${t}.${e}`,o),o}function pe(t,e){if(!pn(t,{strict:!1}))throw new Nt({address:t});return bt(t,e)}const hn=/^0x[a-fA-F0-9]{40}$/,Ee=new qe(8192);function pn(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(Ee.has(r))return Ee.get(r);const s=hn.test(t)?t.toLowerCase()===t?!0:n?bt(t)===t:!0:!1;return Ee.set(r,s),s}function bn(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const q=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n),Le=t=>t;class W extends R{constructor({body:e,cause:n,details:r,headers:s,status:o,url:i}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${Le(i)}`,e&&`Request body: ${q(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=o,this.url=i}}class mt extends R{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Le(r)}`,`Request body: ${q(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class Ye extends R{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Le(n)}`,`Request body: ${q(e)}`],name:"TimeoutError"})}}const mn=-1;class j extends R{constructor(e,{code:n,docsPath:r,metaMessages:s,name:o,shortMessage:i}){super(i,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||e.name,this.code=e instanceof mt?e.code:n??mn}}class $ extends j{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class D extends j{constructor(e){super(e,{code:D.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(D,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class K extends j{constructor(e){super(e,{code:K.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(K,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class J extends j{constructor(e,{method:n}={}){super(e,{code:J.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(J,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class V extends j{constructor(e){super(e,{code:V.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(V,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class _ extends j{constructor(e){super(e,{code:_.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(_,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class X extends j{constructor(e){super(e,{code:X.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(X,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class G extends j{constructor(e){super(e,{code:G.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(G,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class T extends j{constructor(e){super(e,{code:T.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(T,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Y extends j{constructor(e){super(e,{code:Y.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class U extends j{constructor(e,{method:n}={}){super(e,{code:U.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(U,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class N extends j{constructor(e){super(e,{code:N.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(N,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Z extends j{constructor(e){super(e,{code:Z.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Z,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class O extends ${constructor(e){super(e,{code:O.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(O,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Q extends ${constructor(e){super(e,{code:Q.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Q,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class ee extends ${constructor(e,{method:n}={}){super(e,{code:ee.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(ee,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class te extends ${constructor(e){super(e,{code:te.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(te,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ne extends ${constructor(e){super(e,{code:ne.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(ne,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class z extends ${constructor(e){super(e,{code:z.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(z,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class re extends ${constructor(e){super(e,{code:re.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(re,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class se extends ${constructor(e){super(e,{code:se.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(se,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class oe extends ${constructor(e){super(e,{code:oe.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(oe,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class ie extends ${constructor(e){super(e,{code:ie.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(ie,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class ce extends ${constructor(e){super(e,{code:ce.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(ce,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class ae extends ${constructor(e){super(e,{code:ae.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(ae,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class ue extends ${constructor(e){super(e,{code:ue.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(ue,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class gn extends j{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function wn(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const Pe=new Map;function yn({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const d=u();i();const m=d.map(({args:h})=>h);m.length!==0&&t(m).then(h=>{s&&Array.isArray(h)&&h.sort(s);for(let l=0;l<d.length;l++){const{resolve:w}=d[l];w==null||w([h[l],h])}}).catch(h=>{for(let l=0;l<d.length;l++){const{reject:w}=d[l];w==null||w(h)}})},i=()=>Pe.delete(e),a=()=>u().map(({args:d})=>d),u=()=>Pe.get(e)||[],c=d=>Pe.set(e,[...u(),d]);return{flush:i,async schedule(d){const{promise:m,resolve:h,reject:l}=wn();return(n==null?void 0:n([...a(),d]))&&o(),u().length>0?(c({args:d,resolve:h,reject:l}),m):(c({args:d,resolve:h,reject:l}),setTimeout(o,r),m)}}}const be=new qe(8192);function vn(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(be.get(n))return be.get(n);const r=t().finally(()=>be.delete(n));return be.set(n,r),r}async function xn(t){return new Promise(e=>setTimeout(e,t))}function gt(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const i=async({count:a=0}={})=>{const u=async({error:c})=>{const d=typeof e=="function"?e({count:a,error:c}):e;d&&await xn(d),i({count:a+1})};try{const c=await t();s(c)}catch(c){if(a<n&&await r({count:a,error:c}))return u({error:c});o(c)}};i()})}function In(t,e={}){return async(n,r={})=>{var m;const{dedupe:s=!1,methods:o,retryDelay:i=150,retryCount:a=3,uid:u}={...e,...r},{method:c}=n;if((m=o==null?void 0:o.exclude)!=null&&m.includes(c))throw new U(new Error("method not supported"),{method:c});if(o!=null&&o.include&&!o.include.includes(c))throw new U(new Error("method not supported"),{method:c});const d=s?_t(`${u}.${q(n)}`):void 0;return vn(()=>gt(async()=>{try{return await t(n)}catch(h){const l=h;switch(l.code){case D.code:throw new D(l);case K.code:throw new K(l);case J.code:throw new J(l,{method:n.method});case V.code:throw new V(l);case _.code:throw new _(l);case X.code:throw new X(l);case G.code:throw new G(l);case T.code:throw new T(l);case Y.code:throw new Y(l);case U.code:throw new U(l,{method:n.method});case N.code:throw new N(l);case Z.code:throw new Z(l);case O.code:throw new O(l);case Q.code:throw new Q(l);case ee.code:throw new ee(l);case te.code:throw new te(l);case ne.code:throw new ne(l);case z.code:throw new z(l);case re.code:throw new re(l);case se.code:throw new se(l);case oe.code:throw new oe(l);case ie.code:throw new ie(l);case ce.code:throw new ce(l);case ae.code:throw new ae(l);case ue.code:throw new ue(l);case 5e3:throw new O(l);default:throw h instanceof R?h:new gn(l)}}},{delay:({count:h,error:l})=>{var w;if(l&&l instanceof W){const g=(w=l==null?void 0:l.headers)==null?void 0:w.get("Retry-After");if(g!=null&&g.match(/\d/))return Number.parseInt(g)*1e3}return~~(1<<h)*i},retryCount:a,shouldRetry:({error:h})=>Sn(h)}),{enabled:s,id:d})}}function Sn(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===N.code||t.code===_.code:t instanceof W&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function _e(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function wt(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let i;try{const a=new AbortController;n>0&&(i=setTimeout(()=>{r?a.abort():o(e)},n)),s(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&o(e),o(a)}finally{clearTimeout(i)}})()})}function Cn(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Ze=Cn();function En(t,e={}){return{async request(n){var m;const{body:r,onRequest:s=e.onRequest,onResponse:o=e.onResponse,timeout:i=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:c,signal:d}=a;try{const h=await wt(async({signal:w})=>{const g={...a,body:Array.isArray(r)?q(r.map(y=>({jsonrpc:"2.0",id:y.id??Ze.take(),...y}))):q({jsonrpc:"2.0",id:r.id??Ze.take(),...r}),headers:{"Content-Type":"application/json",...u},method:c||"POST",signal:d||(i>0?w:null)},I=new Request(t,g),E=await(s==null?void 0:s(I,g))??{...g,url:t};return await fetch(E.url??t,E)},{errorInstance:new Ye({body:r,url:t}),timeout:i,signal:!0});o&&await o(h);let l;if((m=h.headers.get("Content-Type"))!=null&&m.startsWith("application/json"))l=await h.json();else{l=await h.text();try{l=JSON.parse(l||"{}")}catch(w){if(h.ok)throw w;l={error:l}}}if(!h.ok)throw new W({body:r,details:q(l.error)||h.statusText,headers:h.headers,status:h.status,url:t});return l}catch(h){throw h instanceof W||h instanceof Ye?h:new W({body:r,cause:h,url:t})}}}}const ve="2.16.7",Pn=()=>`@wagmi/core@${ve}`;var yt=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ie,vt;class de extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return Pn()}constructor(e,n={}){var o;super(),Ie.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof de?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof de&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return yt(this,Ie,"m",vt).call(this,this,e)}}Ie=new WeakSet,vt=function t(e,n){return n!=null&&n(e)?e:e.cause?yt(this,Ie,"m",t).call(this,e.cause,n):e};class ke extends de{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}const Re=256;let me=Re,ge;function xt(t=11){if(!ge||me+t>Re*2){ge="",me=0;for(let e=0;e<Re;e++)ge+=(256+Math.random()*256|0).toString(16).substring(1)}return ge.substring(me,me+++t)}function On(t){const{batch:e,cacheTime:n=t.pollingInterval??4e3,ccipRead:r,key:s="base",name:o="Base Client",pollingInterval:i=4e3,type:a="base"}=t,u=t.chain,c=t.account?bn(t.account):void 0,{config:d,request:m,value:h}=t.transport({chain:u,pollingInterval:i}),l={...d,...h},w={account:c,batch:e,cacheTime:n,ccipRead:r,chain:u,key:s,name:o,pollingInterval:i,request:m,transport:l,type:a,uid:xt()};function g(I){return E=>{const v=E(I);for(const S in w)delete v[S];const y={...I,...v};return Object.assign(y,{extend:g(y)})}}return Object.assign(w,{extend:g(w)})}function jn({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:o=150,timeout:i,type:a},u){const c=xt();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:o,timeout:i,type:a},request:In(r,{methods:e,retryCount:s,retryDelay:o,uid:c}),value:u}}class An extends R{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Oe(t,e={}){const{batch:n,fetchOptions:r,key:s="http",methods:o,name:i="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:u,retryDelay:c,raw:d}=e;return({chain:m,retryCount:h,timeout:l})=>{const{batchSize:w=1e3,wait:g=0}=typeof n=="object"?n:{},I=e.retryCount??h,E=l??e.timeout??1e4,v=m==null?void 0:m.rpcUrls.default.http[0];if(!v)throw new An;const y=En(v,{fetchOptions:r,onRequest:a,onResponse:u,timeout:E});return jn({key:s,methods:o,name:i,async request({method:S,params:f}){const b={method:S,params:f},{schedule:p}=yn({id:v,wait:g,shouldSplitBatch(P){return P.length>w},fn:P=>y.request({body:P}),sort:(P,fe)=>P.id-fe.id}),C=async P=>n?p(P):[await y.request({body:P})],[{error:x,result:A}]=await C(b);if(d)return{error:x,result:A};if(x)throw new mt({body:b,error:x,url:v});return A},retryCount:I,retryDelay:c,timeout:E,type:"http"},{fetchOptions:r,url:v})}}class L extends de{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}Ne.type="injected";function Ne(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const u=t.target;if(typeof u=="function"){const c=u();if(c)return c}return typeof u=="object"?u:typeof u=="string"?{...$n[u]??{id:u,name:`${u[0].toUpperCase()}${u.slice(1)}`,provider:`is${u[0].toUpperCase()}${u.slice(1)}`}}:{id:"injected",name:"Injected",provider(c){return c==null?void 0:c.ethereum}}}let s,o,i,a;return u=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:Ne.type,async setup(){const c=await this.getProvider();c!=null&&c.on&&t.target&&(i||(i=this.onConnect.bind(this),c.on("connect",i)),s||(s=this.onAccountsChanged.bind(this),c.on("accountsChanged",s)))},async connect({chainId:c,isReconnecting:d}={}){var l,w,g,I,E,v;const m=await this.getProvider();if(!m)throw new L;let h=[];if(d)h=await this.getAccounts().catch(()=>[]);else if(e)try{h=(I=(g=(w=(l=(await m.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:l.caveats)==null?void 0:w[0])==null?void 0:g.value)==null?void 0:I.map(S=>pe(S)),h.length>0&&(h=await this.getAccounts())}catch(y){const S=y;if(S.code===O.code)throw new O(S);if(S.code===T.code)throw S}try{!(h!=null&&h.length)&&!d&&(h=(await m.request({method:"eth_requestAccounts"})).map(f=>pe(f))),i&&(m.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),m.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),m.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),m.on("disconnect",a));let y=await this.getChainId();if(c&&y!==c){const S=await this.switchChain({chainId:c}).catch(f=>{if(f.code===O.code)throw f;return{id:y}});y=(S==null?void 0:S.id)??y}return e&&await((E=u.storage)==null?void 0:E.removeItem(`${this.id}.disconnected`)),t.target||await((v=u.storage)==null?void 0:v.setItem("injected.connected",!0)),{accounts:h,chainId:y}}catch(y){const S=y;throw S.code===O.code?new O(S):S.code===T.code?new T(S):S}},async disconnect(){var d,m;const c=await this.getProvider();if(!c)throw new L;o&&(c.removeListener("chainChanged",o),o=void 0),a&&(c.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),c.on("connect",i));try{await wt(()=>c.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((d=u.storage)==null?void 0:d.setItem(`${this.id}.disconnected`,!0)),t.target||await((m=u.storage)==null?void 0:m.removeItem("injected.connected"))},async getAccounts(){const c=await this.getProvider();if(!c)throw new L;return(await c.request({method:"eth_accounts"})).map(m=>pe(m))},async getChainId(){const c=await this.getProvider();if(!c)throw new L;const d=await c.request({method:"eth_chainId"});return Number(d)},async getProvider(){if(typeof window>"u")return;let c;const d=r();return typeof d.provider=="function"?c=d.provider(window):typeof d.provider=="string"?c=xe(window,d.provider):c=d.provider,c&&!c.removeListener&&("off"in c&&typeof c.off=="function"?c.removeListener=c.off:c.removeListener=()=>{}),c},async isAuthorized(){var c,d;try{if(e&&await((c=u.storage)==null?void 0:c.getItem(`${this.id}.disconnected`))||!t.target&&!await((d=u.storage)==null?void 0:d.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const w=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",w),!!await this.getProvider()),g=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(E=>window.addEventListener("ethereum#initialized",()=>E(w()),{once:!0}))]:[],new Promise(E=>setTimeout(()=>E(w()),g))]))return!0}throw new L}return!!(await gt(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:c,chainId:d}){var w,g,I,E;const m=await this.getProvider();if(!m)throw new L;const h=u.chains.find(v=>v.id===d);if(!h)throw new z(new ke);const l=new Promise(v=>{const y=S=>{"chainId"in S&&S.chainId===d&&(u.emitter.off("change",y),v())};u.emitter.on("change",y)});try{return await Promise.all([m.request({method:"wallet_switchEthereumChain",params:[{chainId:$e(d)}]}).then(async()=>{await this.getChainId()===d&&u.emitter.emit("change",{chainId:d})}),l]),h}catch(v){const y=v;if(y.code===4902||((g=(w=y==null?void 0:y.data)==null?void 0:w.originalError)==null?void 0:g.code)===4902)try{const{default:S,...f}=h.blockExplorers??{};let b;c!=null&&c.blockExplorerUrls?b=c.blockExplorerUrls:S&&(b=[S.url,...Object.values(f).map(x=>x.url)]);let p;(I=c==null?void 0:c.rpcUrls)!=null&&I.length?p=c.rpcUrls:p=[((E=h.rpcUrls.default)==null?void 0:E.http[0])??""];const C={blockExplorerUrls:b,chainId:$e(d),chainName:(c==null?void 0:c.chainName)??h.name,iconUrls:c==null?void 0:c.iconUrls,nativeCurrency:(c==null?void 0:c.nativeCurrency)??h.nativeCurrency,rpcUrls:p};return await Promise.all([m.request({method:"wallet_addEthereumChain",params:[C]}).then(async()=>{if(await this.getChainId()===d)u.emitter.emit("change",{chainId:d});else throw new O(new Error("User rejected switch after adding network."))}),l]),h}catch(S){throw new O(S)}throw y.code===O.code?new O(y):new z(y)}},async onAccountsChanged(c){var d;if(c.length===0)this.onDisconnect();else if(u.emitter.listenerCount("connect")){const m=(await this.getChainId()).toString();this.onConnect({chainId:m}),e&&await((d=u.storage)==null?void 0:d.removeItem(`${this.id}.disconnected`))}else u.emitter.emit("change",{accounts:c.map(m=>pe(m))})},onChainChanged(c){const d=Number(c);u.emitter.emit("change",{chainId:d})},async onConnect(c){const d=await this.getAccounts();if(d.length===0)return;const m=Number(c.chainId);u.emitter.emit("connect",{accounts:d,chainId:m});const h=await this.getProvider();h&&(i&&(h.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),h.on("accountsChanged",s)),o||(o=this.onChainChanged.bind(this),h.on("chainChanged",o)),a||(a=this.onDisconnect.bind(this),h.on("disconnect",a)))},async onDisconnect(c){const d=await this.getProvider();c&&c.code===1013&&d&&(await this.getAccounts()).length||(u.emitter.emit("disconnect"),d&&(o&&(d.removeListener("chainChanged",o),o=void 0),a&&(d.removeListener("disconnect",a),a=void 0),i||(i=this.onConnect.bind(this),d.on("connect",i))))}})}const $n={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:xe(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return xe(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:xe(t,"isPhantom")}}};function xe(t,e){function n(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function kn(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function Rn(){const t=new Set;let e=[];const n=()=>kn(s=>{e.some(({info:o})=>o.uuid===s.info.uuid)||(e=[...e,s],t.forEach(o=>o(e,{added:[s]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:s}){return e.find(o=>o.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:o}={}){return t.add(s),o&&s(e,{added:e}),()=>t.delete(s)}}}const Mn=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(i,a,u)=>{let c=i;if(a){const d=(u==null?void 0:u.equalityFn)||Object.is;let m=i(r.getState());c=h=>{const l=i(h);if(!d(m,l)){const w=m;a(m=l,w)}},u!=null&&u.fireImmediately&&a(m,m)}return s(c)},t(e,n,r)},Tn=Mn;function Un(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var o;const i=u=>u===null?null:JSON.parse(u,void 0),a=(o=n.getItem(s))!=null?o:null;return a instanceof Promise?a.then(i):i(a)},setItem:(s,o)=>n.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>n.removeItem(s)}}const Me=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Me(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Me(r)(n)}}}},qn=(t,e)=>(n,r,s)=>{let o={storage:Un(()=>localStorage),partialize:g=>g,version:0,merge:(g,I)=>({...I,...g}),...e},i=!1;const a=new Set,u=new Set;let c=o.storage;if(!c)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...g)},r,s);const d=()=>{const g=o.partialize({...r()});return c.setItem(o.name,{state:g,version:o.version})},m=s.setState;s.setState=(g,I)=>{m(g,I),d()};const h=t((...g)=>{n(...g),d()},r,s);s.getInitialState=()=>h;let l;const w=()=>{var g,I;if(!c)return;i=!1,a.forEach(v=>{var y;return v((y=r())!=null?y:h)});const E=((I=o.onRehydrateStorage)==null?void 0:I.call(o,(g=r())!=null?g:h))||void 0;return Me(c.getItem.bind(c))(o.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate)return[!0,o.migrate(v.state,v.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var y;const[S,f]=v;if(l=o.merge(f,(y=r())!=null?y:h),n(l,!0),S)return d()}).then(()=>{E==null||E(l,void 0),l=r(),i=!0,u.forEach(v=>v(l))}).catch(v=>{E==null||E(void 0,v)})};return s.persist={setOptions:g=>{o={...o,...g},g.storage&&(c=g.storage)},clearStorage:()=>{c==null||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>w(),hasHydrated:()=>i,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(u.add(g),()=>{u.delete(g)})},o.skipHydration||w(),l||h},zn=qn,Qe=t=>{let e;const n=new Set,r=(c,d)=>{const m=typeof c=="function"?c(e):c;if(!Object.is(m,e)){const h=e;e=d??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(l=>l(e,h))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c))},u=e=t(r,s,a);return a},je=t=>t?Qe(t):Qe;class Bn{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new jt})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}}function Ln(t){return new Bn(t)}function _n(t,e){return JSON.parse(t,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(e==null?void 0:e(n,s))??s})}function et(t,e){return t.slice(0,e).join(".")||"."}function tt(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function Nn(t,e){const n=typeof t=="function",r=typeof e=="function",s=[],o=[];return function(a,u){if(typeof u=="object")if(s.length){const c=tt(s,this);c===0?s[s.length]=this:(s.splice(c),o.splice(c)),o[o.length]=a;const d=tt(s,u);if(d!==0)return r?e.call(this,a,u,et(o,d)):`[ref=${et(o,d)}]`}else s[0]=u,o[0]=a;return n?t.call(this,a,u):u}}function Hn(t,e,n,r){return JSON.stringify(t,Nn((s,o)=>{let i=o;return typeof i=="bigint"&&(i={__type:"bigint",value:o.toString()}),i instanceof Map&&(i={__type:"Map",value:Array.from(o.entries())}),(e==null?void 0:e(s,i))??i},r),n??void 0)}function Fn(t){const{deserialize:e=_n,key:n="wagmi",serialize:r=Hn,storage:s=It}=t;function o(i){return i instanceof Promise?i.then(a=>a).catch(()=>null):i}return{...s,key:n,async getItem(i,a){const u=s.getItem(`${n}.${i}`),c=await o(u);return c?e(c)??null:a??null},async setItem(i,a){const u=`${n}.${i}`;a===null?await o(s.removeItem(u)):await o(s.setItem(u,r(a)))},async removeItem(i){await o(s.removeItem(`${n}.${i}`))}}}const It={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function Wn(){const t=typeof window<"u"&&window.localStorage?window.localStorage:It;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const Te=256;let we=Te,ye;function Dn(t=11){if(!ye||we+t>Te*2){ye="",we=0;for(let e=0;e<Te;e++)ye+=(256+Math.random()*256|0).toString(16).substring(1)}return ye.substring(we,we+++t)}function Kn(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=Fn({storage:Wn()}),syncConnectedChain:r=!0,ssr:s=!1,...o}=t,i=typeof window<"u"&&e?Rn():void 0,a=je(()=>o.chains),u=je(()=>{const f=[],b=new Set;for(const p of o.connectors??[]){const C=c(p);if(f.push(C),!s&&C.rdns){const x=typeof C.rdns=="string"?[C.rdns]:C.rdns;for(const A of x)b.add(A)}}if(!s&&i){const p=i.getProviders();for(const C of p)b.has(C.info.rdns)||f.push(c(d(C)))}return f});function c(f){var C;const b=Ln(Dn()),p={...f({emitter:b,chains:a.getState(),storage:n,transports:o.transports}),emitter:b,uid:b.uid};return b.on("connect",y),(C=p.setup)==null||C.call(p),p}function d(f){const{info:b}=f,p=f.provider;return Ne({target:{...b,id:b.rdns,provider:p}})}const m=new Map;function h(f={}){const b=f.chainId??I.getState().chainId,p=a.getState().find(x=>x.id===b);if(f.chainId&&!p)throw new ke;{const x=m.get(I.getState().chainId);if(x&&!p)return x;if(!p)throw new ke}{const x=m.get(b);if(x)return x}let C;if(o.client)C=o.client({chain:p});else{const x=p.id,A=a.getState().map(k=>k.id),P={},fe=Object.entries(o);for(const[k,B]of fe)if(!(k==="chains"||k==="client"||k==="connectors"||k==="transports"))if(typeof B=="object")if(x in B)P[k]=B[x];else{if(A.some(St=>St in B))continue;P[k]=B}else P[k]=B;C=On({...P,chain:p,batch:P.batch??{multicall:!0},transport:k=>o.transports[x]({...k,connectors:u})})}return m.set(b,C),C}function l(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let w;const g="0.0.0-canary-";ve.startsWith(g)?w=Number.parseInt(ve.replace(g,"")):w=Number.parseInt(ve.split(".")[0]??"0");const I=je(Tn(n?zn(l,{migrate(f,b){if(b===w)return f;const p=l(),C=E(f,p.chainId);return{...p,chainId:C}},name:"store",partialize(f){return{connections:{__type:"Map",value:Array.from(f.connections.entries()).map(([b,p])=>{const{id:C,name:x,type:A,uid:P}=p.connector;return[b,{...p,connector:{id:C,name:x,type:A,uid:P}}]})},chainId:f.chainId,current:f.current}},merge(f,b){typeof f=="object"&&f&&"status"in f&&delete f.status;const p=E(f,b.chainId);return{...b,...f,chainId:p}},skipHydration:s,storage:n,version:w}):l));I.setState(l());function E(f,b){return f&&typeof f=="object"&&"chainId"in f&&typeof f.chainId=="number"&&a.getState().some(p=>p.id===f.chainId)?f.chainId:b}r&&I.subscribe(({connections:f,current:b})=>{var p;return b?(p=f.get(b))==null?void 0:p.chainId:void 0},f=>{if(a.getState().some(p=>p.id===f))return I.setState(p=>({...p,chainId:f??p.chainId}))}),i==null||i.subscribe(f=>{const b=new Set,p=new Set;for(const x of u.getState())if(b.add(x.id),x.rdns){const A=typeof x.rdns=="string"?[x.rdns]:x.rdns;for(const P of A)p.add(P)}const C=[];for(const x of f){if(p.has(x.info.rdns))continue;const A=c(d(x));b.has(A.id)||C.push(A)}n&&!I.persist.hasHydrated()||u.setState(x=>[...x,...C],!0)});function v(f){I.setState(b=>{const p=b.connections.get(f.uid);return p?{...b,connections:new Map(b.connections).set(f.uid,{accounts:f.accounts??p.accounts,chainId:f.chainId??p.chainId,connector:p.connector})}:b})}function y(f){I.getState().status==="connecting"||I.getState().status==="reconnecting"||I.setState(b=>{const p=u.getState().find(C=>C.uid===f.uid);return p?(p.emitter.listenerCount("connect")&&p.emitter.off("connect",v),p.emitter.listenerCount("change")||p.emitter.on("change",v),p.emitter.listenerCount("disconnect")||p.emitter.on("disconnect",S),{...b,connections:new Map(b.connections).set(f.uid,{accounts:f.accounts,chainId:f.chainId,connector:p}),current:f.uid,status:"connected"}):b})}function S(f){I.setState(b=>{const p=b.connections.get(f.uid);if(p){const x=p.connector;x.emitter.listenerCount("change")&&p.connector.emitter.off("change",v),x.emitter.listenerCount("disconnect")&&p.connector.emitter.off("disconnect",S),x.emitter.listenerCount("connect")||p.connector.emitter.on("connect",y)}if(b.connections.delete(f.uid),b.connections.size===0)return{...b,connections:new Map,current:null,status:"disconnected"};const C=b.connections.values().next().value;return{...b,connections:new Map(b.connections),current:C.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return u.getState()},storage:n,getClient:h,get state(){return I.getState()},setState(f){let b;typeof f=="function"?b=f(I.getState()):b=f;const p=l();typeof b!="object"&&(b=p),Object.keys(p).some(x=>!(x in b))&&(b=p),I.setState(b,!0)},subscribe(f,b,p){return I.subscribe(f,b,p?{...p,fireImmediately:p.emitImmediately}:void 0)},_internal:{mipd:i,store:I,ssr:!!s,syncConnectedChain:r,transports:o.transports,chains:{setState(f){const b=typeof f=="function"?f(a.getState()):f;if(b.length!==0)return a.setState(b,!0)},subscribe(f){return a.subscribe(f)}},connectors:{providerDetailToConnector:d,setup:c,setState(f){return u.setState(typeof f=="function"?f(u.getState()):f,!0)},subscribe(f){return u.subscribe(f)}},events:{change:v,connect:y,disconnect:S}}}}const nt=_e({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),rt=_e({id:169,name:"Manta Pacific Mainnet",network:"manta",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://pacific-rpc.manta.network/http"]}},blockExplorers:{default:{name:"Manta Explorer",url:"https://pacific-explorer.manta.network",apiUrl:"https://pacific-explorer.manta.network/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:332890}}}),st=_e({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0});Kn({chains:[nt,st,rt],transports:{[nt.id]:Oe(),[st.id]:Oe(),[rt.id]:Oe()}});const Zn=async()=>{let t="";return Pt.subscribe(n=>t=n),(await fetch(`${ot}/flowid?walletAddress=${t}`)).json()},Qn=async(t,e)=>{let n=new Headers;n.append("Content-Type","application/json");let r=JSON.stringify({flowId:t,walletAddress:e}),s={method:"POST",headers:n,body:r,redirect:"follow"};return(await fetch(`${ot}/authenticate/NonSign`,s)).json()},er=async t=>{let e="",n="";Ct.subscribe(r=>n=r),Et.subscribe(r=>e=r);try{if(e!==""){const r=new TextEncoder().encode(t),o=await Ot.fromSecretKey(e).sign(r);return{signature:Object.values(o).map(a=>a.toString(16).padStart(2,"0")).join(""),pubKey:n}}}catch(r){console.log("error:",r)}};export{Qn as a,Zn as b,er as s};
