import{j as ue,H as Re,n as Z,u as R,o as se,t as L,p as V,q as j,r as Ge,v as O,w as Fe,x as p}from"./C_hR8wQP.js";const ee=r=>ue.encode(r),G=r=>ue.decode(r);function N(r){return Uint8Array.from(atob(r),e=>e.charCodeAt(0))}const q=8192;function $(r){if(r.length<q)return btoa(String.fromCharCode(...r));let e="";for(var t=0;t<r.length;t+=q){const i=r.slice(t,t+q);e+=String.fromCharCode(...i)}return btoa(e)}function oe(r){var s;const e=r.startsWith("0x")?r.slice(2):r,t=e.length%2===0?e:`0${e}`,i=((s=t.match(/[0-9a-fA-F]{2}/g))==null?void 0:s.map(a=>parseInt(a,16)))??[];if(i.length!==t.length/2)throw new Error(`Invalid hex string ${r}`);return Uint8Array.from(i)}function F(r){return r.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"")}function H(r){let e=[],t=0;if(r===0)return[0];for(;r>0;)e[t]=r&127,(r>>=7)&&(e[t]|=128),t+=1;return e}function He(r){let e=0,t=0,i=0;for(;;){let s=r[i];if(i+=1,e|=(s&127)<<t,!(s&128))break;t+=7}return{value:e,length:i}}class We{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),i=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+i).toString(10)}read128(){let e=BigInt(this.read64()),i=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+i).toString(10)}read256(){let e=BigInt(this.read128()),i=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+i).toString(10)}readBytes(e){let t=this.bytePosition+this.dataView.byteOffset,i=new Uint8Array(this.dataView.buffer,t,e);return this.shift(e),i}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,t=new Uint8Array(this.dataView.buffer,e),{value:i,length:s}=He(t);return this.shift(s),i}readVec(e){let t=this.readULEB(),i=[];for(let s=0;s<t;s++)i.push(e(this,s,t));return i}}function Xe(r,e){switch(e){case"base58":return ee(r);case"base64":return $(r);case"hex":return F(r);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function le(r,e=["<",">"]){const[t,i]=e,s=[];let a="",o=0;for(let c=0;c<r.length;c++){const l=r[c];if(l===t&&o++,l===i&&o--,o===0&&l===","){s.push(a.trim()),a="";continue}a+=l}return s.push(a.trim()),s}class Ke{constructor({initialSize:e=1024,maxSize:t=1/0,allocateSize:i=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=t,this.allocateSize=i,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){const t=this.bytePosition+e;if(t>this.size){const i=Math.min(this.maxSize,this.size+this.allocateSize);if(t>i)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${t}`);this.size=i;const s=new ArrayBuffer(this.size);new Uint8Array(s).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(s)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return J(BigInt(e),8).forEach(t=>this.write8(t)),this}write128(e){return J(BigInt(e),16).forEach(t=>this.write8(t)),this}write256(e){return J(BigInt(e),32).forEach(t=>this.write8(t)),this}writeULEB(e){return H(e).forEach(t=>this.write8(t)),this}writeVec(e,t){return this.writeULEB(e.length),Array.from(e).forEach((i,s)=>t(this,i,s,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return Xe(this.toBytes(),e)}}function J(r,e){let t=new Uint8Array(e),i=0;for(;r>0;)t[i]=Number(r%BigInt(256)),r=r/BigInt(256),i+=1;return t}var ce=r=>{throw TypeError(r)},de=(r,e,t)=>e.has(r)||ce("Cannot "+t),E=(r,e,t)=>(de(r,e,"read from private field"),t?t.call(r):e.get(r)),W=(r,e,t)=>e.has(r)?ce("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),X=(r,e,t,i)=>(de(r,e,"write to private field"),e.set(r,t),t),k,P,_,U;const Ze=class he{constructor(e){W(this,k),W(this,P),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),X(this,k,e.write),X(this,P,e.serialize??((t,i)=>{const s=new Ke({initialSize:this.serializedSize(t)??void 0,...i});return E(this,k).call(this,t,s),s.toBytes()})),this.validate=e.validate??(()=>{})}write(e,t){this.validate(e),E(this,k).call(this,e,t)}serialize(e,t){return this.validate(e),new qe(this,E(this,P).call(this,e,t))}parse(e){const t=new We(e);return this.read(t)}fromHex(e){return this.parse(oe(e))}fromBase58(e){return this.parse(G(e))}fromBase64(e){return this.parse(N(e))}transform({name:e,input:t,output:i,validate:s}){return new he({name:e??this.name,read:a=>i?i(this.read(a)):this.read(a),write:(a,o)=>E(this,k).call(this,t?t(a):a,o),serializedSize:a=>this.serializedSize(t?t(a):a),serialize:(a,o)=>E(this,P).call(this,t?t(a):a,o),validate:a=>{s==null||s(a),this.validate(t?t(a):a)}})}};k=new WeakMap;P=new WeakMap;let I=Ze;const fe=Symbol.for("@mysten/serialized-bcs");function $t(r){return!!r&&typeof r=="object"&&r[fe]===!0}class qe{constructor(e,t){W(this,_),W(this,U),X(this,_,e),X(this,U,t)}get[fe](){return!0}toBytes(){return E(this,U)}toHex(){return F(E(this,U))}toBase64(){return $(E(this,U))}toBase58(){return ee(E(this,U))}parse(){return E(this,_).parse(E(this,U))}}_=new WeakMap;U=new WeakMap;function K({size:r,...e}){return new I({...e,serializedSize:()=>r})}function Y({readMethod:r,writeMethod:e,...t}){return K({...t,read:i=>i[r](),write:(i,s)=>s[e](i),validate:i=>{var s;if(i<0||i>t.maxValue)throw new TypeError(`Invalid ${t.name} value: ${i}. Expected value in range 0-${t.maxValue}`);(s=t.validate)==null||s.call(t,i)}})}function Q({readMethod:r,writeMethod:e,...t}){return K({...t,read:i=>i[r](),write:(i,s)=>s[e](BigInt(i)),validate:i=>{var a;const s=BigInt(i);if(s<0||s>t.maxValue)throw new TypeError(`Invalid ${t.name} value: ${s}. Expected value in range 0-${t.maxValue}`);(a=t.validate)==null||a.call(t,s)}})}function Je({serialize:r,...e}){const t=new I({...e,serialize:r,write:(i,s)=>{for(const a of t.serialize(i).toBytes())s.write8(a)}});return t}function Ye({toBytes:r,fromBytes:e,...t}){return new I({...t,read:i=>{const s=i.readULEB(),a=i.readBytes(s);return e(a)},write:(i,s)=>{const a=r(i);s.writeULEB(a.length);for(let o=0;o<a.length;o++)s.write8(a[o])},serialize:i=>{const s=r(i),a=H(s.length),o=new Uint8Array(a.length+s.length);return o.set(a,0),o.set(s,a.length),o},validate:i=>{var s;if(typeof i!="string")throw new TypeError(`Invalid ${t.name} value: ${i}. Expected string`);(s=t.validate)==null||s.call(t,i)}})}function Qe(r){let e=null;function t(){return e||(e=r()),e}return new I({name:"lazy",read:i=>t().read(i),serializedSize:i=>t().serializedSize(i),write:(i,s)=>t().write(i,s),serialize:(i,s)=>t().serialize(i,s).toBytes()})}const n={u8(r){return Y({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...r})},u16(r){return Y({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...r})},u32(r){return Y({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...r})},u64(r){return Q({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...r})},u128(r){return Q({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...r})},u256(r){return Q({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...r})},bool(r){return K({name:"bool",size:1,read:e=>e.read8()===1,write:(e,t)=>t.write8(e?1:0),...r,validate:e=>{var t;if((t=r==null?void 0:r.validate)==null||t.call(r,e),typeof e!="boolean")throw new TypeError(`Expected boolean, found ${typeof e}`)}})},uleb128(r){return Je({name:"uleb128",read:e=>e.readULEB(),serialize:e=>Uint8Array.from(H(e)),...r})},bytes(r,e){return K({name:`bytes[${r}]`,size:r,read:t=>t.readBytes(r),write:(t,i)=>{const s=new Uint8Array(t);for(let a=0;a<r;a++)i.write8(s[a]??0)},...e,validate:t=>{var i;if((i=e==null?void 0:e.validate)==null||i.call(e,t),!t||typeof t!="object"||!("length"in t))throw new TypeError(`Expected array, found ${typeof t}`);if(t.length!==r)throw new TypeError(`Expected array of length ${r}, found ${t.length}`)}})},byteVector(r){return new I({name:"bytesVector",read:e=>{const t=e.readULEB();return e.readBytes(t)},write:(e,t)=>{const i=new Uint8Array(e);t.writeULEB(i.length);for(let s=0;s<i.length;s++)t.write8(i[s]??0)},...r,serializedSize:e=>{const t="length"in e?e.length:null;return t==null?null:H(t).length+t},validate:e=>{var t;if((t=r==null?void 0:r.validate)==null||t.call(r,e),!e||typeof e!="object"||!("length"in e))throw new TypeError(`Expected array, found ${typeof e}`)}})},string(r){return Ye({name:"string",toBytes:e=>new TextEncoder().encode(e),fromBytes:e=>new TextDecoder().decode(e),...r})},fixedArray(r,e,t){return new I({name:`${e.name}[${r}]`,read:i=>{const s=new Array(r);for(let a=0;a<r;a++)s[a]=e.read(i);return s},write:(i,s)=>{for(const a of i)e.write(a,s)},...t,validate:i=>{var s;if((s=t==null?void 0:t.validate)==null||s.call(t,i),!i||typeof i!="object"||!("length"in i))throw new TypeError(`Expected array, found ${typeof i}`);if(i.length!==r)throw new TypeError(`Expected array of length ${r}, found ${i.length}`)}})},option(r){return n.enum(`Option<${r.name}>`,{None:null,Some:r}).transform({input:e=>e==null?{None:!0}:{Some:e},output:e=>e.$kind==="Some"?e.Some:null})},vector(r,e){return new I({name:`vector<${r.name}>`,read:t=>{const i=t.readULEB(),s=new Array(i);for(let a=0;a<i;a++)s[a]=r.read(t);return s},write:(t,i)=>{i.writeULEB(t.length);for(const s of t)r.write(s,i)},...e,validate:t=>{var i;if((i=e==null?void 0:e.validate)==null||i.call(e,t),!t||typeof t!="object"||!("length"in t))throw new TypeError(`Expected array, found ${typeof t}`)}})},tuple(r,e){return new I({name:`(${r.map(t=>t.name).join(", ")})`,serializedSize:t=>{let i=0;for(let s=0;s<r.length;s++){const a=r[s].serializedSize(t[s]);if(a==null)return null;i+=a}return i},read:t=>{const i=[];for(const s of r)i.push(s.read(t));return i},write:(t,i)=>{for(let s=0;s<r.length;s++)r[s].write(t[s],i)},...e,validate:t=>{var i;if((i=e==null?void 0:e.validate)==null||i.call(e,t),!Array.isArray(t))throw new TypeError(`Expected array, found ${typeof t}`);if(t.length!==r.length)throw new TypeError(`Expected array of length ${r.length}, found ${t.length}`)}})},struct(r,e,t){const i=Object.entries(e);return new I({name:r,serializedSize:s=>{let a=0;for(const[o,c]of i){const l=c.serializedSize(s[o]);if(l==null)return null;a+=l}return a},read:s=>{const a={};for(const[o,c]of i)a[o]=c.read(s);return a},write:(s,a)=>{for(const[o,c]of i)c.write(s[o],a)},...t,validate:s=>{var a;if((a=t==null?void 0:t.validate)==null||a.call(t,s),typeof s!="object"||s==null)throw new TypeError(`Expected object, found ${typeof s}`)}})},enum(r,e,t){const i=Object.entries(e);return new I({name:r,read:s=>{const a=s.readULEB(),o=i[a];if(!o)throw new TypeError(`Unknown value ${a} for enum ${r}`);const[c,l]=o;return{[c]:(l==null?void 0:l.read(s))??!0,$kind:c}},write:(s,a)=>{const[o,c]=Object.entries(s).filter(([l])=>Object.hasOwn(e,l))[0];for(let l=0;l<i.length;l++){const[h,d]=i[l];if(h===o){a.writeULEB(l),d==null||d.write(c,a);return}}},...t,validate:s=>{var c;if((c=t==null?void 0:t.validate)==null||c.call(t,s),typeof s!="object"||s==null)throw new TypeError(`Expected object, found ${typeof s}`);const a=Object.keys(s).filter(l=>s[l]!==void 0&&Object.hasOwn(e,l));if(a.length!==1)throw new TypeError(`Expected object with one key, but found ${a.length} for type ${r}}`);const[o]=a;if(!Object.hasOwn(e,o))throw new TypeError(`Invalid enum variant ${o}`)}})},map(r,e){return n.vector(n.tuple([r,e])).transform({name:`Map<${r.name}, ${e.name}>`,input:t=>[...t.entries()],output:t=>{const i=new Map;for(const[s,a]of t)i.set(s,a);return i}})},lazy(r){return Qe(r)}},et=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]);class tt extends Re{constructor(e,t,i={},s,a,o){if(super(),this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,Z(e),Z(t),Z(s),t<0||t>s)throw new Error("outputLen bigger than keyLen");if(i.key!==void 0&&(i.key.length<1||i.key.length>s))throw new Error("key length must be undefined or 1.."+s);if(i.salt!==void 0&&i.salt.length!==a)throw new Error("salt must be undefined or "+a);if(i.personalization!==void 0&&i.personalization.length!==o)throw new Error("personalization must be undefined or "+o);this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=R(this.buffer)}update(e){se(this);const{blockLen:t,buffer:i,buffer32:s}=this;e=L(e);const a=e.length,o=e.byteOffset,c=e.buffer;for(let l=0;l<a;){this.pos===t&&(V||j(s),this.compress(s,0,!1),V||j(s),this.pos=0);const h=Math.min(t-this.pos,a-l),d=o+l;if(h===t&&!(d%4)&&l+h<a){const g=new Uint32Array(c,d,Math.floor((a-l)/4));V||j(g);for(let b=0;l+t<a;b+=s.length,l+=t)this.length+=t,this.compress(g,b,!1);V||j(g);continue}i.set(e.subarray(l,l+h),this.pos),this.pos+=h,this.length+=h,l+=h}return this}digestInto(e){se(this),Ge(e,this);const{pos:t,buffer32:i}=this;this.finished=!0,this.buffer.subarray(t).fill(0),V||j(i),this.compress(i,0,!0),V||j(i);const s=R(e);this.get().forEach((a,o)=>s[o]=O(a))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const i=e.slice(0,t);return this.destroy(),i}_cloneInto(e){const{buffer:t,length:i,finished:s,destroyed:a,outputLen:o,pos:c}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.length=i,e.finished=s,e.destroyed=a,e.outputLen=o,e.buffer.set(t),e.pos=c,e}}const y=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),u=new Uint32Array(32);function T(r,e,t,i,s,a){const o=s[a],c=s[a+1];let l=u[2*r],h=u[2*r+1],d=u[2*e],g=u[2*e+1],b=u[2*t],S=u[2*t+1],m=u[2*i],w=u[2*i+1],A=p.add3L(l,d,o);h=p.add3H(A,h,g,c),l=A|0,{Dh:w,Dl:m}={Dh:w^h,Dl:m^l},{Dh:w,Dl:m}={Dh:p.rotr32H(w,m),Dl:p.rotr32L(w,m)},{h:S,l:b}=p.add(S,b,w,m),{Bh:g,Bl:d}={Bh:g^S,Bl:d^b},{Bh:g,Bl:d}={Bh:p.rotrSH(g,d,24),Bl:p.rotrSL(g,d,24)},u[2*r]=l,u[2*r+1]=h,u[2*e]=d,u[2*e+1]=g,u[2*t]=b,u[2*t+1]=S,u[2*i]=m,u[2*i+1]=w}function z(r,e,t,i,s,a){const o=s[a],c=s[a+1];let l=u[2*r],h=u[2*r+1],d=u[2*e],g=u[2*e+1],b=u[2*t],S=u[2*t+1],m=u[2*i],w=u[2*i+1],A=p.add3L(l,d,o);h=p.add3H(A,h,g,c),l=A|0,{Dh:w,Dl:m}={Dh:w^h,Dl:m^l},{Dh:w,Dl:m}={Dh:p.rotrSH(w,m,16),Dl:p.rotrSL(w,m,16)},{h:S,l:b}=p.add(S,b,w,m),{Bh:g,Bl:d}={Bh:g^S,Bl:d^b},{Bh:g,Bl:d}={Bh:p.rotrBH(g,d,63),Bl:p.rotrBL(g,d,63)},u[2*r]=l,u[2*r+1]=h,u[2*e]=d,u[2*e+1]=g,u[2*t]=b,u[2*t+1]=S,u[2*i]=m,u[2*i+1]=w}class rt extends tt{constructor(e={}){super(128,e.dkLen===void 0?64:e.dkLen,e,64,16,16),this.v0l=y[0]|0,this.v0h=y[1]|0,this.v1l=y[2]|0,this.v1h=y[3]|0,this.v2l=y[4]|0,this.v2h=y[5]|0,this.v3l=y[6]|0,this.v3h=y[7]|0,this.v4l=y[8]|0,this.v4h=y[9]|0,this.v5l=y[10]|0,this.v5h=y[11]|0,this.v6l=y[12]|0,this.v6h=y[13]|0,this.v7l=y[14]|0,this.v7h=y[15]|0;const t=e.key?e.key.length:0;if(this.v0l^=this.outputLen|t<<8|65536|1<<24,e.salt){const i=R(L(e.salt));this.v4l^=O(i[0]),this.v4h^=O(i[1]),this.v5l^=O(i[2]),this.v5h^=O(i[3])}if(e.personalization){const i=R(L(e.personalization));this.v6l^=O(i[0]),this.v6h^=O(i[1]),this.v7l^=O(i[2]),this.v7h^=O(i[3])}if(e.key){const i=new Uint8Array(this.blockLen);i.set(L(e.key)),this.update(i)}}get(){let{v0l:e,v0h:t,v1l:i,v1h:s,v2l:a,v2h:o,v3l:c,v3h:l,v4l:h,v4h:d,v5l:g,v5h:b,v6l:S,v6h:m,v7l:w,v7h:A}=this;return[e,t,i,s,a,o,c,l,h,d,g,b,S,m,w,A]}set(e,t,i,s,a,o,c,l,h,d,g,b,S,m,w,A){this.v0l=e|0,this.v0h=t|0,this.v1l=i|0,this.v1h=s|0,this.v2l=a|0,this.v2h=o|0,this.v3l=c|0,this.v3h=l|0,this.v4l=h|0,this.v4h=d|0,this.v5l=g|0,this.v5h=b|0,this.v6l=S|0,this.v6h=m|0,this.v7l=w|0,this.v7h=A|0}compress(e,t,i){this.get().forEach((l,h)=>u[h]=l),u.set(y,16);let{h:s,l:a}=p.fromBig(BigInt(this.length));u[24]=y[8]^a,u[25]=y[9]^s,i&&(u[28]=~u[28],u[29]=~u[29]);let o=0;const c=et;for(let l=0;l<12;l++)T(0,4,8,12,e,t+2*c[o++]),z(0,4,8,12,e,t+2*c[o++]),T(1,5,9,13,e,t+2*c[o++]),z(1,5,9,13,e,t+2*c[o++]),T(2,6,10,14,e,t+2*c[o++]),z(2,6,10,14,e,t+2*c[o++]),T(3,7,11,15,e,t+2*c[o++]),z(3,7,11,15,e,t+2*c[o++]),T(0,5,10,15,e,t+2*c[o++]),z(0,5,10,15,e,t+2*c[o++]),T(1,6,11,12,e,t+2*c[o++]),z(1,6,11,12,e,t+2*c[o++]),T(2,7,8,13,e,t+2*c[o++]),z(2,7,8,13,e,t+2*c[o++]),T(3,4,9,14,e,t+2*c[o++]),z(3,4,9,14,e,t+2*c[o++]);this.v0l^=u[0]^u[16],this.v0h^=u[1]^u[17],this.v1l^=u[2]^u[18],this.v1h^=u[3]^u[19],this.v2l^=u[4]^u[20],this.v2h^=u[5]^u[21],this.v3l^=u[6]^u[22],this.v3h^=u[7]^u[23],this.v4l^=u[8]^u[24],this.v4h^=u[9]^u[25],this.v5l^=u[10]^u[26],this.v5h^=u[11]^u[27],this.v6l^=u[12]^u[28],this.v6h^=u[13]^u[29],this.v7l^=u[14]^u[30],this.v7h^=u[15]^u[31],u.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Pt=Fe(r=>new rt(r)),ge=/^(?!.*(^(?!@)|[-.@])($|[-.@]))(?:[a-z0-9-]{0,63}(?:\.[a-z0-9-]{0,63})*)?@[a-z0-9-]{0,63}$/i,me=/^(?!.*(^|[-.])($|[-.]))(?:[a-z0-9-]{0,63}\.)+sui$/i,nt=235;function it(r){return r.length>nt?!1:r.includes("@")?ge.test(r):me.test(r)}function Nt(r,e="at"){const t=r.toLowerCase();let i;if(t.includes("@")){if(!ge.test(t))throw new Error(`Invalid SuiNS name ${r}`);const[s,a]=t.split("@");i=[...s?s.split("."):[],a]}else{if(!me.test(t))throw new Error(`Invalid SuiNS name ${r}`);i=t.split(".").slice(0,-1)}return e==="dot"?`${i.join(".")}.sui`:`${i.slice(0,-1).join(".")}@${i[i.length-1]}`}const st=/^([a-z0-9]+(?:-[a-z0-9]+)*)$/,at=/^\d+$/,ut=64,ot="/",lt=r=>{const e=r.split(ot);if(e.length<2||e.length>3)return!1;const[t,i,s]=e;return s!==void 0&&!at.test(s)||!it(t)?!1:st.test(i)&&i.length<ut},ct=32;function Lt(r){try{return G(r).length===ct}catch{return!1}}const te=32;function we(r){return ft(r)&&gt(r)===te}function _t(r){return we(r)}function dt(r){return r.includes("::")?ye(r):r}function ye(r){const[e,t]=r.split("::"),i=lt(e),s=r.slice(e.length+t.length+4),a=s.includes("<")?s.slice(0,s.indexOf("<")):s,o=s.includes("<")?le(s.slice(s.indexOf("<")+1,s.lastIndexOf(">"))).map(c=>dt(c.trim())):[];return{address:i?e:C(e),module:t,name:a,typeParams:o}}function ht(r){const{address:e,module:t,name:i,typeParams:s}=typeof r=="string"?ye(r):r,a=(s==null?void 0:s.length)>0?`<${s.map(o=>typeof o=="string"?o:ht(o)).join(",")}>`:"";return`${e}::${t}::${i}${a}`}function C(r,e=!1){let t=r.toLowerCase();return!e&&t.startsWith("0x")&&(t=t.slice(2)),`0x${t.padStart(te*2,"0")}`}function Rt(r,e=!1){return C(r,e)}function ft(r){return/^(0x|0X)?[a-fA-F0-9]+$/.test(r)&&r.length%2===0}function gt(r){return/^(0x|0X)/.test(r)?(r.length-2)/2:r.length/2}const mt=/^vector<(.+)>$/,wt=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;class M{static parseFromStr(e,t=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};const i=e.match(mt);if(i)return{vector:M.parseFromStr(i[1],t)};const s=e.match(wt);if(s)return{struct:{address:t?C(s[1]):s[1],module:s[2],name:s[3],typeParams:s[5]===void 0?[]:M.parseStructTypeArgs(s[5],t)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,t=!1){return le(e).map(i=>M.parseFromStr(i,t))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${M.tagToString(e.vector)}>`;if("struct"in e){const t=e.struct,i=t.typeParams.map(M.tagToString).join(", ");return`${t.address}::${t.module}::${t.name}${i?`<${i}>`:""}`}throw new Error("Invalid TypeTag")}}function yt(r){return n.u64({name:"unsafe_u64",...r}).transform({input:e=>e,output:e=>Number(e)})}function bt(r){return n.enum("Option",{None:null,Some:r})}const f=n.bytes(te).transform({validate:r=>{const e=typeof r=="string"?r:F(r);if(!e||!we(C(e)))throw new Error(`Invalid Sui address ${e}`)},input:r=>typeof r=="string"?oe(C(r)):r,output:r=>C(F(r))}),x=n.vector(n.u8()).transform({name:"ObjectDigest",input:r=>G(r),output:r=>ee(new Uint8Array(r)),validate:r=>{if(G(r).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),v=n.struct("SuiObjectRef",{objectId:f,version:n.u64(),digest:x}),be=n.struct("SharedObjectRef",{objectId:f,initialSharedVersion:n.u64(),mutable:n.bool()}),pe=n.enum("ObjectArg",{ImmOrOwnedObject:v,SharedObject:be,Receiving:v}),D=n.enum("Owner",{AddressOwner:f,ObjectOwner:f,Shared:n.struct("Shared",{initialSharedVersion:n.u64()}),Immutable:null,ConsensusV2:n.struct("ConsensusV2",{authenticator:n.enum("Authenticator",{SingleOwner:f}),startVersion:n.u64()})}),Se=n.enum("CallArg",{Pure:n.struct("Pure",{bytes:n.vector(n.u8()).transform({input:r=>typeof r=="string"?N(r):r,output:r=>$(new Uint8Array(r))})}),Object:pe}),re=n.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:n.lazy(()=>re),struct:n.lazy(()=>Ae),u16:null,u32:null,u256:null}),ne=re.transform({input:r=>typeof r=="string"?M.parseFromStr(r,!0):r,output:r=>M.tagToString(r)}),B=n.enum("Argument",{GasCoin:null,Input:n.u16(),Result:n.u16(),NestedResult:n.tuple([n.u16(),n.u16()])}),ve=n.struct("ProgrammableMoveCall",{package:f,module:n.string(),function:n.string(),typeArguments:n.vector(ne),arguments:n.vector(B)}),Ee=n.enum("Command",{MoveCall:ve,TransferObjects:n.struct("TransferObjects",{objects:n.vector(B),address:B}),SplitCoins:n.struct("SplitCoins",{coin:B,amounts:n.vector(B)}),MergeCoins:n.struct("MergeCoins",{destination:B,sources:n.vector(B)}),Publish:n.struct("Publish",{modules:n.vector(n.vector(n.u8()).transform({input:r=>typeof r=="string"?N(r):r,output:r=>$(new Uint8Array(r))})),dependencies:n.vector(f)}),MakeMoveVec:n.struct("MakeMoveVec",{type:bt(ne).transform({input:r=>r===null?{None:!0}:{Some:r},output:r=>r.Some??null}),elements:n.vector(B)}),Upgrade:n.struct("Upgrade",{modules:n.vector(n.vector(n.u8()).transform({input:r=>typeof r=="string"?N(r):r,output:r=>$(new Uint8Array(r))})),dependencies:n.vector(f),package:f,ticket:B})}),xe=n.struct("ProgrammableTransaction",{inputs:n.vector(Se),commands:n.vector(Ee)}),Be=n.enum("TransactionKind",{ProgrammableTransaction:xe,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),Ie=n.enum("TransactionExpiration",{None:null,Epoch:yt()}),Ae=n.struct("StructTag",{address:f,module:n.string(),name:n.string(),typeParams:n.vector(re)}),Oe=n.struct("GasData",{payment:n.vector(v),owner:f,price:n.u64(),budget:n.u64()}),Te=n.struct("TransactionDataV1",{kind:Be,sender:f,gasData:Oe,expiration:Ie}),ze=n.enum("TransactionData",{V1:Te}),Ue=n.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),Me=n.enum("IntentVersion",{V0:null}),De=n.enum("AppId",{Sui:null}),Ve=n.struct("Intent",{scope:Ue,version:Me,appId:De});function je(r){return n.struct(`IntentMessage<${r.name}>`,{intent:Ve,value:r})}const ke=n.enum("CompressedSignature",{ED25519:n.fixedArray(64,n.u8()),Secp256k1:n.fixedArray(64,n.u8()),Secp256r1:n.fixedArray(64,n.u8()),ZkLogin:n.vector(n.u8())}),Ce=n.enum("PublicKey",{ED25519:n.fixedArray(32,n.u8()),Secp256k1:n.fixedArray(33,n.u8()),Secp256r1:n.fixedArray(33,n.u8()),ZkLogin:n.vector(n.u8())}),$e=n.struct("MultiSigPkMap",{pubKey:Ce,weight:n.u8()}),Pe=n.struct("MultiSigPublicKey",{pk_map:n.vector($e),threshold:n.u16()}),pt=n.struct("MultiSig",{sigs:n.vector(ke),bitmap:n.u16(),multisig_pk:Pe}),St=n.vector(n.u8()).transform({input:r=>typeof r=="string"?N(r):r,output:r=>$(new Uint8Array(r))}),Ne=n.struct("SenderSignedTransaction",{intentMessage:je(ze),txSignatures:n.vector(St)}),vt=n.vector(Ne,{name:"SenderSignedData"}),Et=n.struct("PasskeyAuthenticator",{authenticatorData:n.vector(n.u8()),clientDataJson:n.string(),userSignature:n.vector(n.u8())}),xt=n.enum("PackageUpgradeError",{UnableToFetchPackage:n.struct("UnableToFetchPackage",{packageId:f}),NotAPackage:n.struct("NotAPackage",{objectId:f}),IncompatibleUpgrade:null,DigestDoesNotMatch:n.struct("DigestDoesNotMatch",{digest:n.vector(n.u8())}),UnknownUpgradePolicy:n.struct("UnknownUpgradePolicy",{policy:n.u8()}),PackageIDDoesNotMatch:n.struct("PackageIDDoesNotMatch",{packageId:f,ticketId:f})}),Bt=n.struct("ModuleId",{address:f,name:n.string()}),ae=n.struct("MoveLocation",{module:Bt,function:n.u16(),instruction:n.u16(),functionName:n.option(n.string())}),It=n.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:n.struct("IndexOutOfBounds",{idx:n.u16()}),SecondaryIndexOutOfBounds:n.struct("SecondaryIndexOutOfBounds",{resultIdx:n.u16(),secondaryIdx:n.u16()}),InvalidResultArity:n.struct("InvalidResultArity",{resultIdx:n.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),At=n.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),Ot=n.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:n.struct("MoveObjectTooBig",{objectSize:n.u64(),maxObjectSize:n.u64()}),MovePackageTooBig:n.struct("MovePackageTooBig",{objectSize:n.u64(),maxObjectSize:n.u64()}),CircularObjectOwnership:n.struct("CircularObjectOwnership",{object:f}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:n.option(ae),MoveAbort:n.tuple([ae,n.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:n.struct("CommandArgumentError",{argIdx:n.u16(),kind:It}),TypeArgumentError:n.struct("TypeArgumentError",{argumentIdx:n.u16(),kind:At}),UnusedValueWithoutDrop:n.struct("UnusedValueWithoutDrop",{resultIdx:n.u16(),secondaryIdx:n.u16()}),InvalidPublicFunctionReturnType:n.struct("InvalidPublicFunctionReturnType",{idx:n.u16()}),InvalidTransferObject:null,EffectsTooLarge:n.struct("EffectsTooLarge",{currentSize:n.u64(),maxSize:n.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:n.struct("PackageUpgradeError",{upgradeError:xt}),WrittenObjectsTooLarge:n.struct("WrittenObjectsTooLarge",{currentSize:n.u64(),maxSize:n.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:n.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:n.vector(f)}),AddressDeniedForCoin:n.struct("AddressDeniedForCoin",{address:f,coinType:n.string()}),CoinTypeGlobalPause:n.struct("CoinTypeGlobalPause",{coinType:n.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),Le=n.enum("ExecutionStatus",{Success:null,Failed:n.struct("ExecutionFailed",{error:Ot,command:n.option(n.u64())})}),_e=n.struct("GasCostSummary",{computationCost:n.u64(),storageCost:n.u64(),storageRebate:n.u64(),nonRefundableStorageFee:n.u64()}),Tt=n.struct("TransactionEffectsV1",{status:Le,executedEpoch:n.u64(),gasUsed:_e,modifiedAtVersions:n.vector(n.tuple([f,n.u64()])),sharedObjects:n.vector(v),transactionDigest:x,created:n.vector(n.tuple([v,D])),mutated:n.vector(n.tuple([v,D])),unwrapped:n.vector(n.tuple([v,D])),deleted:n.vector(v),unwrappedThenDeleted:n.vector(v),wrapped:n.vector(v),gasObject:n.tuple([v,D]),eventsDigest:n.option(x),dependencies:n.vector(x)}),ie=n.tuple([n.u64(),x]),zt=n.enum("ObjectIn",{NotExist:null,Exist:n.tuple([ie,D])}),Ut=n.enum("ObjectOut",{NotExist:null,ObjectWrite:n.tuple([x,D]),PackageWrite:ie}),Mt=n.enum("IDOperation",{None:null,Created:null,Deleted:null}),Dt=n.struct("EffectsObjectChange",{inputState:zt,outputState:Ut,idOperation:Mt}),Vt=n.enum("UnchangedSharedKind",{ReadOnlyRoot:ie,MutateDeleted:n.u64(),ReadDeleted:n.u64(),Cancelled:n.u64(),PerEpochConfig:null}),jt=n.struct("TransactionEffectsV2",{status:Le,executedEpoch:n.u64(),gasUsed:_e,transactionDigest:x,gasObjectIndex:n.option(n.u32()),eventsDigest:n.option(x),dependencies:n.vector(x),lamportVersion:n.u64(),changedObjects:n.vector(n.tuple([f,Dt])),unchangedSharedObjects:n.vector(n.tuple([f,Vt])),auxDataDigest:n.option(x)}),kt=n.enum("TransactionEffects",{V1:Tt,V2:jt}),Gt={...n,U8:n.u8(),U16:n.u16(),U32:n.u32(),U64:n.u64(),U128:n.u128(),U256:n.u256(),ULEB128:n.uleb128(),Bool:n.bool(),String:n.string(),Address:f,AppId:De,Argument:B,CallArg:Se,Command:Ee,CompressedSignature:ke,GasData:Oe,Intent:Ve,IntentMessage:je,IntentScope:Ue,IntentVersion:Me,MultiSig:pt,MultiSigPkMap:$e,MultiSigPublicKey:Pe,ObjectArg:pe,ObjectDigest:x,Owner:D,PasskeyAuthenticator:Et,ProgrammableMoveCall:ve,ProgrammableTransaction:xe,PublicKey:Ce,SenderSignedData:vt,SenderSignedTransaction:Ne,SharedObjectRef:be,StructTag:Ae,SuiObjectRef:v,TransactionData:ze,TransactionDataV1:Te,TransactionEffects:kt,TransactionExpiration:Ie,TransactionKind:Be,TypeTag:ne};export{f as A,te as S,M as T,n as a,Pt as b,F as c,oe as d,Rt as e,N as f,$t as g,ee as h,we as i,ht as j,_t as k,Lt as l,G as m,C as n,Nt as o,ye as p,Gt as s,$ as t};
