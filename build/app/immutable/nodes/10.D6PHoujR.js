import{t as R,a as M}from"../chunks/XdHx9Q2R.js";import{p as qr,d as D,a as Fr,s as q,c as A,b as G,g as k,r as B,f as Wr,t as ar,aj as Yr}from"../chunks/CsqGFeDh.js";import{s as Hr}from"../chunks/C-G1gKjH.js";import{i as I}from"../chunks/9_3Cu2be.js";import{s as W,r as Qr}from"../chunks/CYIbFpwj.js";import{d as Ir}from"../chunks/DCCTpnlQ.js";import{t as Vr,s as Jr}from"../chunks/D6f8Syou.js";import{b as Kr}from"../chunks/BoKxmPir.js";import{s as Zr,a as dr}from"../chunks/GeWgIBjc.js";import{H as rt}from"../chunks/CoumpVV1.js";import{j as Tr,r as tt,d as et,c as Ar,w as at,e as nt}from"../chunks/0wNmbcRK.js";import{c as ot}from"../chunks/Cu79Pbua.js";import{P as jr}from"../chunks/DcZVe53u.js";import{o as it}from"../chunks/BcPiOdGB.js";import"../chunks/B4RgVR4h.js";import{g as st}from"../chunks/_E2WR0Wd.js";import{c as F}from"../chunks/D0YAcCpT.js";const lt=async()=>{let f="",d="";Tr.subscribe(l=>f=l);try{return[await(await fetch(`${jr}/profile`,{method:"GET",headers:{Authorization:`Bearer ${f}`}})).json(),null]}catch(l){return d=l,[null,d]}};var hr={},gr={exports:{}};gr.exports;(function(f){(function(d,l,w){function v(r){var a=this,n=o();a.next=function(){var t=2091639*a.s0+a.c*23283064365386963e-26;return a.s0=a.s1,a.s1=a.s2,a.s2=t-(a.c=t|0)},a.c=1,a.s0=n(" "),a.s1=n(" "),a.s2=n(" "),a.s0-=n(r),a.s0<0&&(a.s0+=1),a.s1-=n(r),a.s1<0&&(a.s1+=1),a.s2-=n(r),a.s2<0&&(a.s2+=1),n=null}function p(r,a){return a.c=r.c,a.s0=r.s0,a.s1=r.s1,a.s2=r.s2,a}function h(r,a){var n=new v(r),t=a&&a.state,e=n.next;return e.int32=function(){return n.next()*4294967296|0},e.double=function(){return e()+(e()*2097152|0)*11102230246251565e-32},e.quick=e,t&&(typeof t=="object"&&p(t,n),e.state=function(){return p(n,{})}),e}function o(){var r=4022871197,a=function(n){n=String(n);for(var t=0;t<n.length;t++){r+=n.charCodeAt(t);var e=.02519603282416938*r;r=e>>>0,e-=r,e*=r,r=e>>>0,e-=r,r+=e*4294967296}return(r>>>0)*23283064365386963e-26};return a}l&&l.exports?l.exports=h:this.alea=h})(F,f)})(gr);var ct=gr.exports,mr={exports:{}};mr.exports;(function(f){(function(d,l,w){function v(o){var r=this,a="";r.x=0,r.y=0,r.z=0,r.w=0,r.next=function(){var t=r.x^r.x<<11;return r.x=r.y,r.y=r.z,r.z=r.w,r.w^=r.w>>>19^t^t>>>8},o===(o|0)?r.x=o:a+=o;for(var n=0;n<a.length+64;n++)r.x^=a.charCodeAt(n)|0,r.next()}function p(o,r){return r.x=o.x,r.y=o.y,r.z=o.z,r.w=o.w,r}function h(o,r){var a=new v(o),n=r&&r.state,t=function(){return(a.next()>>>0)/4294967296};return t.double=function(){do var e=a.next()>>>11,i=(a.next()>>>0)/4294967296,s=(e+i)/(1<<21);while(s===0);return s},t.int32=a.next,t.quick=t,n&&(typeof n=="object"&&p(n,a),t.state=function(){return p(a,{})}),t}l&&l.exports?l.exports=h:this.xor128=h})(F,f)})(mr);var ut=mr.exports,yr={exports:{}};yr.exports;(function(f){(function(d,l,w){function v(o){var r=this,a="";r.next=function(){var t=r.x^r.x>>>2;return r.x=r.y,r.y=r.z,r.z=r.w,r.w=r.v,(r.d=r.d+362437|0)+(r.v=r.v^r.v<<4^(t^t<<1))|0},r.x=0,r.y=0,r.z=0,r.w=0,r.v=0,o===(o|0)?r.x=o:a+=o;for(var n=0;n<a.length+64;n++)r.x^=a.charCodeAt(n)|0,n==a.length&&(r.d=r.x<<10^r.x>>>4),r.next()}function p(o,r){return r.x=o.x,r.y=o.y,r.z=o.z,r.w=o.w,r.v=o.v,r.d=o.d,r}function h(o,r){var a=new v(o),n=r&&r.state,t=function(){return(a.next()>>>0)/4294967296};return t.double=function(){do var e=a.next()>>>11,i=(a.next()>>>0)/4294967296,s=(e+i)/(1<<21);while(s===0);return s},t.int32=a.next,t.quick=t,n&&(typeof n=="object"&&p(n,a),t.state=function(){return p(a,{})}),t}l&&l.exports?l.exports=h:this.xorwow=h})(F,f)})(yr);var ft=yr.exports,wr={exports:{}};wr.exports;(function(f){(function(d,l,w){function v(o){var r=this;r.next=function(){var n=r.x,t=r.i,e,i;return e=n[t],e^=e>>>7,i=e^e<<24,e=n[t+1&7],i^=e^e>>>10,e=n[t+3&7],i^=e^e>>>3,e=n[t+4&7],i^=e^e<<7,e=n[t+7&7],e=e^e<<13,i^=e^e<<9,n[t]=i,r.i=t+1&7,i};function a(n,t){var e,i=[];if(t===(t|0))i[0]=t;else for(t=""+t,e=0;e<t.length;++e)i[e&7]=i[e&7]<<15^t.charCodeAt(e)+i[e+1&7]<<13;for(;i.length<8;)i.push(0);for(e=0;e<8&&i[e]===0;++e);for(e==8?i[7]=-1:i[e],n.x=i,n.i=0,e=256;e>0;--e)n.next()}a(r,o)}function p(o,r){return r.x=o.x.slice(),r.i=o.i,r}function h(o,r){o==null&&(o=+new Date);var a=new v(o),n=r&&r.state,t=function(){return(a.next()>>>0)/4294967296};return t.double=function(){do var e=a.next()>>>11,i=(a.next()>>>0)/4294967296,s=(e+i)/(1<<21);while(s===0);return s},t.int32=a.next,t.quick=t,n&&(n.x&&p(n,a),t.state=function(){return p(a,{})}),t}l&&l.exports?l.exports=h:this.xorshift7=h})(F,f)})(wr);var vt=wr.exports,br={exports:{}};br.exports;(function(f){(function(d,l,w){function v(o){var r=this;r.next=function(){var n=r.w,t=r.X,e=r.i,i,s;return r.w=n=n+1640531527|0,s=t[e+34&127],i=t[e=e+1&127],s^=s<<13,i^=i<<17,s^=s>>>15,i^=i>>>12,s=t[e]=s^i,r.i=e,s+(n^n>>>16)|0};function a(n,t){var e,i,s,b,L,g=[],O=128;for(t===(t|0)?(i=t,t=null):(t=t+"\0",i=0,O=Math.max(O,t.length)),s=0,b=-32;b<O;++b)t&&(i^=t.charCodeAt((b+32)%t.length)),b===0&&(L=i),i^=i<<10,i^=i>>>15,i^=i<<4,i^=i>>>13,b>=0&&(L=L+1640531527|0,e=g[b&127]^=i+L,s=e==0?s+1:0);for(s>=128&&(g[(t&&t.length||0)&127]=-1),s=127,b=4*128;b>0;--b)i=g[s+34&127],e=g[s=s+1&127],i^=i<<13,e^=e<<17,i^=i>>>15,e^=e>>>12,g[s]=i^e;n.w=L,n.X=g,n.i=s}a(r,o)}function p(o,r){return r.i=o.i,r.w=o.w,r.X=o.X.slice(),r}function h(o,r){o==null&&(o=+new Date);var a=new v(o),n=r&&r.state,t=function(){return(a.next()>>>0)/4294967296};return t.double=function(){do var e=a.next()>>>11,i=(a.next()>>>0)/4294967296,s=(e+i)/(1<<21);while(s===0);return s},t.int32=a.next,t.quick=t,n&&(n.X&&p(n,a),t.state=function(){return p(a,{})}),t}l&&l.exports?l.exports=h:this.xor4096=h})(F,f)})(br);var pt=br.exports,_r={exports:{}};_r.exports;(function(f){(function(d,l,w){function v(o){var r=this,a="";r.next=function(){var t=r.b,e=r.c,i=r.d,s=r.a;return t=t<<25^t>>>7^e,e=e-i|0,i=i<<24^i>>>8^s,s=s-t|0,r.b=t=t<<20^t>>>12^e,r.c=e=e-i|0,r.d=i<<16^e>>>16^s,r.a=s-t|0},r.a=0,r.b=0,r.c=-1640531527,r.d=1367130551,o===Math.floor(o)?(r.a=o/4294967296|0,r.b=o|0):a+=o;for(var n=0;n<a.length+20;n++)r.b^=a.charCodeAt(n)|0,r.next()}function p(o,r){return r.a=o.a,r.b=o.b,r.c=o.c,r.d=o.d,r}function h(o,r){var a=new v(o),n=r&&r.state,t=function(){return(a.next()>>>0)/4294967296};return t.double=function(){do var e=a.next()>>>11,i=(a.next()>>>0)/4294967296,s=(e+i)/(1<<21);while(s===0);return s},t.int32=a.next,t.quick=t,n&&(typeof n=="object"&&p(n,a),t.state=function(){return p(a,{})}),t}l&&l.exports?l.exports=h:this.tychei=h})(F,f)})(_r);var xt=_r.exports,Pr={exports:{}};(function(f){(function(d,l,w){var v=256,p=6,h=52,o="random",r=w.pow(v,p),a=w.pow(2,h),n=a*2,t=v-1,e;function i(c,x,_){var y=[];x=x==!0?{entropy:!0}:x||{};var m=g(L(x.entropy?[c,Y(l)]:c??O(),3),y),T=new s(y),S=function(){for(var C=T.g(p),z=r,P=0;C<a;)C=(C+P)*v,z*=v,P=T.g(1);for(;C>=n;)C/=2,z/=2,P>>>=1;return(C+P)/z};return S.int32=function(){return T.g(4)|0},S.quick=function(){return T.g(4)/4294967296},S.double=S,g(Y(T.S),l),(x.pass||_||function(C,z,P,E){return E&&(E.S&&b(E,T),C.state=function(){return b(T,{})}),P?(w[o]=C,z):C})(S,m,"global"in x?x.global:this==w,x.state)}function s(c){var x,_=c.length,y=this,m=0,T=y.i=y.j=0,S=y.S=[];for(_||(c=[_++]);m<v;)S[m]=m++;for(m=0;m<v;m++)S[m]=S[T=t&T+c[m%_]+(x=S[m])],S[T]=x;(y.g=function(C){for(var z,P=0,E=y.i,u=y.j,H=y.S;C--;)z=H[E=t&E+1],P=P*v+H[t&(H[E]=H[u=t&u+z])+(H[u]=z)];return y.i=E,y.j=u,P})(v)}function b(c,x){return x.i=c.i,x.j=c.j,x.S=c.S.slice(),x}function L(c,x){var _=[],y=typeof c,m;if(x&&y=="object")for(m in c)try{_.push(L(c[m],x-1))}catch{}return _.length?_:y=="string"?c:c+"\0"}function g(c,x){for(var _=c+"",y,m=0;m<_.length;)x[t&m]=t&(y^=x[t&m]*19)+_.charCodeAt(m++);return Y(x)}function O(){try{var c;return e&&(c=e.randomBytes)?c=c(v):(c=new Uint8Array(v),(d.crypto||d.msCrypto).getRandomValues(c)),Y(c)}catch{var x=d.navigator,_=x&&x.plugins;return[+new Date,d,_,d.screen,Y(l)]}}function Y(c){return String.fromCharCode.apply(0,c)}if(g(w.random(),l),f.exports){f.exports=i;try{e=tt}catch{}}else w["seed"+o]=i})(typeof self<"u"?self:F,[],Math)})(Pr);var dt=Pr.exports,ht=ct,gt=ut,mt=ft,yt=vt,wt=pt,bt=xt,V=dt;V.alea=ht;V.xor128=gt;V.xorwow=mt;V.xorshift7=yt;V.xor4096=wt;V.tychei=bt;var _t=V,kt=F&&F.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(hr,"__esModule",{value:!0});var Mr=hr.AvatarGenerator=void 0,Br=kt(_t),St=function(){function f(){}return f.prototype.generateRandomAvatar=function(d){var l=new Array;l.push("NoHair","Eyepatch","Hat","Hijab","Turban","WinterHat1","WinterHat2","WinterHat3","WinterHat4","LongHairBigHair","LongHairBob","LongHairBun","LongHairCurly","LongHairCurvy","LongHairDreads","LongHairFrida","LongHairFro","LongHairFroBand","LongHairNotTooLong","LongHairShavedSides","LongHairMiaWallace","LongHairStraight","LongHairStraight2","LongHairStraightStrand","ShortHairDreads01","ShortHairDreads02","ShortHairFrizzle","ShortHairShaggyMullet","ShortHairShortCurly","ShortHairShortFlat","ShortHairShortRound","ShortHairShortWaved","ShortHairSides","ShortHairTheCaesar","ShortHairTheCaesarSidePart");var w=new Array;w.push("Blank","Kurt","Prescription01","Prescription02","Round","Sunglasses","Wayfarers");var v=new Array;v.push("Blank","BeardMedium","BeardLight","BeardMagestic","MoustacheFancy","MoustacheMagnum");var p=new Array;p.push("Auburn","Black","Blonde","BlondeGolden","Brown","BrownDark","Platinum","Red");var h=new Array;h.push("BlazerShirt","BlazerSweater","CollarSweater","GraphicShirt","Hoodie","Overall","ShirtCrewNeck","ShirtScoopNeck","ShirtVNeck");var o=new Array;o.push("Close","Cry","Default","Dizzy","EyeRoll","Happy","Hearts","Side","Squint","Surprised","Wink","WinkWacky");var r=new Array;r.push("Angry","AngryNatural","Default","DefaultNatural","FlatNatural","RaisedExcited","RaisedExcitedNatural","SadConcerned","SadConcernedNatural","UnibrowNatural","UpDown","UpDownNatural");var a=new Array;a.push("Concerned","Default","Disbelief","Eating","Grimace","Sad","ScreamOpen","Serious","Smile","Tongue","Twinkle","Vomit");var n=new Array;n.push("Tanned","Yellow","Pale","Light","Brown","DarkBrown","Black");var t=new Array;t.push("Auburn","Black","Blonde","BlondeGolden","Brown","BrownDark","PastelPink","Platinum","Red","SilverGray");var e=new Array;e.push("Black","Blue01","Blue02","Blue03","Gray01","Gray02","Heather","PastelBlue","PastelGreen","PastelOrange","PastelRed","PastelYellow","Pink","Red","White");var i=new Array;i.push("Black","Blue01","Blue02","Blue03","Gray01","Gray02","Heather","PastelBlue","PastelGreen","PastelOrange","PastelRed","PastelYellow","Pink","Red","White");var s=d?Br.default(d):Br.default();return"https://avataaars.io/?accessoriesType="+w[Math.floor(s()*w.length)]+"&avatarStyle=Circle&clotheColor="+i[Math.floor(s()*i.length)]+"&clotheType="+h[Math.floor(s()*h.length)]+"&eyeType="+o[Math.floor(s()*o.length)]+"&eyebrowType="+r[Math.floor(s()*r.length)]+"&facialHairColor="+p[Math.floor(s()*p.length)]+"&facialHairType="+v[Math.floor(s()*v.length)]+"&hairColor="+t[Math.floor(s()*t.length)]+"&hatColor="+e[Math.floor(s()*e.length)]+"&mouthType="+a[Math.floor(s()*a.length)]+"&skinColor="+n[Math.floor(s()*n.length)]+"&topType="+l[Math.floor(s()*l.length)]},f}();Mr=hr.AvatarGenerator=St;const Ct=(f,d,l)=>{navigator.clipboard.writeText(d()),D(l,!0),setTimeout(()=>D(l,!1),1500)};var Ht=R('<p class="text-[10px] absolute top-[100px] font-medium">Copied!!</p>'),At=R('<img alt="aptos token" class="w-28 flex items-center mx-2 mb-4">'),Bt=R('<img alt="profile" class="w-32 h-32 rounded-full object-center flex items-center mx-2 mb-4">'),Tt=R('<img alt="profile" class="w-32 h-32 rounded-full object-center flex items-center mx-2 mb-4">'),jt=R('<img alt="aptos token" class="w-32 h-32 rounded-full object-center flex items-center mx-2 mb-4">'),Pt=R('<img alt="QR Code">'),Mt=R("<p>Generating QR code...</p>"),Gt=(f,d)=>D(d,!0),Dt=R('<div class="flex flex-col justify-evenly items-center mb-[15%] dark:text-white"><!> <div class="flex justify-center"><span class="text-2xl font-semibold text-center"> </span></div></div> <div class="flex w-full flex-col items-center"><div class="flex items-center justify-center space-x-5 mb-4 w-[55%] h-[36px] rounded-full border border-[#263238] dark:border-[#11D9C5] overflow-hidden"><h3 class="font-semibold text-center text-sm text-black dark:text-white"> </h3> <button><img alt="copy"></button></div> <input type="checkbox" id="my-modal-3" class="modal-toggle"> <div class="modal"><div class="modal-box relative dark:bg-gray-800 dark:text-gray-100"><label for="my-modal-3" class="btn btn-sm btn-circle absolute right-2 top-2">✕</label> <h3 class="text-lg font-bold">Your wallet Address QR Code!</h3> <div class="py-4 ml-24"><!></div></div></div> <button class="mx-auto w-[55%] h-[36px] primary-button">Edit</button></div>',1),Rt=(f,d)=>D(d,!1),Lt=R('<div class="dark:bg-[#222944] w-[100%] py-[32px] px-[26px] h-[308px] rounded-[10px] mx-auto shadow-sm shadow-appAsh dark:shadow-appGray dark:text-white"><h1 class="text-2xl semiBold">Edit you profile</h1> <br> <div class="mb-[8%]"><label for="userName" class="text-xs opacity-70 text-left">Enter name</label> <input name="userName" type="text" class="secondary-input border-opacity-40 w-full"></div>  <br> <div class="flex w-full justify-between mt-[5%]"><button class="secondary-button h-[36px] w-[100px]">Cancel</button> <button class="primary-button h-[36px] w-[100px]">Save</button></div></div>'),zt=R('<div class="w-[80%] mx-auto flex flex-col items-center rounded-lg py-12"><!> <!></div>'),Et=R('<div class="h-[450px] flex flex-col justify-center"><a class="mt-12 text-center text-2xl font-bold text-[#263238] dark:text-white" href="/onboarding">Create a wallet to access this page🙂</a></div>'),Nt=R('<div class="bg-white text-black relative dark:bg-[#171C2F] dark:text-white"><!> <br> <!></div>');function ae(f,d){qr(d,!0);const[l,w]=Zr(),v=()=>dr(Ar,"$avatar",l),p=()=>dr(at,"$walletAddress",l),h=()=>dr(Tr,"$jwtToken",l);let o=q(!1),r=q(""),a="",n=q(""),t=q(""),e=q(!1),i,s,b=q("..."),L=q(!1),g="",O=q(""),Y="/avatar.png",c=q(void 0);et.subscribe(u=>D(c,u,!0));let x=Yr(()=>k(c)?"/dark_copy.svg":"light_copy.svg");const _=()=>{if(v()!=="")return;const u=new Mr;Ar.set(u.generateRandomAvatar(p()))};async function y(){D(O,await st(p()),!0)}const m=async()=>{var $,J,rr;const[u,H]=await lt();D(n,($=u==null?void 0:u.payload)==null?void 0:$.name,!0),D(t,(J=u==null?void 0:u.payload)==null?void 0:J.profilePictureUrl,!0),console.log(u,H),H?g=p():g=(rr=u==null?void 0:u.payload)==null?void 0:rr.walletAddress,D(b,`${g==null?void 0:g.substring(0,3)}...${g==null?void 0:g.substring((g==null?void 0:g.length)-3)}`)},T=async()=>{try{let u=k(r).trim(),H=a.trim(),$=new Headers;$.append("Authorization",`Bearer ${h()}`),$.append("Content-Type","application/json");let J=JSON.stringify({name:u});(await fetch(`${jr}/profile`,{method:"PATCH",headers:$,body:J})).status!==200&&(s="Failed to update the profile")}catch(u){console.error(u)}finally{await m(),D(o,!1)}};it(async()=>{await m(),_(),y(),console.log(i),await(async u=>D(L,u[0],!0))(await ot())});var S=Nt(),C=A(S);rt(C,{});var z=G(C,4);{var P=u=>{var H=zt(),$=A(H);{var J=N=>{var U=Ht();Vr(5,U,()=>Jr,()=>({duration:200})),M(N,U)};I($,N=>{k(e)&&N(J)})}var rr=G($,2);{var Gr=N=>{var U=Dt(),Q=Wr(U),tr=A(Q);{var nr=j=>{var X=At();ar(()=>W(X,"src",v())),M(j,X)},or=(j,X)=>{{var $r=K=>{var lr=Bt();ar(xr=>W(lr,"src",xr),[()=>`https://nftstorage.link/ipfs/${nt(k(t))}`]),M(K,lr)},Ur=(K,lr)=>{{var xr=Z=>{var er=Tt();ar(()=>W(er,"src",k(t))),M(Z,er)},Xr=Z=>{var er=jt();W(er,"src",Y),M(Z,er)};I(K,Z=>{k(t).includes("ipfs")?Z(Xr,!1):Z(xr)},lr)}};I(j,K=>{k(t).includes("ipfs")?K($r):K(Ur,!1)},X)}};I(tr,j=>{!k(t)&&v()?j(nr):j(or,!1)})}var ir=G(tr,2),sr=A(ir),Rr=A(sr,!0);B(sr),B(ir),B(Q);var kr=G(Q,2),cr=A(kr),ur=A(cr),Lr=A(ur,!0);B(ur);var fr=G(ur,2);fr.__click=[Ct,p,e];var vr=A(fr);W(vr,"width",16),W(vr,"height",16),B(fr),B(cr);var pr=G(cr,4),Sr=A(pr),Cr=G(A(Sr),4),zr=A(Cr);{var Er=j=>{var X=Pt();ar(()=>W(X,"src",k(O))),M(j,X)},Nr=j=>{var X=Mt();M(j,X)};I(zr,j=>{k(O)?j(Er):j(Nr,!1)})}B(Cr),B(Sr),B(pr);var Or=G(pr,2);Or.__click=[Gt,o],B(kr),ar(()=>{Hr(Rr,k(n)??"Your Profile"),Hr(Lr,k(b)),W(vr,"src",k(x))}),M(N,U)},Dr=N=>{var U=Lt(),Q=G(A(U),4),tr=G(A(Q),2);Qr(tr),B(Q);var nr=G(Q,4),or=A(nr);or.__click=[Rt,o];var ir=G(or,2);ir.__click=T,B(nr),B(U),Kr(tr,()=>k(r),sr=>D(r,sr)),M(N,U)};I(rr,N=>{k(o)?N(Dr,!1):N(Gr)})}B(H),M(u,H)},E=u=>{var H=Et();M(u,H)};I(z,u=>{k(L)?u(P):u(E,!1)})}B(S),M(f,S),Fr(),w()}Ir(["click"]);export{ae as component};
