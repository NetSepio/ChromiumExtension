var Ws=Object.defineProperty;var qs=(s,e,t)=>e in s?Ws(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var Kt=(s,e,t)=>qs(s,typeof e!="symbol"?e+"":e,t);import{c as Ls,a as U,t as z,n as ps}from"../chunks/XdHx9Q2R.js";import"../chunks/B4RgVR4h.js";import{p as mt,d as q,f as zs,a as yt,s as ie,g as v,c as O,b as M,r as k,t as Be,aj as pt,z as Gs}from"../chunks/CsqGFeDh.js";import{d as Rt}from"../chunks/DCCTpnlQ.js";import{i as Oe}from"../chunks/9_3Cu2be.js";import{s as gt}from"../chunks/CEKie2dh.js";import{o as Pt}from"../chunks/BcPiOdGB.js";import{s as rt}from"../chunks/C-G1gKjH.js";import{s as G}from"../chunks/CYIbFpwj.js";import{t as Fs,f as Js}from"../chunks/D6f8Syou.js";import{p as Ut}from"../chunks/CcAKcgaM.js";import{d as Hs,h as hs,w as Nt,i as Ks}from"../chunks/0wNmbcRK.js";import{g as Zs}from"../chunks/_E2WR0Wd.js";import{e as fs,i as gs}from"../chunks/B4K1HdnT.js";import{f as Ys,C as Qs}from"../chunks/C9EU6mZ1.js";import{L as Xs}from"../chunks/BKUzuBl2.js";import{e as Zt}from"../chunks/C_hR8wQP.js";import{A as er,a as pe,n as $,i as Re,e as ke,t as fe,f as Te,T as Bt,s as g,b as bs,c as ms,g as Dt,h as tr,p as sr,j as xt,S as rr,k as lt,l as Yt,m as nr,o as ir}from"../chunks/Dmwvy2AT.js";import{H as ar}from"../chunks/CoumpVV1.js";function Qe(s){switch(s){case"u8":return pe.u8();case"u16":return pe.u16();case"u32":return pe.u32();case"u64":return pe.u64();case"u128":return pe.u128();case"u256":return pe.u256();case"bool":return pe.bool();case"string":return pe.string();case"id":case"address":return er}const e=s.match(/^(vector|option)<(.+)>$/);if(e){const[t,r]=e.slice(1);return t==="vector"?pe.vector(Qe(r)):pe.option(Qe(r))}throw new Error(`Invalid Pure type name: ${s}`)}class or extends Error{}async function cr({host:s,path:e,body:t,headers:r,method:n}){const i=new URL(e,s).toString(),a=await fetch(i,{method:n,body:t?JSON.stringify(t):void 0,headers:{"Content-Type":"application/json",...r||{}}});if(a.status===429)throw new or("Too many requests from this client have been sent to the faucet. Please retry later");try{return await a.json()}catch(o){throw new Error(`Encountered error when parsing response from faucet, error: ${o}, status ${a.status}, response ${a}`)}}async function ur(s){const e=await cr({host:s.host,path:"/gas",body:{FixedAmountRequest:{recipient:s.recipient}},headers:s.headers,method:"POST"});if(e.error)throw new Error(`Faucet request failed: ${e.error}`);return e}function lr(s){switch(s){case"testnet":return"https://faucet.testnet.sui.io";case"devnet":return"https://faucet.devnet.sui.io";case"localnet":return"http://127.0.0.1:9123";default:throw new Error(`Unknown network: ${s}`)}}const dr=(s,e,t)=>{navigator.clipboard.writeText(v(e)),q(t,!0),setTimeout(()=>q(t,!1),1500)};async function pr(s,e,t){q(e,await Zs(v(t)),!0)}async function hr(s,e){await ur({host:lr("devnet"),recipient:v(e)})}var fr=z('<p class="text-[10px] mx-auto absolute top-[10px] font-medium">Copied!!</p>'),gr=(s,e)=>q(e,""),br=z('<img alt="QR Code" class="w-[80%] mx-auto rounded-lg bg-transparent">'),mr=z("<p>Generating QR code...</p>"),yr=z('<div class="absolute top-[80px] flex flex-col items-center justify-start z-20 w-[351px] h-[520px] bg-[#F6F8FD] left-0 dark:bg-dark"><!> <div class="flex h-[75%] relative justify-between headerShadow py-[4%] bg-white mt-[15%] dark:bg-[#222944] rounded-lg w-[80%] flex-col items-center"><h4 class="text-lg">Receive</h4> <button class="btn outline-none btn-sm btn-circle bg-transparent border-none text-appPink absolute right-2 top-2">✕</button> <div><!></div> <div class="flex flex-row-reverse w-[80%] border rounded-md border-secondary dark:border-action justify-between p-[3%]"><button class="active:scale-90"><img alt="copy"></button> <p class="text-sm"> </p></div></div></div>'),vr=(s,e)=>q(e,!v(e)),wr=z('<div class="flex flex-col h-[50%] justify-around py-[5%] items-center"><button class="flex self-end relative bottom-2 mr-4 space-x-1 items-center"><div class="w-2 h-2 rounded-full bg-green-500"></div> <p class="text-xs capitalize">Devnet</p></button> <img alt="Netsepio" class="h-16 w-16 object-cover"> <h3 class="text-[22px] semiBold text-center"> </h3> <div class="flex w-max mx-auto space-x-5 items-center"><a class="flex h-[28px] hover:scale-95 active:scale-100 duration-150 gap-2 bg-secondary dark:bg-action dark:border-[#11D9C5] items-center justify-center rounded-full w-[81px]"><p class="font-medium dark:font-semibold text-[10px] dark:text-secondary text-white">Send</p> <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M8.47084 1.5292C8.39202 1.45094 8.29315 1.39592 8.18509 1.37019C8.07704 1.34446 7.96398 1.34902 7.85834 1.38337L1.76251 3.4167C1.64946 3.45252 1.54956 3.52105 1.47542 3.61361C1.40129 3.70618 1.35625 3.81864 1.346 3.93679C1.33574 4.05494 1.36073 4.17348 1.41781 4.27744C1.47488 4.38139 1.56149 4.4661 1.66668 4.52087L4.19584 5.77087L5.44584 8.30837C5.49609 8.40769 5.57297 8.49108 5.66789 8.54921C5.76281 8.60734 5.87204 8.63792 5.98334 8.63753H6.02501C6.14422 8.62875 6.25803 8.58433 6.35165 8.51002C6.44528 8.43571 6.51439 8.33497 6.55001 8.22087L8.61251 2.1417C8.64934 2.03667 8.65558 1.92334 8.6305 1.81491C8.60542 1.70647 8.55005 1.60739 8.47084 1.5292ZM2.02084 3.9917L7.34168 2.2167L4.38751 5.17087L2.02084 3.9917ZM6.01251 7.9792L4.82918 5.61253L7.78334 2.65837L6.01251 7.9792Z"></path></svg></a> <button class="flex h-[28px] hover:scale-95 active:scale-100 duration-150 gap-2 bg-secondary dark:bg-action dark:border-[#11D9C5] items-center justify-center rounded-full w-[81px]"><p class="font-medium dark:font-semibold text-[10px] dark:text-secondary text-white">Faucet</p> <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-coins"><circle cx="8" cy="8" r="6"></circle><path d="M18.09 10.37A6 6 0 1 1 10.34 18"></path><path d="M7 6h1v4"></path><path d="m16.71 13.88.7.71-2.82 2.82"></path></svg></button> <button class="flex h-[28px] hover:scale-95 active:scale-100 duration-150 gap-2 bg-secondary dark:bg-action dark:border-[#11D9C5] items-center justify-center rounded-full w-[81px]"><p class="font-medium dark:font-semibold text-[10px] dark:text-secondary text-white">Receive</p> <svg xmlns="http://www.w3.org/2000/svg" width="9" height="9" viewBox="0 0 9 9" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.866589 6.02596C0.969253 6.02596 1.06771 6.06675 1.14031 6.13934C1.2129 6.21194 1.25369 6.3104 1.25369 6.41306V7.5759C1.25369 7.64713 1.31149 7.70493 1.38272 7.70493H7.57627C7.61049 7.70493 7.64331 7.69134 7.66751 7.66714C7.6917 7.64294 7.7053 7.61012 7.7053 7.5759V6.41306C7.7053 6.3104 7.74608 6.21194 7.81868 6.13934C7.89127 6.06675 7.98973 6.02596 8.0924 6.02596C8.19506 6.02596 8.29352 6.06675 8.36611 6.13934C8.43871 6.21194 8.47949 6.3104 8.47949 6.41306V7.5759C8.47949 7.81545 8.38433 8.04519 8.21494 8.21458C8.04556 8.38396 7.81582 8.47913 7.57627 8.47913H1.38272C1.14317 8.47913 0.913429 8.38396 0.744041 8.21458C0.574653 8.04519 0.479492 7.81545 0.479492 7.5759V6.41306C0.479492 6.3104 0.520275 6.21194 0.59287 6.13934C0.665465 6.06675 0.763925 6.02596 0.866589 6.02596ZM4.58375 0.479126C4.68641 0.479126 4.78487 0.519909 4.85747 0.592504C4.93006 0.665099 4.97085 0.763558 4.97085 0.866223V5.03964C4.97085 5.14231 4.93006 5.24077 4.85747 5.31336C4.78487 5.38596 4.68641 5.42674 4.58375 5.42674C4.48109 5.42674 4.38263 5.38596 4.31003 5.31336C4.23744 5.24077 4.19665 5.14231 4.19665 5.03964V0.866223C4.19665 0.763558 4.23744 0.665099 4.31003 0.592504C4.38263 0.519909 4.48109 0.479126 4.58375 0.479126Z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M2.58085 3.76989C2.65254 3.69651 2.75043 3.65458 2.85301 3.65332C2.95559 3.65206 3.05448 3.69158 3.12795 3.76318L4.58343 5.18512L6.03891 3.76318C6.07512 3.72691 6.11816 3.69818 6.16556 3.67868C6.21295 3.65917 6.26374 3.64927 6.31499 3.64954C6.36624 3.64982 6.41693 3.66027 6.46411 3.68029C6.51128 3.70031 6.55402 3.7295 6.58983 3.76616C6.62564 3.80282 6.65381 3.84623 6.67271 3.89387C6.69161 3.94151 6.70087 3.99243 6.69994 4.04367C6.699 4.09491 6.68791 4.14546 6.66729 4.19237C6.64667 4.23929 6.61694 4.28165 6.57982 4.31699L4.85388 6.00318C4.78157 6.0738 4.6845 6.11333 4.58343 6.11333C4.48236 6.11333 4.38529 6.0738 4.31298 6.00318L2.58704 4.31699C2.51372 4.24523 2.47189 4.14731 2.47073 4.04472C2.46957 3.94214 2.50917 3.84329 2.58085 3.76989Z"></path></svg></button></div></div>');function kr(s,e){mt(e,!0);let t="/sui-logo.png",r=pt(()=>Number(d()/1e10).toFixed(2)),n=ie(""),i=ie(!1),a=ie(""),o=ie(!0),u=ie(!1),p=pt(()=>v(o)?"#171C2F":"white"),c=pt(()=>v(o)?"/dark_copy.svg":"light_copy.svg");Hs.subscribe(j=>q(o,j,!0));let d=Ut(e,"balance",15);hs.subscribe(j=>d(JSON.parse(j))),Nt.subscribe(j=>q(n,j,!0));var b=Ls(),y=zs(b);{var m=j=>{var B=yr(),K=O(B);{var ee=te=>{var Ee=fr();Fs(5,Ee,()=>Js,()=>({duration:200})),U(te,Ee)};Oe(K,te=>{v(i)&&te(ee)})}var le=M(K,2),ge=M(O(le),2);ge.__click=[gr,a];var T=M(ge,2),F=O(T);{var D=te=>{var Ee=br();Be(()=>G(Ee,"src",v(a))),U(te,Ee)},Z=te=>{var Ee=mr();U(te,Ee)};Oe(F,te=>{v(a)?te(D):te(Z,!1)})}k(T);var W=M(T,2),J=O(W);J.__click=[dr,n,i];var de=O(J);G(de,"width",16),G(de,"height",16),k(J);var xe=M(J,2),Je=O(xe,!0);k(xe),k(W),k(le),k(B),Be(te=>{G(de,"src",v(c)),rt(Je,te)},[()=>v(n).substring(0,20)+".."]),U(j,B)},N=j=>{var B=wr(),K=O(B);K.__click=[vr,u];var ee=M(K,2);G(ee,"src",t);var le=M(ee,2),ge=O(le);k(le);var T=M(le,2),F=O(T),D=M(O(F),2),Z=O(D);k(D),k(F);var W=M(F,2);W.__click=[hr,n];var J=M(W,2);J.__click=[pr,a,n];var de=M(O(J),2),xe=O(de),Je=M(xe);k(de),k(J),k(T),k(B),Be(()=>{rt(ge,`${v(r)??""} SUI`),G(F,"href",`/wallet/send/${d()??""}`),G(Z,"fill",v(p)),G(xe,"fill",v(p)),G(Je,"fill",v(p))}),U(j,B)};Oe(y,j=>{v(a)?j(m):j(N,!1)})}U(s,b),yt()}Rt(["click"]);var _r=ps('<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M8.47084 1.5292C8.39202 1.45094 8.29315 1.39592 8.18509 1.37019C8.07704 1.34446 7.96398 1.34902 7.85834 1.38337L1.76251 3.4167C1.64946 3.45252 1.54956 3.52105 1.47542 3.61361C1.40129 3.70618 1.35625 3.81864 1.346 3.93679C1.33574 4.05494 1.36073 4.17348 1.41781 4.27744C1.47488 4.38139 1.56149 4.4661 1.66668 4.52087L4.19584 5.77087L5.44584 8.30837C5.49609 8.40769 5.57297 8.49108 5.66789 8.54921C5.76281 8.60734 5.87204 8.63792 5.98334 8.63753H6.02501C6.14422 8.62875 6.25803 8.58433 6.35165 8.51002C6.44528 8.43571 6.51439 8.33497 6.55001 8.22087L8.61251 2.1417C8.64934 2.03667 8.65558 1.92334 8.6305 1.81491C8.60542 1.70647 8.55005 1.60739 8.47084 1.5292ZM2.02084 3.9917L7.34168 2.2167L4.38751 5.17087L2.02084 3.9917ZM6.01251 7.9792L4.82918 5.61253L7.78334 2.65837L6.01251 7.9792Z"></path></svg>'),Or=ps('<svg xmlns="http://www.w3.org/2000/svg" width="9" height="9" viewBox="0 0 9 9" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.866589 6.02596C0.969253 6.02596 1.06771 6.06675 1.14031 6.13934C1.2129 6.21194 1.25369 6.3104 1.25369 6.41306V7.5759C1.25369 7.64713 1.31149 7.70493 1.38272 7.70493H7.57627C7.61049 7.70493 7.64331 7.69134 7.66751 7.66714C7.6917 7.64294 7.7053 7.61012 7.7053 7.5759V6.41306C7.7053 6.3104 7.74608 6.21194 7.81868 6.13934C7.89127 6.06675 7.98973 6.02596 8.0924 6.02596C8.19506 6.02596 8.29352 6.06675 8.36611 6.13934C8.43871 6.21194 8.47949 6.3104 8.47949 6.41306V7.5759C8.47949 7.81545 8.38433 8.04519 8.21494 8.21458C8.04556 8.38396 7.81582 8.47913 7.57627 8.47913H1.38272C1.14317 8.47913 0.913429 8.38396 0.744041 8.21458C0.574653 8.04519 0.479492 7.81545 0.479492 7.5759V6.41306C0.479492 6.3104 0.520275 6.21194 0.59287 6.13934C0.665465 6.06675 0.763925 6.02596 0.866589 6.02596ZM4.58375 0.479126C4.68641 0.479126 4.78487 0.519909 4.85747 0.592504C4.93006 0.665099 4.97085 0.763558 4.97085 0.866223V5.03964C4.97085 5.14231 4.93006 5.24077 4.85747 5.31336C4.78487 5.38596 4.68641 5.42674 4.58375 5.42674C4.48109 5.42674 4.38263 5.38596 4.31003 5.31336C4.23744 5.24077 4.19665 5.14231 4.19665 5.03964V0.866223C4.19665 0.763558 4.23744 0.665099 4.31003 0.592504C4.38263 0.519909 4.48109 0.479126 4.58375 0.479126Z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M2.58085 3.76989C2.65254 3.69651 2.75043 3.65458 2.85301 3.65332C2.95559 3.65206 3.05448 3.69158 3.12795 3.76318L4.58343 5.18512L6.03891 3.76318C6.07512 3.72691 6.11816 3.69818 6.16556 3.67868C6.21295 3.65917 6.26374 3.64927 6.31499 3.64954C6.36624 3.64982 6.41693 3.66027 6.46411 3.68029C6.51128 3.70031 6.55402 3.7295 6.58983 3.76616C6.62564 3.80282 6.65381 3.84623 6.67271 3.89387C6.69161 3.94151 6.70087 3.99243 6.69994 4.04367C6.699 4.09491 6.68791 4.14546 6.66729 4.19237C6.64667 4.23929 6.61694 4.28165 6.57982 4.31699L4.85388 6.00318C4.78157 6.0738 4.6845 6.11333 4.58343 6.11333C4.48236 6.11333 4.38529 6.0738 4.31298 6.00318L2.58704 4.31699C2.51372 4.24523 2.47189 4.14731 2.47073 4.04472C2.46957 3.94214 2.50917 3.84329 2.58085 3.76989Z"></path></svg>'),Cr=z('<tr class=" flex border-b border-secondary min-h-14 dark:border-action border-opacity-30 border-dotted dark:border-opacity-30 justify-around"><td class="text-xs flex items-center justify-center w-1/3 flex-col text-center"><!> <span class=" text-[10px]"> </span></td><td class="w-1/3 flex items-center justify-center text-center"><a target="_blank"> </a></td></tr>'),xr=z('<div class="h-[220px] overflow-y-scroll"></div>'),jr=z('<h1 class="text-lg text-center p-3">No data to show</h1>'),Sr=z('<div class="flex flex-col flex-grow w-full"><!></div>');function Tr(s,e){mt(e,!0);let t=Ut(e,"transactions",19,()=>[]),r=ie(Gs([]));const n=async c=>await Ys(Qs,{coin_type:c},`https://api.${e.app}.aptoslabs.com/v1/graphql`),i=async()=>{let c=await Promise.all(t().map(async d=>{let b=(await n(d.coin_type)).coin_infos[0];return{date:new Date(d.transaction_timestamp).toLocaleDateString(),amount:d.amount,symbol:b.symbol,activity_type:d.activity_type,decimal:b.decimals}}));q(r,c,!0)};Pt(async()=>{await i(),console.log("formattedTransactions",v(r))});var a=Sr(),o=O(a);{var u=c=>{var d=xr();fs(d,21,()=>v(r),gs,(b,y)=>{var m=Cr(),N=O(m),j=O(N);{var B=D=>{var Z=_r(),W=O(Z);G(W,"fill","red"),k(Z),U(D,Z)},K=(D,Z)=>{{var W=J=>{var de=Or(),xe=O(de);G(xe,"fill","green");var Je=M(xe);G(Je,"fill","green"),k(de),U(J,de)};Oe(D,J=>{v(y).activity_type.includes("Deposit")&&J(W)},Z)}};Oe(j,D=>{v(y).activity_type.includes("Withdraw")?D(B):D(K,!1)})}var ee=M(j,2),le=O(ee,!0);k(ee),k(N);var ge=M(N),T=O(ge),F=O(T,!0);k(T),k(ge),k(m),Be((D,Z)=>{rt(le,v(y).date),gt(T,1,D),G(T,"href",`https://explorer.aptoslabs.com/txn/${v(y).transaction_version}?network=${e.app}`),rt(F,Z)},[()=>`text-sm  font-normal ${v(y).activity_type.includes("Gas")?"text-gray-500":v(y).activity_type.includes("Withdraw")?"text-red-500":v(y).activity_type.includes("Deposit")&&"text-green-500"} cursor-pointer  uppercase `,()=>Ks(v(y))]),U(b,m)}),k(d),U(c,d)},p=c=>{var d=jr();U(c,d)};Oe(o,c=>{t().length>0?c(u):c(p,!1)})}k(a),U(s,a),yt()}var Ir=(s,e)=>q(e,!1),Er=(s,e)=>q(e,!1),Mr=z('<div><h1 class="text-lg text-center p-3">No Assets Found</h1>  <div><div class="modal-box dark:bg-gray-900 dark:text-white"><button class="btn btn-sm btn-circle absolute right-2 top-2">✕</button> <h3 class="font-bold text-3xl mt-5">Add your token</h3> <p class="text-md mt-5 mb-3">Token Contract Address</p> <input type="text" placeholder="Token Contract Address" class="input input-bordered dark:bg-gray-900 dark:text-white dark:border-zinc-600 input-md w-full max-w-xs"> <p class="text-md mt-1 mb-3">Token Symbol</p> <input type="text" placeholder="Token Symbol" class="input input-bordered input-md dark:bg-gray-900 dark:text-white dark:border-zinc-600 w-full max-w-xs"> <p class="text-md mt-1 mb-3">Token Decimal</p> <input type="text" placeholder="Token Decimal" class="input input-bordered input-md dark:bg-gray-900 dark:text-white dark:border-zinc-600 w-full max-w-xs"> <div class="modal-action"><button class="btn">Add Token</button></div></div></div></div>'),$r=z('<a class="flex w-[144px] h-max justify-center flex-col my-[5%] cursor-pointer items-center"><img width="144" height="100" class="rounded-[5px] h-[130px] object-cover" alt="lnls"> <p class="dark:text-white self-start dark:bg-action dark:bg-opacity-30 rounded-md p-1 px-2 text-[10px] my-[3%] font-medium"> </p></a>'),Ar=z('<div class="w-full h-[220px] grid pt-[5%] grid-cols-2 place-content-center place-items-center overflow-y-scroll"></div>'),Rr=z('<div class="flex flex-grow flex-col mb-4"><!></div>');function Pr(s,e){mt(e,!0);let t=Ut(e,"assets",19,()=>[]),r=ie(!1);Pt(async()=>{Nt.subscribe(u=>u)});var n=Rr(),i=O(n);{var a=u=>{var p=Mr(),c=M(O(p),2);let d;var b=O(c),y=O(b);y.__click=[Ir,r];var m=M(y,16),N=O(m);N.__click=[Er,r],k(m),k(b),k(c),k(p),Be(j=>d=gt(c,1,"modal modal-bottom sm:modal-middle",null,d,j),[()=>({"modal-open":v(r)})]),U(u,p)},o=u=>{var p=Ar();fs(p,21,t,gs,(c,d)=>{var b=$r(),y=O(b),m=M(y,2),N=O(m,!0);k(m),k(b),Be(()=>{var j,B;G(b,"href",`/wallet/nft/${v(d).current_token_data.token_data_id??""}`),G(y,"src",((B=(j=v(d))==null?void 0:j.current_token_data.cdn_asset_uris)==null?void 0:B.cdn_image_uri)||"https://imgs.search.brave.com/3coUlesYINwfDymt7-BwP7neumXS8M2kGKcGWfTsnAA/rs:fit:500:0:0/g:ce/aHR0cHM6Ly90aHVt/YnMuZHJlYW1zdGlt/ZS5jb20vYi9nb2xk/ZW4tbmZ0LWlzb2xh/dGVkLXdoaXRlLWJh/Y2tncm91bmQtbm9u/LWZ1bmdpYmxlLXRv/a2VuLTIxNDQ2Njg0/OC5qcGc"),rt(N,v(d).current_token_data.token_name)}),U(c,b)}),k(p),U(u,p)};Oe(i,u=>{t().length===0?u(a):u(o,!1)})}k(n),U(s,n),yt()}Rt(["click"]);const Ur="1.28.0",Nr="1.48.0",Br={"-32700":"ParseError","-32701":"OversizedRequest","-32702":"OversizedResponse","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError","-32604":"ServerBusy","-32000":"CallExecutionFailed","-32001":"UnknownError","-32003":"SubscriptionClosed","-32004":"SubscriptionClosedWithError","-32005":"BatchesNotSupported","-32006":"TooManySubscriptions","-32050":"TransientError","-32002":"TransactionExecutionClientError"};class ys extends Error{}class vs extends ys{constructor(e,t){super(e),this.code=t,this.type=Br[t]??"ServerError"}}class Dr extends ys{constructor(e,t,r){super(e),this.status=t,this.statusText=r}}var ws=s=>{throw TypeError(s)},Vt=(s,e,t)=>e.has(s)||ws("Cannot "+t),I=(s,e,t)=>(Vt(s,e,"read from private field"),t?t.call(s):e.get(s)),Me=(s,e,t)=>e.has(s)?ws("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),ze=(s,e,t,r)=>(Vt(s,e,"write to private field"),e.set(s,t),t),ks=(s,e,t)=>(Vt(s,e,"access private method"),t),Vr=(s,e,t,r)=>({set _(n){ze(s,e,n)},get _(){return I(s,e,r)}}),je,Xe,we,Ue,nt,Ne,bt,_s,Os;function Wr(s){const e=new URL(s);return e.protocol=e.protocol.replace("http","ws"),e.toString()}const qr={WebSocketConstructor:typeof WebSocket<"u"?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5};class Lr{constructor(e,t={}){if(Me(this,bt),Me(this,je,0),Me(this,Xe,0),Me(this,we,null),Me(this,Ue,null),Me(this,nt,new Set),Me(this,Ne,new Map),this.endpoint=e,this.options={...qr,...t},!this.options.WebSocketConstructor)throw new Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=Wr(this.endpoint))}async makeRequest(e,t,r){const n=await ks(this,bt,_s).call(this);return new Promise((i,a)=>{ze(this,je,I(this,je)+1),I(this,Ne).set(I(this,je),{resolve:i,reject:a,timeout:setTimeout(()=>{I(this,Ne).delete(I(this,je)),a(new Error(`Request timeout: ${e}`))},this.options.callTimeout)}),r==null||r.addEventListener("abort",()=>{I(this,Ne).delete(I(this,je)),a(r.reason)}),n.send(JSON.stringify({jsonrpc:"2.0",id:I(this,je),method:e,params:t}))}).then(({error:i,result:a})=>{if(i)throw new vs(i.message,i.code);return a})}async subscribe(e){const t=new zr(e);return I(this,nt).add(t),await t.subscribe(this),()=>t.unsubscribe(this)}}je=new WeakMap;Xe=new WeakMap;we=new WeakMap;Ue=new WeakMap;nt=new WeakMap;Ne=new WeakMap;bt=new WeakSet;_s=function(){return I(this,Ue)?I(this,Ue):(ze(this,Ue,new Promise(s=>{var e;(e=I(this,we))==null||e.close(),ze(this,we,new this.options.WebSocketConstructor(this.endpoint)),I(this,we).addEventListener("open",()=>{ze(this,Xe,0),s(I(this,we))}),I(this,we).addEventListener("close",()=>{Vr(this,Xe)._++,I(this,Xe)<=this.options.maxReconnects&&setTimeout(()=>{ks(this,bt,Os).call(this)},this.options.reconnectTimeout)}),I(this,we).addEventListener("message",({data:t})=>{let r;try{r=JSON.parse(t)}catch(n){console.error(new Error(`Failed to parse RPC message: ${t}`,{cause:n}));return}if("id"in r&&r.id!=null&&I(this,Ne).has(r.id)){const{resolve:n,timeout:i}=I(this,Ne).get(r.id);clearTimeout(i),n(r)}else if("params"in r){const{params:n}=r;I(this,nt).forEach(i=>{i.subscriptionId===n.subscription&&n.subscription===i.subscriptionId&&i.onMessage(n.result)})}})})),I(this,Ue))};Os=async function(){var s;return(s=I(this,we))==null||s.close(),ze(this,Ue,null),Promise.allSettled([...I(this,nt)].map(e=>e.subscribe(this)))};class zr{constructor(e){this.subscriptionId=null,this.subscribed=!1,this.input=e}onMessage(e){this.subscribed&&this.input.onMessage(e)}async unsubscribe(e){const{subscriptionId:t}=this;return this.subscribed=!1,t==null?!1:(this.subscriptionId=null,e.makeRequest(this.input.unsubscribe,[t]))}async subscribe(e){this.subscriptionId=null,this.subscribed=!0;const t=await e.makeRequest(this.input.method,this.input.params,this.input.signal);this.subscribed&&(this.subscriptionId=t)}}var Cs=s=>{throw TypeError(s)},Wt=(s,e,t)=>e.has(s)||Cs("Cannot "+t),ne=(s,e,t)=>(Wt(s,e,"read from private field"),t?t.call(s):e.get(s)),dt=(s,e,t)=>e.has(s)?Cs("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),jt=(s,e,t,r)=>(Wt(s,e,"write to private field"),e.set(s,t),t),Gr=(s,e,t)=>(Wt(s,e,"access private method"),t),Ze,ce,et,St,xs;class Fr{constructor(e){dt(this,St),dt(this,Ze,0),dt(this,ce),dt(this,et),jt(this,ce,e)}fetch(e,t){const r=ne(this,ce).fetch??fetch;if(!r)throw new Error("The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.");return r(e,t)}async request(e){var n,i;jt(this,Ze,ne(this,Ze)+1);const t=await this.fetch(((n=ne(this,ce).rpc)==null?void 0:n.url)??ne(this,ce).url,{method:"POST",signal:e.signal,headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":Ur,"Client-Target-Api-Version":Nr,"Client-Request-Method":e.method,...(i=ne(this,ce).rpc)==null?void 0:i.headers},body:JSON.stringify({jsonrpc:"2.0",id:ne(this,Ze),method:e.method,params:e.params})});if(!t.ok)throw new Dr(`Unexpected status code: ${t.status}`,t.status,t.statusText);const r=await t.json();if("error"in r&&r.error!=null)throw new vs(r.error.message,r.error.code);return r.result}async subscribe(e){const t=await Gr(this,St,xs).call(this).subscribe(e);return e.signal&&(e.signal.throwIfAborted(),e.signal.addEventListener("abort",()=>{t()})),async()=>!!await t()}}Ze=new WeakMap;ce=new WeakMap;et=new WeakMap;St=new WeakSet;xs=function(){var s;if(!ne(this,et)){const e=ne(this,ce).WebSocketConstructor??WebSocket;if(!e)throw new Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.");jt(this,et,new Lr(((s=ne(this,ce).websocket)==null?void 0:s.url)??ne(this,ce).url,{WebSocketConstructor:e,...ne(this,ce).websocket}))}return ne(this,et)};function Jr(s){switch(s){case"mainnet":return"https://fullnode.mainnet.sui.io:443";case"testnet":return"https://fullnode.testnet.sui.io:443";case"devnet":return"https://fullnode.devnet.sui.io:443";case"localnet":return"http://127.0.0.1:9000";default:throw new Error(`Unknown network: ${s}`)}}var js=s=>{throw TypeError(s)},Ss=(s,e,t)=>e.has(s)||js("Cannot "+t),se=(s,e,t)=>(Ss(s,e,"read from private field"),e.get(s)),Qt=(s,e,t)=>e.has(s)?js("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),Xt=(s,e,t,r)=>(Ss(s,e,"write to private field"),e.set(s,t),t),qe,re;const Hr=class Ts{constructor({prefix:e,cache:t}={}){Qt(this,qe),Qt(this,re),Xt(this,qe,e??[]),Xt(this,re,t??new Map)}read(e,t){const r=[se(this,qe),...e].join(":");if(se(this,re).has(r))return se(this,re).get(r);const n=t();return se(this,re).set(r,n),typeof n=="object"&&n!==null&&"then"in n?Promise.resolve(n).then(i=>(se(this,re).set(r,i),i)).catch(i=>{throw se(this,re).delete(r),i}):n}clear(e){const t=[...se(this,qe),...e??[]].join(":");if(!t){se(this,re).clear();return}for(const r of se(this,re).keys())r.startsWith(t)&&se(this,re).delete(r)}scope(e){return new Ts({prefix:[...se(this,qe),...Array.isArray(e)?e:[e]],cache:se(this,re)})}};qe=new WeakMap;re=new WeakMap;let Kr=Hr;class Is{constructor({network:e}){this.cache=new Kr,this.network=e}$extend(...e){return Object.create(this,Object.fromEntries(e.map(t=>{if("experimental_asClientExtension"in t){const{name:r,register:n}=t.experimental_asClientExtension();return[r,{value:n(this)}]}return[t.name,{value:t.register(this)}]})))}}function Zr(s,e){const t=[];for(let r=0;r<s.length;r+=e)t.push(s.slice(r,r+e));return t}var be;function Yr(s){return{lang:(s==null?void 0:s.lang)??(be==null?void 0:be.lang),message:s==null?void 0:s.message,abortEarly:(s==null?void 0:s.abortEarly)??(be==null?void 0:be.abortEarly),abortPipeEarly:(s==null?void 0:s.abortPipeEarly)??(be==null?void 0:be.abortPipeEarly)}}var kt;function Qr(s){return kt==null?void 0:kt.get(s)}var _t;function Xr(s){return _t==null?void 0:_t.get(s)}var Ot;function en(s,e){var t;return(t=Ot==null?void 0:Ot.get(s))==null?void 0:t.get(e)}function Es(s){var t,r;const e=typeof s;return e==="string"?`"${s}"`:e==="number"||e==="bigint"||e==="boolean"?`${s}`:e==="object"||e==="function"?(s&&((r=(t=Object.getPrototypeOf(s))==null?void 0:t.constructor)==null?void 0:r.name))??"null":e}function X(s,e,t,r,n){const i=n&&"input"in n?n.input:t.value,a=(n==null?void 0:n.expected)??s.expects??null,o=(n==null?void 0:n.received)??Es(i),u={kind:s.kind,type:s.type,input:i,expected:a,received:o,message:`Invalid ${e}: ${a?`Expected ${a} but r`:"R"}eceived ${o}`,requirement:s.requirement,path:n==null?void 0:n.path,issues:n==null?void 0:n.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},p=s.kind==="schema",c=(n==null?void 0:n.message)??s.message??en(s.reference,u.lang)??(p?Xr(u.lang):null)??r.message??Qr(u.lang);c&&(u.message=typeof c=="function"?c(u):c),p&&(t.typed=!1),t.issues?t.issues.push(u):t.issues=[u]}function tn(s,e){return Object.hasOwn(s,e)&&e!=="__proto__"&&e!=="prototype"&&e!=="constructor"}var sn=class extends Error{constructor(e){super(e[0].message);Kt(this,"issues");this.name="ValiError",this.issues=e}};function ot(s,e){return{kind:"validation",type:"check",reference:ot,async:!1,expects:null,requirement:s,message:e,_run(t,r){return t.typed&&!this.requirement(t.value)&&X(this,"input",t,r),t}}}function P(s){return{kind:"validation",type:"integer",reference:P,async:!1,expects:null,requirement:Number.isInteger,message:s,_run(e,t){return e.typed&&!this.requirement(e.value)&&X(this,"integer",e,t),e}}}function vt(s){return{kind:"transformation",type:"transform",reference:vt,async:!1,operation:s,_run(e){return e.value=this.operation(e.value),e}}}function qt(s,e,t){return typeof s.default=="function"?s.default(e,t):s.default}function Tt(s,e){return!s._run({typed:!1,value:e},{abortEarly:!0}).issues}function h(s,e){return{kind:"schema",type:"array",reference:h,expects:"Array",async:!1,item:s,message:e,_run(t,r){var i;const n=t.value;if(Array.isArray(n)){t.typed=!0,t.value=[];for(let a=0;a<n.length;a++){const o=n[a],u=this.item._run({typed:!1,value:o},r);if(u.issues){const p={type:"array",origin:"value",input:n,key:a,value:o};for(const c of u.issues)c.path?c.path.unshift(p):c.path=[p],(i=t.issues)==null||i.push(c);if(t.issues||(t.issues=u.issues),r.abortEarly){t.typed=!1;break}}u.typed||(t.typed=!1),t.value.push(u.value)}}else X(this,"type",t,r);return t}}}function Lt(s){return{kind:"schema",type:"bigint",reference:Lt,expects:"bigint",async:!1,message:s,_run(e,t){return typeof e.value=="bigint"?e.typed=!0:X(this,"type",e,t),e}}}function wt(s){return{kind:"schema",type:"boolean",reference:wt,expects:"boolean",async:!1,message:s,_run(e,t){return typeof e.value=="boolean"?e.typed=!0:X(this,"type",e,t),e}}}function it(s){return{kind:"schema",type:"lazy",reference:it,expects:"unknown",async:!1,getter:s,_run(e,t){return this.getter(e.value)._run(e,t)}}}function f(s,e){return{kind:"schema",type:"literal",reference:f,expects:Es(s),async:!1,literal:s,message:e,_run(t,r){return t.value===this.literal?t.typed=!0:X(this,"type",t,r),t}}}function x(s,...e){const t={kind:"schema",type:"nullable",reference:x,expects:`${s.expects} | null`,async:!1,wrapped:s,_run(r,n){return r.value===null&&("default"in this&&(r.value=qt(this,r,n)),r.value===null)?(r.typed=!0,r):this.wrapped._run(r,n)}};return 0 in e&&(t.default=e[0]),t}function Ge(s,...e){const t={kind:"schema",type:"nullish",reference:Ge,expects:`${s.expects} | null | undefined`,async:!1,wrapped:s,_run(r,n){return(r.value===null||r.value===void 0)&&("default"in this&&(r.value=qt(this,r,n)),r.value===null||r.value===void 0)?(r.typed=!0,r):this.wrapped._run(r,n)}};return 0 in e&&(t.default=e[0]),t}function A(s){return{kind:"schema",type:"number",reference:A,expects:"number",async:!1,message:s,_run(e,t){return typeof e.value=="number"&&!isNaN(e.value)?e.typed=!0:X(this,"type",e,t),e}}}function l(s,e){return{kind:"schema",type:"object",reference:l,expects:"Object",async:!1,entries:s,message:e,_run(t,r){var i;const n=t.value;if(n&&typeof n=="object"){t.typed=!0,t.value={};for(const a in this.entries){const o=n[a],u=this.entries[a]._run({typed:!1,value:o},r);if(u.issues){const p={type:"object",origin:"value",input:n,key:a,value:o};for(const c of u.issues)c.path?c.path.unshift(p):c.path=[p],(i=t.issues)==null||i.push(c);if(t.issues||(t.issues=u.issues),r.abortEarly){t.typed=!1;break}}u.typed||(t.typed=!1),(u.value!==void 0||a in n)&&(t.value[a]=u.value)}}else X(this,"type",t,r);return t}}}function L(s,...e){const t={kind:"schema",type:"optional",reference:L,expects:`${s.expects} | undefined`,async:!1,wrapped:s,_run(r,n){return r.value===void 0&&("default"in this&&(r.value=qt(this,r,n)),r.value===void 0)?(r.typed=!0,r):this.wrapped._run(r,n)}};return 0 in e&&(t.default=e[0]),t}function at(s,e,t){return{kind:"schema",type:"record",reference:at,expects:"Object",async:!1,key:s,value:e,message:t,_run(r,n){var a,o;const i=r.value;if(i&&typeof i=="object"){r.typed=!0,r.value={};for(const u in i)if(tn(i,u)){const p=i[u],c=this.key._run({typed:!1,value:u},n);if(c.issues){const b={type:"object",origin:"key",input:i,key:u,value:p};for(const y of c.issues)y.path=[b],(a=r.issues)==null||a.push(y);if(r.issues||(r.issues=c.issues),n.abortEarly){r.typed=!1;break}}const d=this.value._run({typed:!1,value:p},n);if(d.issues){const b={type:"object",origin:"value",input:i,key:u,value:p};for(const y of d.issues)y.path?y.path.unshift(b):y.path=[b],(o=r.issues)==null||o.push(y);if(r.issues||(r.issues=d.issues),n.abortEarly){r.typed=!1;break}}(!c.typed||!d.typed)&&(r.typed=!1),c.typed&&(r.value[c.value]=d.value)}}else X(this,"type",r,n);return r}}}function w(s){return{kind:"schema",type:"string",reference:w,expects:"string",async:!1,message:s,_run(e,t){return typeof e.value=="string"?e.typed=!0:X(this,"type",e,t),e}}}function zt(s,e){return{kind:"schema",type:"tuple",reference:zt,expects:"Array",async:!1,items:s,message:e,_run(t,r){var i;const n=t.value;if(Array.isArray(n)){t.typed=!0,t.value=[];for(let a=0;a<this.items.length;a++){const o=n[a],u=this.items[a]._run({typed:!1,value:o},r);if(u.issues){const p={type:"array",origin:"value",input:n,key:a,value:o};for(const c of u.issues)c.path?c.path.unshift(p):c.path=[p],(i=t.issues)==null||i.push(c);if(t.issues||(t.issues=u.issues),r.abortEarly){t.typed=!1;break}}u.typed||(t.typed=!1),t.value.push(u.value)}}else X(this,"type",t,r);return t}}}function es(s){let e;if(s)for(const t of s)e?e.push(...t.issues):e=t.issues;return e}function V(s,e){return{kind:"schema",type:"union",reference:V,expects:[...new Set(s.map(t=>t.expects))].join(" | ")||"never",async:!1,options:s,message:e,_run(t,r){let n,i,a;for(const o of this.options){const u=o._run({typed:!1,value:t.value},r);if(u.typed)if(u.issues)i?i.push(u):i=[u];else{n=u;break}else a?a.push(u):a=[u]}if(n)return n;if(i){if(i.length===1)return i[0];X(this,"type",t,r,{issues:es(i)}),t.typed=!0}else{if((a==null?void 0:a.length)===1)return a[0];X(this,"type",t,r,{issues:es(a)})}return t}}}function De(){return{kind:"schema",type:"unknown",reference:De,expects:"unknown",async:!1,_run(s){return s.typed=!0,s}}}function R(s,e,t){const r=s._run({typed:!1,value:e},Yr(t));if(r.issues)throw new sn(r.issues);return r.value}function S(...s){return{...s[0],pipe:s,_run(e,t){for(let r=0;r<s.length;r++){if(e.issues&&(s[r].kind==="schema"||s[r].kind==="transformation")){e.typed=!1;break}(!e.issues||!t.abortEarly&&!t.abortPipeEarly)&&(e=s[r]._run(e,t))}return e}}}function We(s){const e=Object.entries(s).map(([t,r])=>l({[t]:r}));return S(V(e),vt(t=>({...t,$kind:Object.keys(t)[0]})))}const Fe=S(w(),vt(s=>$(s)),ot(Re)),Q=Fe,Ve=w(),H=S(V([w(),S(A(),P())]),ot(s=>{try{return BigInt(s),BigInt(s)>=0&&BigInt(s)<=18446744073709551615n}catch{return!1}},"Invalid u64")),Ie=l({objectId:Fe,version:H,digest:w()}),E=S(V([l({GasCoin:f(!0)}),l({Input:S(A(),P()),type:L(f("pure"))}),l({Input:S(A(),P()),type:L(f("object"))}),l({Result:S(A(),P())}),l({NestedResult:zt([S(A(),P()),S(A(),P())])})]),vt(s=>({...s,$kind:Object.keys(s)[0]}))),rn=l({budget:x(H),price:x(H),owner:x(Fe),payment:x(h(Ie))}),It=V([f("address"),f("bool"),f("u8"),f("u16"),f("u32"),f("u64"),f("u128"),f("u256"),l({vector:it(()=>It)}),l({datatype:l({package:w(),module:w(),type:w(),typeParameters:h(it(()=>It))})}),l({typeParameter:S(A(),P())})]),nn=l({ref:x(V([f("&"),f("&mut")])),body:It}),an=l({package:Q,module:w(),function:w(),typeArguments:h(w()),arguments:h(E),_argumentTypes:L(x(h(nn)))}),on=l({name:w(),inputs:at(w(),V([E,h(E)])),data:at(w(),De())}),cn=We({MoveCall:an,TransferObjects:l({objects:h(E),address:E}),SplitCoins:l({coin:E,amounts:h(E)}),MergeCoins:l({destination:E,sources:h(E)}),Publish:l({modules:h(Ve),dependencies:h(Q)}),MakeMoveVec:l({type:x(w()),elements:h(E)}),Upgrade:l({modules:h(Ve),dependencies:h(Q),package:Q,ticket:E}),$Intent:on}),Ms=We({ImmOrOwnedObject:Ie,SharedObject:l({objectId:Q,initialSharedVersion:H,mutable:wt()}),Receiving:Ie}),un=We({Object:Ms,Pure:l({bytes:Ve}),UnresolvedPure:l({value:De()}),UnresolvedObject:l({objectId:Q,version:L(x(H)),digest:L(x(w())),initialSharedVersion:L(x(H))})}),ts=We({Object:Ms,Pure:l({bytes:Ve})}),$s=We({None:f(!0),Epoch:H}),ht=l({version:f(2),sender:Ge(Fe),expiration:Ge($s),gasData:rn,inputs:h(un),commands:h(cn)}),$e={MoveCall(s){const[e,t="",r=""]="target"in s?s.target.split("::"):[s.package,s.module,s.function];return{$kind:"MoveCall",MoveCall:{package:e,module:t,function:r,typeArguments:s.typeArguments??[],arguments:s.arguments??[]}}},TransferObjects(s,e){return{$kind:"TransferObjects",TransferObjects:{objects:s.map(t=>R(E,t)),address:R(E,e)}}},SplitCoins(s,e){return{$kind:"SplitCoins",SplitCoins:{coin:R(E,s),amounts:e.map(t=>R(E,t))}}},MergeCoins(s,e){return{$kind:"MergeCoins",MergeCoins:{destination:R(E,s),sources:e.map(t=>R(E,t))}}},Publish({modules:s,dependencies:e}){return{$kind:"Publish",Publish:{modules:s.map(t=>typeof t=="string"?t:fe(new Uint8Array(t))),dependencies:e.map(t=>ke(t))}}},Upgrade({modules:s,dependencies:e,package:t,ticket:r}){return{$kind:"Upgrade",Upgrade:{modules:s.map(n=>typeof n=="string"?n:fe(new Uint8Array(n))),dependencies:e.map(n=>ke(n)),package:t,ticket:R(E,r)}}},MakeMoveVec({type:s,elements:e}){return{$kind:"MakeMoveVec",MakeMoveVec:{type:s??null,elements:e.map(t=>R(E,t))}}},Intent({name:s,inputs:e={},data:t={}}){return{$kind:"$Intent",$Intent:{name:s,inputs:Object.fromEntries(Object.entries(e).map(([r,n])=>[r,Array.isArray(n)?n.map(i=>R(E,i)):R(E,n)])),data:t}}}},Et=l({digest:w(),objectId:w(),version:V([S(A(),P()),w(),Lt()])}),ln=We({ImmOrOwned:Et,Shared:l({objectId:Q,initialSharedVersion:H,mutable:wt()}),Receiving:Et}),ss=We({Object:ln,Pure:h(S(A(),P()))}),As=V([l({kind:f("Input"),index:S(A(),P()),value:De(),type:L(f("object"))}),l({kind:f("Input"),index:S(A(),P()),value:De(),type:f("pure")})]),dn=V([l({Epoch:S(A(),P())}),l({None:x(f(!0))})]),rs=S(V([A(),w(),Lt()]),ot(s=>{if(!["string","number","bigint"].includes(typeof s))return!1;try{return BigInt(s),!0}catch{return!1}})),Gt=V([l({bool:x(f(!0))}),l({u8:x(f(!0))}),l({u64:x(f(!0))}),l({u128:x(f(!0))}),l({address:x(f(!0))}),l({signer:x(f(!0))}),l({vector:it(()=>Gt)}),l({struct:it(()=>pn)}),l({u16:x(f(!0))}),l({u32:x(f(!0))}),l({u256:x(f(!0))})]),pn=l({address:w(),module:w(),name:w(),typeParams:h(Gt)}),hn=l({budget:L(rs),price:L(rs),payment:L(h(Et)),owner:L(w())}),fn=[As,l({kind:f("GasCoin")}),l({kind:f("Result"),index:S(A(),P())}),l({kind:f("NestedResult"),index:S(A(),P()),resultIndex:S(A(),P())})],Ce=V([...fn]),gn=l({kind:f("MoveCall"),target:S(w(),ot(s=>s.split("::").length===3)),typeArguments:h(w()),arguments:h(Ce)}),bn=l({kind:f("TransferObjects"),objects:h(Ce),address:Ce}),mn=l({kind:f("SplitCoins"),coin:Ce,amounts:h(Ce)}),yn=l({kind:f("MergeCoins"),destination:Ce,sources:h(Ce)}),vn=l({kind:f("MakeMoveVec"),type:V([l({Some:Gt}),l({None:x(f(!0))})]),objects:h(Ce)}),wn=l({kind:f("Publish"),modules:h(h(S(A(),P()))),dependencies:h(w())}),kn=l({kind:f("Upgrade"),modules:h(h(S(A(),P()))),dependencies:h(w()),packageId:w(),ticket:Ce}),_n=[gn,bn,mn,yn,wn,kn,vn],On=V([..._n]);l({version:f(1),sender:L(w()),expiration:Ge(dn),gasConfig:hn,inputs:h(As),transactions:h(On)});function ns(s){var t;const e=s.inputs.map((r,n)=>{if(r.Object)return{kind:"Input",index:n,value:{Object:r.Object.ImmOrOwnedObject?{ImmOrOwned:r.Object.ImmOrOwnedObject}:r.Object.Receiving?{Receiving:{digest:r.Object.Receiving.digest,version:r.Object.Receiving.version,objectId:r.Object.Receiving.objectId}}:{Shared:{mutable:r.Object.SharedObject.mutable,initialSharedVersion:r.Object.SharedObject.initialSharedVersion,objectId:r.Object.SharedObject.objectId}}},type:"object"};if(r.Pure)return{kind:"Input",index:n,value:{Pure:Array.from(Te(r.Pure.bytes))},type:"pure"};if(r.UnresolvedPure)return{kind:"Input",type:"pure",index:n,value:r.UnresolvedPure.value};if(r.UnresolvedObject)return{kind:"Input",type:"object",index:n,value:r.UnresolvedObject.objectId};throw new Error("Invalid input")});return{version:1,sender:s.sender??void 0,expiration:((t=s.expiration)==null?void 0:t.$kind)==="Epoch"?{Epoch:Number(s.expiration.Epoch)}:s.expiration?{None:!0}:null,gasConfig:{owner:s.gasData.owner??void 0,budget:s.gasData.budget??void 0,price:s.gasData.price??void 0,payment:s.gasData.payment??void 0},inputs:e,transactions:s.commands.map(r=>{if(r.MakeMoveVec)return{kind:"MakeMoveVec",type:r.MakeMoveVec.type===null?{None:!0}:{Some:Bt.parseFromStr(r.MakeMoveVec.type)},objects:r.MakeMoveVec.elements.map(n=>me(n,e))};if(r.MergeCoins)return{kind:"MergeCoins",destination:me(r.MergeCoins.destination,e),sources:r.MergeCoins.sources.map(n=>me(n,e))};if(r.MoveCall)return{kind:"MoveCall",target:`${r.MoveCall.package}::${r.MoveCall.module}::${r.MoveCall.function}`,typeArguments:r.MoveCall.typeArguments,arguments:r.MoveCall.arguments.map(n=>me(n,e))};if(r.Publish)return{kind:"Publish",modules:r.Publish.modules.map(n=>Array.from(Te(n))),dependencies:r.Publish.dependencies};if(r.SplitCoins)return{kind:"SplitCoins",coin:me(r.SplitCoins.coin,e),amounts:r.SplitCoins.amounts.map(n=>me(n,e))};if(r.TransferObjects)return{kind:"TransferObjects",objects:r.TransferObjects.objects.map(n=>me(n,e)),address:me(r.TransferObjects.address,e)};if(r.Upgrade)return{kind:"Upgrade",modules:r.Upgrade.modules.map(n=>Array.from(Te(n))),dependencies:r.Upgrade.dependencies,packageId:r.Upgrade.package,ticket:me(r.Upgrade.ticket,e)};throw new Error(`Unknown transaction ${Object.keys(r)}`)})}}function me(s,e){if(s.$kind==="GasCoin")return{kind:"GasCoin"};if(s.$kind==="Result")return{kind:"Result",index:s.Result};if(s.$kind==="NestedResult")return{kind:"NestedResult",index:s.NestedResult[0],resultIndex:s.NestedResult[1]};if(s.$kind==="Input")return e[s.Input];throw new Error(`Invalid argument ${Object.keys(s)}`)}function Cn(s){var e,t,r;return R(ht,{version:2,sender:s.sender??null,expiration:s.expiration?"Epoch"in s.expiration?{Epoch:s.expiration.Epoch}:{None:!0}:null,gasData:{owner:s.gasConfig.owner??null,budget:((e=s.gasConfig.budget)==null?void 0:e.toString())??null,price:((t=s.gasConfig.price)==null?void 0:t.toString())??null,payment:((r=s.gasConfig.payment)==null?void 0:r.map(n=>({digest:n.digest,objectId:n.objectId,version:n.version.toString()})))??null},inputs:s.inputs.map(n=>{if(n.kind==="Input"){if(Tt(ss,n.value)){const i=R(ss,n.value);if(i.Object){if(i.Object.ImmOrOwned)return{Object:{ImmOrOwnedObject:{objectId:i.Object.ImmOrOwned.objectId,version:String(i.Object.ImmOrOwned.version),digest:i.Object.ImmOrOwned.digest}}};if(i.Object.Shared)return{Object:{SharedObject:{mutable:i.Object.Shared.mutable??null,initialSharedVersion:i.Object.Shared.initialSharedVersion,objectId:i.Object.Shared.objectId}}};if(i.Object.Receiving)return{Object:{Receiving:{digest:i.Object.Receiving.digest,version:String(i.Object.Receiving.version),objectId:i.Object.Receiving.objectId}}};throw new Error("Invalid object input")}return{Pure:{bytes:fe(new Uint8Array(i.Pure))}}}return n.type==="object"?{UnresolvedObject:{objectId:n.value}}:{UnresolvedPure:{value:n.value}}}throw new Error("Invalid input")}),commands:s.transactions.map(n=>{switch(n.kind){case"MakeMoveVec":return{MakeMoveVec:{type:"Some"in n.type?Bt.tagToString(n.type.Some):null,elements:n.objects.map(i=>ye(i))}};case"MergeCoins":return{MergeCoins:{destination:ye(n.destination),sources:n.sources.map(i=>ye(i))}};case"MoveCall":{const[i,a,o]=n.target.split("::");return{MoveCall:{package:i,module:a,function:o,typeArguments:n.typeArguments,arguments:n.arguments.map(u=>ye(u))}}}case"Publish":return{Publish:{modules:n.modules.map(i=>fe(Uint8Array.from(i))),dependencies:n.dependencies}};case"SplitCoins":return{SplitCoins:{coin:ye(n.coin),amounts:n.amounts.map(i=>ye(i))}};case"TransferObjects":return{TransferObjects:{objects:n.objects.map(i=>ye(i)),address:ye(n.address)}};case"Upgrade":return{Upgrade:{modules:n.modules.map(i=>fe(Uint8Array.from(i))),dependencies:n.dependencies,package:n.packageId,ticket:ye(n.ticket)}}}throw new Error(`Unknown transaction ${Object.keys(n)}`)})})}function ye(s){switch(s.kind){case"GasCoin":return{GasCoin:!0};case"Result":return{Result:s.index};case"NestedResult":return{NestedResult:[s.index,s.resultIndex]};case"Input":return{Input:s.index}}}function ct(s){return V(Object.entries(s).map(([e,t])=>l({[e]:t})))}const ae=ct({GasCoin:f(!0),Input:S(A(),P()),Result:S(A(),P()),NestedResult:zt([S(A(),P()),S(A(),P())])}),xn=l({budget:x(H),price:x(H),owner:x(Fe),payment:x(h(Ie))}),jn=l({package:Q,module:w(),function:w(),typeArguments:h(w()),arguments:h(ae)}),Sn=l({name:w(),inputs:at(w(),V([ae,h(ae)])),data:at(w(),De())}),Tn=ct({MoveCall:jn,TransferObjects:l({objects:h(ae),address:ae}),SplitCoins:l({coin:ae,amounts:h(ae)}),MergeCoins:l({destination:ae,sources:h(ae)}),Publish:l({modules:h(Ve),dependencies:h(Q)}),MakeMoveVec:l({type:x(w()),elements:h(ae)}),Upgrade:l({modules:h(Ve),dependencies:h(Q),package:Q,ticket:ae}),$Intent:Sn}),In=ct({ImmOrOwnedObject:Ie,SharedObject:l({objectId:Q,initialSharedVersion:H,mutable:wt()}),Receiving:Ie}),En=ct({Object:In,Pure:l({bytes:Ve}),UnresolvedPure:l({value:De()}),UnresolvedObject:l({objectId:Q,version:L(x(H)),digest:L(x(w())),initialSharedVersion:L(x(H))})}),Mn=ct({None:f(!0),Epoch:H}),$n=l({version:f(2),sender:Ge(Fe),expiration:Ge(Mn),gasData:xn,inputs:h(En),commands:h(Tn)});function An(s){return{$kind:"Pure",Pure:{bytes:s instanceof Uint8Array?fe(s):s.toBase64()}}}const _e={Pure:An,ObjectRef({objectId:s,digest:e,version:t}){return{$kind:"Object",Object:{$kind:"ImmOrOwnedObject",ImmOrOwnedObject:{digest:e,version:t,objectId:$(s)}}}},SharedObjectRef({objectId:s,mutable:e,initialSharedVersion:t}){return{$kind:"Object",Object:{$kind:"SharedObject",SharedObject:{mutable:e,initialSharedVersion:t,objectId:$(s)}}}},ReceivingRef({objectId:s,digest:e,version:t}){return{$kind:"Object",Object:{$kind:"Receiving",Receiving:{digest:e,version:t,objectId:$(s)}}}}};BigInt(1e9);const Rn="0x1",Rs="0x2";ke("0x6");const Pn=`${Rs}::sui::SUI`;ke("0x5");function Un(s,e,t){const r=g.Address.serialize(s).toBytes(),n=g.TypeTag.serialize(e).toBytes(),i=g.u64().serialize(t.length).toBytes(),a=bs.create({dkLen:32});return a.update(new Uint8Array([240])),a.update(r),a.update(i),a.update(t),a.update(n),`0x${ms(a.digest().slice(0,32))}`}const Nn="object",Bn="ID",Dn="ascii",Vn="String",Wn="string",qn="String",Ln="option",zn="Option";function Gn(s){const e=typeof s.body=="object"&&"datatype"in s.body?s.body.datatype:null;return!!e&&$(e.package)===$("0x2")&&e.module==="tx_context"&&e.type==="TxContext"}function Mt(s){if(typeof s=="string")switch(s){case"address":return g.Address;case"bool":return g.Bool;case"u8":return g.U8;case"u16":return g.U16;case"u32":return g.U32;case"u64":return g.U64;case"u128":return g.U128;case"u256":return g.U256;default:throw new Error(`Unknown type signature ${s}`)}if("vector"in s){if(s.vector==="u8")return g.vector(g.U8).transform({input:t=>typeof t=="string"?new TextEncoder().encode(t):t,output:t=>t});const e=Mt(s.vector);return e?g.vector(e):null}if("datatype"in s){const e=$(s.datatype.package);if(e===$(Rn)){if(s.datatype.module===Dn&&s.datatype.type===Vn)return g.String;if(s.datatype.module===Wn&&s.datatype.type===qn)return g.String;if(s.datatype.module===Ln&&s.datatype.type===zn){const t=Mt(s.datatype.typeParameters[0]);return t?g.vector(t):null}}if(e===$(Rs)&&s.datatype.module===Nn&&s.datatype.type===Bn)return g.Address}return null}function Fn(s){return typeof s=="object"&&"Reference"in s?{ref:"&",body:tt(s.Reference)}:typeof s=="object"&&"MutableReference"in s?{ref:"&mut",body:tt(s.MutableReference)}:{ref:null,body:tt(s)}}function tt(s){if(typeof s=="string")switch(s){case"Address":return"address";case"Bool":return"bool";case"U8":return"u8";case"U16":return"u16";case"U32":return"u32";case"U64":return"u64";case"U128":return"u128";case"U256":return"u256";default:throw new Error(`Unexpected type ${s}`)}if("Vector"in s)return{vector:tt(s.Vector)};if("Struct"in s)return{datatype:{package:s.Struct.address,module:s.Struct.module,type:s.Struct.name,typeParameters:s.Struct.typeArguments.map(tt)}};if("TypeParameter"in s)return{typeParameter:s.TypeParameter};throw new Error(`Unexpected type ${JSON.stringify(s)}`)}function Jn(s,e){return Array.from({length:Math.ceil(s.length/e)},(t,r)=>s.slice(r*e,(r+1)*e))}const Hn=50,Kn=1000n,Zn=5e10;async function Yn(s,e,t){return await si(s,e),await ti(s,e),e.onlyTransactionKind||(await Qn(s,e),await Xn(s,e),await ei(s,e)),await ri(s),await t()}async function Qn(s,e){s.gasConfig.price||(s.gasConfig.price=String(await ut(e).getReferenceGasPrice()))}async function Xn(s,e){if(s.gasConfig.budget)return;const t=await ut(e).dryRunTransactionBlock({transactionBlock:s.build({overrides:{gasData:{budget:String(Zn),payment:[]}}})});if(t.effects.status.status!=="success")throw new Error(`Dry run failed, could not automatically determine a budget: ${t.effects.status.error}`,{cause:t});const r=Kn*BigInt(s.gasConfig.price||1n),n=BigInt(t.effects.gasUsed.computationCost)+r,i=n+BigInt(t.effects.gasUsed.storageCost)-BigInt(t.effects.gasUsed.storageRebate);s.gasConfig.budget=String(i>n?i:n)}async function ei(s,e){if(!s.gasConfig.payment){const r=(await ut(e).getCoins({owner:s.gasConfig.owner||s.sender,coinType:Pn})).data.filter(n=>!s.inputs.find(a=>{var o;return(o=a.Object)!=null&&o.ImmOrOwnedObject?n.coinObjectId===a.Object.ImmOrOwnedObject.objectId:!1})).map(n=>({objectId:n.coinObjectId,digest:n.digest,version:n.version}));if(!r.length)throw new Error("No valid gas coins found for the transaction.");s.gasConfig.payment=r.map(n=>R(Ie,n))}}async function ti(s,e){const t=s.inputs.filter(c=>{var d;return c.UnresolvedObject&&!(c.UnresolvedObject.version||(d=c.UnresolvedObject)!=null&&d.initialSharedVersion)}),r=[...new Set(t.map(c=>ke(c.UnresolvedObject.objectId)))],n=r.length?Jn(r,Hn):[],i=(await Promise.all(n.map(c=>ut(e).multiGetObjects({ids:c,options:{showOwner:!0}})))).flat(),a=new Map(r.map((c,d)=>[c,i[d]])),o=Array.from(a).filter(([c,d])=>d.error).map(([c,d])=>JSON.stringify(d.error));if(o.length)throw new Error(`The following input objects are invalid: ${o.join(", ")}`);const u=i.map(c=>{if(c.error||!c.data)throw new Error(`Failed to fetch object: ${c.error}`);const d=c.data.owner,b=d&&typeof d=="object"&&"Shared"in d?d.Shared.initial_shared_version:null;return{objectId:c.data.objectId,digest:c.data.digest,version:c.data.version,initialSharedVersion:b}}),p=new Map(r.map((c,d)=>[c,u[d]]));for(const[c,d]of s.inputs.entries()){if(!d.UnresolvedObject)continue;let b;const y=$(d.UnresolvedObject.objectId),m=p.get(y);d.UnresolvedObject.initialSharedVersion??(m==null?void 0:m.initialSharedVersion)?b=_e.SharedObjectRef({objectId:y,initialSharedVersion:d.UnresolvedObject.initialSharedVersion||(m==null?void 0:m.initialSharedVersion),mutable:ni(s,c)}):ii(s,c)&&(b=_e.ReceivingRef({objectId:y,digest:d.UnresolvedObject.digest??(m==null?void 0:m.digest),version:d.UnresolvedObject.version??(m==null?void 0:m.version)})),s.inputs[s.inputs.indexOf(d)]=b??_e.ObjectRef({objectId:y,digest:d.UnresolvedObject.digest??(m==null?void 0:m.digest),version:d.UnresolvedObject.version??(m==null?void 0:m.version)})}}async function si(s,e){const{inputs:t,commands:r}=s,n=[],i=new Set;r.forEach(o=>{if(o.MoveCall){if(o.MoveCall._argumentTypes)return;if(o.MoveCall.arguments.map(c=>c.$kind==="Input"?s.inputs[c.Input]:null).some(c=>(c==null?void 0:c.UnresolvedPure)||(c==null?void 0:c.UnresolvedObject))){const c=`${o.MoveCall.package}::${o.MoveCall.module}::${o.MoveCall.function}`;i.add(c),n.push(o.MoveCall)}}switch(o.$kind){case"SplitCoins":o.SplitCoins.amounts.forEach(u=>{is(u,g.U64,s)});break;case"TransferObjects":is(o.TransferObjects.address,g.Address,s);break}});const a=new Map;if(i.size>0){const o=ut(e);await Promise.all([...i].map(async u=>{const[p,c,d]=u.split("::"),b=await o.getNormalizedMoveFunction({package:p,module:c,function:d});a.set(u,b.parameters.map(y=>Fn(y)))}))}n.length&&await Promise.all(n.map(async o=>{const u=a.get(`${o.package}::${o.module}::${o.function}`);if(!u)return;const c=u.length>0&&Gn(u.at(-1))?u.slice(0,u.length-1):u;o._argumentTypes=c})),r.forEach(o=>{if(!o.MoveCall)return;const u=o.MoveCall,p=`${u.package}::${u.module}::${u.function}`,c=u._argumentTypes;if(c){if(c.length!==o.MoveCall.arguments.length)throw new Error(`Incorrect number of arguments for ${p}`);c.forEach((d,b)=>{var K,ee;const y=u.arguments[b];if(y.$kind!=="Input")return;const m=t[y.Input];if(!m.UnresolvedPure&&!m.UnresolvedObject)return;const N=((K=m.UnresolvedPure)==null?void 0:K.value)??((ee=m.UnresolvedObject)==null?void 0:ee.objectId),j=Mt(d.body);if(j){y.type="pure",t[t.indexOf(m)]=_e.Pure(j.serialize(N));return}if(typeof N!="string")throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(N,null,2)}`);y.type="object";const B=m.UnresolvedPure?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:N}}:m;t[y.Input]=B})}})}function ri(s){s.inputs.forEach((e,t)=>{if(e.$kind!=="Object"&&e.$kind!=="Pure")throw new Error(`Input at index ${t} has not been resolved.  Expected a Pure or Object input, but found ${JSON.stringify(e)}`)})}function is(s,e,t){if(s.$kind!=="Input")return;const r=t.inputs[s.Input];r.$kind==="UnresolvedPure"&&(t.inputs[s.Input]=_e.Pure(e.serialize(r.UnresolvedPure.value)))}function ni(s,e){let t=!1;return s.getInputUses(e,(r,n)=>{if(n.MoveCall&&n.MoveCall._argumentTypes){const i=n.MoveCall.arguments.indexOf(r);t=n.MoveCall._argumentTypes[i].ref!=="&"||t}(n.$kind==="MakeMoveVec"||n.$kind==="MergeCoins"||n.$kind==="SplitCoins")&&(t=!0)}),t}function ii(s,e){let t=!1;return s.getInputUses(e,(r,n)=>{if(n.MoveCall&&n.MoveCall._argumentTypes){const i=n.MoveCall.arguments.indexOf(r);t=ai(n.MoveCall._argumentTypes[i])||t}}),t}function ai(s){return typeof s.body!="object"||!("datatype"in s.body)?!1:s.body.datatype.package==="0x2"&&s.body.datatype.module==="transfer"&&s.body.datatype.type==="Receiving"}function ut(s){if(!s.client)throw new Error("No sui client passed to Transaction#build, but transaction data was not sufficient to build offline.");return s.client}function oi(s){function e(t){return s(t)}return e.system=()=>e("0x5"),e.clock=()=>e("0x6"),e.random=()=>e("0x8"),e.denyList=()=>e("0x403"),e.option=({type:t,value:r})=>n=>n.moveCall({typeArguments:[t],target:`0x1::option::${r===null?"none":"some"}`,arguments:r===null?[]:[n.object(r)]}),e}function ci(s){function e(t,r){if(typeof t=="string")return s(Qe(t).serialize(r));if(t instanceof Uint8Array||Dt(t))return s(t);throw new Error("tx.pure must be called either a bcs type name, or a serialized bcs value")}return e.u8=t=>s(g.U8.serialize(t)),e.u16=t=>s(g.U16.serialize(t)),e.u32=t=>s(g.U32.serialize(t)),e.u64=t=>s(g.U64.serialize(t)),e.u128=t=>s(g.U128.serialize(t)),e.u256=t=>s(g.U256.serialize(t)),e.bool=t=>s(g.Bool.serialize(t)),e.string=t=>s(g.String.serialize(t)),e.address=t=>s(g.Address.serialize(t)),e.id=e.address,e.vector=(t,r)=>s(g.vector(Qe(t)).serialize(r)),e.option=(t,r)=>s(g.option(Qe(t)).serialize(r)),e}function ui(s,e){const t=Array.from(`${s}::`).map(n=>n.charCodeAt(0)),r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),bs(r,{dkLen:32})}function as(s){return $(s).replace("0x","")}class ue{constructor(e){this.version=2,this.sender=(e==null?void 0:e.sender)??null,this.expiration=(e==null?void 0:e.expiration)??null,this.inputs=(e==null?void 0:e.inputs)??[],this.commands=(e==null?void 0:e.commands)??[],this.gasData=(e==null?void 0:e.gasData)??{budget:null,price:null,owner:null,payment:null}}static fromKindBytes(e){const r=g.TransactionKind.parse(e).ProgrammableTransaction;if(!r)throw new Error("Unable to deserialize from bytes.");return ue.restore({version:2,sender:null,expiration:null,gasData:{budget:null,owner:null,payment:null,price:null},inputs:r.inputs,commands:r.commands})}static fromBytes(e){const t=g.TransactionData.parse(e),r=t==null?void 0:t.V1,n=r.kind.ProgrammableTransaction;if(!r||!n)throw new Error("Unable to deserialize from bytes.");return ue.restore({version:2,sender:r.sender,expiration:r.expiration,gasData:r.gasData,inputs:n.inputs,commands:n.commands})}static restore(e){return e.version===2?new ue(R(ht,e)):new ue(R(ht,Cn(e)))}static getDigestFromBytes(e){const t=ui("TransactionData",e);return tr(t)}get gasConfig(){return this.gasData}set gasConfig(e){this.gasData=e}build({maxSizeBytes:e=1/0,overrides:t,onlyTransactionKind:r}={}){const n=this.inputs,i=this.commands,a={ProgrammableTransaction:{inputs:n,commands:i}};if(r)return g.TransactionKind.serialize(a,{maxSize:e}).toBytes();const o=(t==null?void 0:t.expiration)??this.expiration,u=(t==null?void 0:t.sender)??this.sender,p={...this.gasData,...t==null?void 0:t.gasConfig,...t==null?void 0:t.gasData};if(!u)throw new Error("Missing transaction sender");if(!p.budget)throw new Error("Missing gas budget");if(!p.payment)throw new Error("Missing gas payment");if(!p.price)throw new Error("Missing gas price");const c={sender:as(u),expiration:o||{None:!0},gasData:{payment:p.payment,owner:as(this.gasData.owner??u),price:BigInt(p.price),budget:BigInt(p.budget)},kind:{ProgrammableTransaction:{inputs:n,commands:i}}};return g.TransactionData.serialize({V1:c},{maxSize:e}).toBytes()}addInput(e,t){const r=this.inputs.length;return this.inputs.push(t),{Input:r,type:e,$kind:"Input"}}getInputUses(e,t){this.mapArguments((r,n)=>(r.$kind==="Input"&&r.Input===e&&t(r,n),r))}mapArguments(e){for(const t of this.commands)switch(t.$kind){case"MoveCall":t.MoveCall.arguments=t.MoveCall.arguments.map(n=>e(n,t));break;case"TransferObjects":t.TransferObjects.objects=t.TransferObjects.objects.map(n=>e(n,t)),t.TransferObjects.address=e(t.TransferObjects.address,t);break;case"SplitCoins":t.SplitCoins.coin=e(t.SplitCoins.coin,t),t.SplitCoins.amounts=t.SplitCoins.amounts.map(n=>e(n,t));break;case"MergeCoins":t.MergeCoins.destination=e(t.MergeCoins.destination,t),t.MergeCoins.sources=t.MergeCoins.sources.map(n=>e(n,t));break;case"MakeMoveVec":t.MakeMoveVec.elements=t.MakeMoveVec.elements.map(n=>e(n,t));break;case"Upgrade":t.Upgrade.ticket=e(t.Upgrade.ticket,t);break;case"$Intent":const r=t.$Intent.inputs;t.$Intent.inputs={};for(const[n,i]of Object.entries(r))t.$Intent.inputs[n]=Array.isArray(i)?i.map(a=>e(a,t)):e(i,t);break;case"Publish":break;default:throw new Error(`Unexpected transaction kind: ${t.$kind}`)}}replaceCommand(e,t){if(!Array.isArray(t)){this.commands[e]=t;return}const r=t.length-1;this.commands.splice(e,1,...t),r!==0&&this.mapArguments(n=>{switch(n.$kind){case"Result":n.Result>e&&(n.Result+=r);break;case"NestedResult":n.NestedResult[0]>e&&(n.NestedResult[0]+=r);break}return n})}getDigest(){const e=this.build({onlyTransactionKind:!1});return ue.getDigestFromBytes(e)}snapshot(){return R(ht,this)}}function os(s){if(typeof s=="string")return $(s);if(s.Object)return s.Object.ImmOrOwnedObject?$(s.Object.ImmOrOwnedObject.objectId):s.Object.Receiving?$(s.Object.Receiving.objectId):$(s.Object.SharedObject.objectId);if(s.UnresolvedObject)return $(s.UnresolvedObject.objectId)}var Ps=s=>{throw TypeError(s)},Ft=(s,e,t)=>e.has(s)||Ps("Cannot "+t),_=(s,e,t)=>(Ft(s,e,"read from private field"),t?t.call(s):e.get(s)),He=(s,e,t)=>e.has(s)?Ps("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),Ae=(s,e,t,r)=>(Ft(s,e,"write to private field"),e.set(s,t),t),ve=(s,e,t)=>(Ft(s,e,"access private method"),t),Ye,st,Pe,C,oe,ft,Jt,$t,Ht;function cs(s,e=1/0){const t={$kind:"Result",Result:s},r=[],n=i=>r[i]??(r[i]={$kind:"NestedResult",NestedResult:[s,i]});return new Proxy(t,{set(){throw new Error("The transaction result is a proxy, and does not support setting properties directly")},get(i,a){if(a in i)return Reflect.get(i,a);if(a===Symbol.iterator)return function*(){let u=0;for(;u<e;)yield n(u),u++};if(typeof a=="symbol")return;const o=parseInt(a,10);if(!(Number.isNaN(o)||o<0))return n(o)}})}const Us=Symbol.for("@mysten/transaction");function Ns(s){return!!s&&typeof s=="object"&&s[Us]===!0}const us={buildPlugins:new Map,serializationPlugins:new Map},Ct=Symbol.for("@mysten/transaction/registry");function Ke(){try{const s=globalThis;return s[Ct]||(s[Ct]=us),s[Ct]}catch{return us}}const li=class At{constructor(){He(this,oe),He(this,Ye),He(this,st),He(this,Pe,new Map),He(this,C),this.object=oi(t=>{var i,a;if(typeof t=="function")return this.object(t(this));if(typeof t=="object"&&Tt(E,t))return t;const r=os(t),n=_(this,C).inputs.find(o=>r===os(o));return(i=n==null?void 0:n.Object)!=null&&i.SharedObject&&typeof t=="object"&&((a=t.Object)!=null&&a.SharedObject)&&(n.Object.SharedObject.mutable=n.Object.SharedObject.mutable||t.Object.SharedObject.mutable),n?{$kind:"Input",Input:_(this,C).inputs.indexOf(n),type:"object"}:_(this,C).addInput("object",typeof t=="string"?{$kind:"UnresolvedObject",UnresolvedObject:{objectId:$(t)}}:t)});const e=Ke();Ae(this,C,new ue),Ae(this,st,[...e.buildPlugins.values()]),Ae(this,Ye,[...e.serializationPlugins.values()])}static fromKind(e){const t=new At;return Ae(t,C,ue.fromKindBytes(typeof e=="string"?Te(e):e)),t}static from(e){const t=new At;return Ns(e)?Ae(t,C,new ue(e.getData())):typeof e!="string"||!e.startsWith("{")?Ae(t,C,ue.fromBytes(typeof e=="string"?Te(e):e)):Ae(t,C,ue.restore(JSON.parse(e))),t}static registerGlobalSerializationPlugin(e,t){Ke().serializationPlugins.set(e,t??e)}static unregisterGlobalSerializationPlugin(e){Ke().serializationPlugins.delete(e)}static registerGlobalBuildPlugin(e,t){Ke().buildPlugins.set(e,t??e)}static unregisterGlobalBuildPlugin(e){Ke().buildPlugins.delete(e)}addSerializationPlugin(e){_(this,Ye).push(e)}addBuildPlugin(e){_(this,st).push(e)}addIntentResolver(e,t){if(_(this,Pe).has(e)&&_(this,Pe).get(e)!==t)throw new Error(`Intent resolver for ${e} already exists`);_(this,Pe).set(e,t)}setSender(e){_(this,C).sender=e}setSenderIfNotSet(e){_(this,C).sender||(_(this,C).sender=e)}setExpiration(e){_(this,C).expiration=e?R($s,e):null}setGasPrice(e){_(this,C).gasConfig.price=String(e)}setGasBudget(e){_(this,C).gasConfig.budget=String(e)}setGasBudgetIfNotSet(e){_(this,C).gasData.budget==null&&(_(this,C).gasConfig.budget=String(e))}setGasOwner(e){_(this,C).gasConfig.owner=e}setGasPayment(e){_(this,C).gasConfig.payment=e.map(t=>R(Ie,t))}get blockData(){return ns(_(this,C).snapshot())}getData(){return _(this,C).snapshot()}get[Us](){return!0}get pure(){return Object.defineProperty(this,"pure",{enumerable:!1,value:ci(e=>Dt(e)?_(this,C).addInput("pure",{$kind:"Pure",Pure:{bytes:e.toBase64()}}):_(this,C).addInput("pure",Tt(ts,e)?R(ts,e):e instanceof Uint8Array?_e.Pure(e):{$kind:"UnresolvedPure",UnresolvedPure:{value:e}}))}),this.pure}get gas(){return{$kind:"GasCoin",GasCoin:!0}}objectRef(...e){return this.object(_e.ObjectRef(...e))}receivingRef(...e){return this.object(_e.ReceivingRef(...e))}sharedObjectRef(...e){return this.object(_e.SharedObjectRef(...e))}add(e){if(typeof e=="function")return e(this);const t=_(this,C).commands.push(e);return cs(t-1)}splitCoins(e,t){const r=$e.SplitCoins(typeof e=="string"?this.object(e):ve(this,oe,Jt).call(this,e),t.map(i=>typeof i=="number"||typeof i=="bigint"||typeof i=="string"?this.pure.u64(i):ve(this,oe,ft).call(this,i))),n=_(this,C).commands.push(r);return cs(n-1,t.length)}mergeCoins(e,t){return this.add($e.MergeCoins(this.object(e),t.map(r=>this.object(r))))}publish({modules:e,dependencies:t}){return this.add($e.Publish({modules:e,dependencies:t}))}upgrade({modules:e,dependencies:t,package:r,ticket:n}){return this.add($e.Upgrade({modules:e,dependencies:t,package:r,ticket:this.object(n)}))}moveCall({arguments:e,...t}){return this.add($e.MoveCall({...t,arguments:e==null?void 0:e.map(r=>ve(this,oe,ft).call(this,r))}))}transferObjects(e,t){return this.add($e.TransferObjects(e.map(r=>this.object(r)),typeof t=="string"?this.pure.address(t):ve(this,oe,ft).call(this,t)))}makeMoveVec({type:e,elements:t}){return this.add($e.MakeMoveVec({type:e,elements:t.map(r=>this.object(r))}))}serialize(){return JSON.stringify(ns(_(this,C).snapshot()))}async toJSON(e={}){return await this.prepareForSerialization(e),JSON.stringify(R($n,_(this,C).snapshot()),(t,r)=>typeof r=="bigint"?r.toString():r,2)}async sign(e){const{signer:t,...r}=e,n=await this.build(r);return t.signTransaction(n)}async build(e={}){return await this.prepareForSerialization(e),await ve(this,oe,$t).call(this,e),_(this,C).build({onlyTransactionKind:e.onlyTransactionKind})}async getDigest(e={}){return await ve(this,oe,$t).call(this,e),_(this,C).getDigest()}async prepareForSerialization(e){var n;const t=new Set;for(const i of _(this,C).commands)i.$Intent&&t.add(i.$Intent.name);const r=[..._(this,Ye)];for(const i of t)if(!((n=e.supportedIntents)!=null&&n.includes(i))){if(!_(this,Pe).has(i))throw new Error(`Missing intent resolver for ${i}`);r.push(_(this,Pe).get(i))}await ve(this,oe,Ht).call(this,r,e)}};Ye=new WeakMap;st=new WeakMap;Pe=new WeakMap;C=new WeakMap;oe=new WeakSet;ft=function(s){return Dt(s)?this.pure(s):ve(this,oe,Jt).call(this,s)};Jt=function(s){return typeof s=="function"?R(E,s(this)):R(E,s)};$t=async function(s){if(!s.onlyTransactionKind&&!_(this,C).sender)throw new Error("Missing transaction sender");await ve(this,oe,Ht).call(this,[..._(this,st),Yn],s)};Ht=async function(s,e){const t=r=>{if(r>=s.length)return()=>{};const n=s[r];return async()=>{const i=t(r+1);let a=!1,o=!1;if(await n(_(this,C),e,async()=>{if(a)throw new Error(`next() was call multiple times in TransactionPlugin ${r}`);a=!0,await i(),o=!0}),!a)throw new Error(`next() was not called in TransactionPlugin ${r}`);if(!o)throw new Error(`next() was not awaited in TransactionPlugin ${r}`)}};await t(0)()};let Bs=li;class di extends Is{constructor(){super(...arguments),this.core=this}async getDynamicField(e){const t=Un(e.parentId,Bt.parseFromStr(e.name.type),e.name.bcs),{objects:[r]}=await this.getObjects({objectIds:[t]});if(r instanceof Error)throw r;const n=sr(r.type);return{dynamicField:{id:r.id,digest:r.digest,version:r.version,type:r.type,name:{type:typeof n.typeParams[0]=="string"?n.typeParams[0]:xt(n.typeParams[0]),bcs:e.name.bcs},value:{type:typeof n.typeParams[1]=="string"?n.typeParams[1]:xt(n.typeParams[1]),bcs:r.content.slice(rr+e.name.bcs.length)}}}}async waitForTransaction({signal:e,timeout:t=60*1e3,...r}){const n=e?AbortSignal.any([AbortSignal.timeout(t),e]):AbortSignal.timeout(t),i=new Promise((a,o)=>{n.addEventListener("abort",()=>o(n.reason))});for(i.catch(()=>{});;){n.throwIfAborted();try{return await this.getTransaction({...r,signal:n})}catch{await Promise.race([new Promise(o=>setTimeout(o,2e3)),i])}}}}class pi extends Error{}class Se extends pi{constructor(e,t){super(t),this.code=e}static fromResponse(e,t){switch(e.code){case"notExists":return new Se(e.code,`Object ${e.object_id} does not exist`);case"dynamicFieldNotFound":return new Se(e.code,`Dynamic field not found for object ${e.parent_object_id}`);case"deleted":return new Se(e.code,`Object ${e.object_id} has been deleted`);case"displayError":return new Se(e.code,`Display error: ${e.error}`);case"unknown":default:return new Se(e.code,`Unknown error while loading object${t?` ${t}`:""}`)}}}var Ds=s=>{throw TypeError(s)},Vs=(s,e,t)=>e.has(s)||Ds("Cannot "+t),he=(s,e,t)=>(Vs(s,e,"read from private field"),t?t.call(s):e.get(s)),hi=(s,e,t)=>e.has(s)?Ds("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),fi=(s,e,t,r)=>(Vs(s,e,"write to private field"),e.set(s,t),t),Y;class gi extends di{constructor(e){super({network:e.network}),hi(this,Y),fi(this,Y,e)}async getObjects(e){const t=Zr(e.objectIds,50),r=[];for(const n of t){const i=await he(this,Y).multiGetObjects({ids:n,options:{showOwner:!0,showType:!0,showBcs:!0}});for(const[a,o]of i.entries())o.error?r.push(Se.fromResponse(o.error,n[a])):r.push(ls(o.data))}return{objects:r}}async getOwnedObjects(e){const t=await he(this,Y).getOwnedObjects({owner:e.address,limit:e.limit,cursor:e.cursor,options:{showOwner:!0,showType:!0,showBcs:!0}});return{objects:t.data.map(r=>{if(r.error)throw Se.fromResponse(r.error);return ls(r.data)}),hasNextPage:t.hasNextPage,cursor:t.nextCursor??null}}async getCoins(e){const t=await he(this,Y).getCoins({owner:e.address,coinType:e.coinType});return{objects:t.data.map(r=>({id:r.coinObjectId,version:r.version,digest:r.digest,balance:r.balance,type:`0x2::coin::Coin<${r.coinType}>`,content:ki.serialize({id:r.coinObjectId,balance:{value:r.balance}}).toBytes(),owner:{$kind:"ObjectOwner",ObjectOwner:e.address}})),hasNextPage:t.hasNextPage,cursor:t.nextCursor??null}}async getBalance(e){const t=await he(this,Y).getBalance({owner:e.address,coinType:e.coinType});return{balance:{coinType:t.coinType,balance:t.totalBalance}}}async getAllBalances(e){return{balances:(await he(this,Y).getAllBalances({owner:e.address})).map(r=>({coinType:r.coinType,balance:r.totalBalance})),hasNextPage:!1,cursor:null}}async getTransaction(e){const t=await he(this,Y).getTransactionBlock({digest:e.digest,options:{showRawInput:!0,showObjectChanges:!0,showRawEffects:!0,showEvents:!0}});return{transaction:ds(t)}}async executeTransaction(e){const t=await he(this,Y).executeTransactionBlock({transactionBlock:e.transaction,signature:e.signatures,options:{showRawEffects:!0,showEvents:!0,showObjectChanges:!0,showRawInput:!0}});return{transaction:ds(t)}}async dryRunTransaction(e){const t=Bs.from(e.transaction),r=await he(this,Y).dryRunTransactionBlock({transactionBlock:e.transaction});return{transaction:{digest:await t.getDigest(),effects:vi({effects:r.effects,objectChanges:r.objectChanges}),signatures:[],bcs:e.transaction}}}async getReferenceGasPrice(){const e=await he(this,Y).getReferenceGasPrice();return{referenceGasPrice:String(e)}}async getDynamicFields(e){const t=await he(this,Y).getDynamicFields({parentId:e.parentId,limit:e.limit,cursor:e.cursor});return{dynamicFields:t.data.map(r=>({id:r.objectId,version:r.version,digest:r.digest,type:r.objectType,name:{type:r.name.type,bcs:Te(r.bcsName)}})),hasNextPage:t.hasNextPage,cursor:t.nextCursor}}}Y=new WeakMap;function ls(s){var e;return{id:s.objectId,version:s.version,digest:s.digest,type:s.type,content:((e=s.bcs)==null?void 0:e.dataType)==="moveObject"?Te(s.bcs.bcsBytes):new Uint8Array,owner:Le(s.owner)}}function Le(s){if(s==="Immutable")return{$kind:"Immutable",Immutable:!0};if("ConsensusV2"in s)return{$kind:"ConsensusV2",ConsensusV2:{authenticator:{$kind:"SingleOwner",SingleOwner:s.ConsensusV2.authenticator.SingleOwner},startVersion:s.ConsensusV2.start_version}};if("AddressOwner"in s)return{$kind:"AddressOwner",AddressOwner:s.AddressOwner};if("ObjectOwner"in s)return{$kind:"ObjectOwner",ObjectOwner:s.ObjectOwner};if("Shared"in s)return{$kind:"Shared",Shared:{initialSharedVersion:s.Shared.initial_shared_version}};throw new Error(`Unknown owner type: ${JSON.stringify(s)}`)}function ds(s){const e=g.SenderSignedData.parse(Te(s.rawTransaction))[0];return{digest:s.digest,effects:bi({effects:new Uint8Array(s.rawEffects),objectChanges:s.objectChanges??null}),bcs:g.TransactionData.serialize(e.intentMessage.value).toBytes(),signatures:e.txSignatures}}function bi({effects:s,epoch:e,objectChanges:t}){const r=g.TransactionEffects.parse(s),n={};switch(t==null||t.forEach(i=>{i.type!=="published"&&(n[i.objectId]=i.objectType)}),r.$kind){case"V1":return mi({effects:r.V1});case"V2":return yi({bytes:s,effects:r.V2,epoch:e,objectTypes:n});default:throw new Error(`Unknown transaction effects version: ${r.$kind}`)}}function mi(s){throw new Error("V1 effects are not supported yet")}function yi({bytes:s,effects:e,epoch:t,objectTypes:r}){const n=e.changedObjects.map(([i,a])=>{var o,u,p,c,d,b;return{id:i,inputState:a.inputState.$kind==="Exist"?"Exists":"DoesNotExist",inputVersion:((o=a.inputState.Exist)==null?void 0:o[0][0])??null,inputDigest:((u=a.inputState.Exist)==null?void 0:u[0][1])??null,inputOwner:((p=a.inputState.Exist)==null?void 0:p[1])??null,outputState:a.outputState.$kind==="NotExist"?"DoesNotExist":a.outputState.$kind,outputVersion:a.outputState.$kind==="PackageWrite"?(c=a.outputState.PackageWrite)==null?void 0:c[0]:a.outputState.ObjectWrite?e.lamportVersion:null,outputDigest:a.outputState.$kind==="PackageWrite"?(d=a.outputState.PackageWrite)==null?void 0:d[1]:((b=a.outputState.ObjectWrite)==null?void 0:b[0])??null,outputOwner:a.outputState.ObjectWrite?a.outputState.ObjectWrite[1]:null,idOperation:a.idOperation.$kind,objectType:r[i]??null}});return{bcs:s,digest:e.transactionDigest,version:2,status:e.status.$kind==="Success"?{success:!0,error:null}:{success:!1,error:e.status.Failed.error.$kind},epoch:t??null,gasUsed:e.gasUsed,transactionDigest:e.transactionDigest,gasObject:e.gasObjectIndex===null?null:n[e.gasObjectIndex]??null,eventsDigest:e.eventsDigest,dependencies:e.dependencies,lamportVersion:e.lamportVersion,changedObjects:n,unchangedSharedObjects:e.unchangedSharedObjects.map(([i,a])=>({kind:a.$kind,objectId:i,version:a.$kind==="ReadOnlyRoot"?a.ReadOnlyRoot[0]:a[a.$kind],digest:a.$kind==="ReadOnlyRoot"?a.ReadOnlyRoot[1]:null,objectType:r[i]??null})),auxiliaryDataDigest:e.auxDataDigest}}function vi({bytes:s,effects:e,epoch:t,objectChanges:r}){var a;const n=[],i=[];return r==null||r.forEach(o=>{var u,p,c,d;switch(o.type){case"published":n.push({id:o.packageId,inputState:"DoesNotExist",inputVersion:null,inputDigest:null,inputOwner:null,outputState:"PackageWrite",outputVersion:o.version,outputDigest:o.digest,outputOwner:null,idOperation:"Created",objectType:null});break;case"transferred":n.push({id:o.objectId,inputState:"Exists",inputVersion:o.version,inputDigest:o.digest,inputOwner:{$kind:"AddressOwner",AddressOwner:o.sender},outputState:"ObjectWrite",outputVersion:o.version,outputDigest:o.digest,outputOwner:Le(o.recipient),idOperation:"None",objectType:o.objectType});break;case"mutated":n.push({id:o.objectId,inputState:"Exists",inputVersion:o.previousVersion,inputDigest:null,inputOwner:Le(o.owner),outputState:"ObjectWrite",outputVersion:o.version,outputDigest:o.digest,outputOwner:Le(o.owner),idOperation:"None",objectType:o.objectType});break;case"deleted":n.push({id:o.objectId,inputState:"Exists",inputVersion:o.version,inputDigest:((p=(u=e.deleted)==null?void 0:u.find(b=>b.objectId===o.objectId))==null?void 0:p.digest)??null,inputOwner:null,outputState:"DoesNotExist",outputVersion:null,outputDigest:null,outputOwner:null,idOperation:"Deleted",objectType:o.objectType});break;case"wrapped":n.push({id:o.objectId,inputState:"Exists",inputVersion:o.version,inputDigest:null,inputOwner:{$kind:"AddressOwner",AddressOwner:o.sender},outputState:"ObjectWrite",outputVersion:o.version,outputDigest:((d=(c=e.wrapped)==null?void 0:c.find(b=>b.objectId===o.objectId))==null?void 0:d.digest)??null,outputOwner:{$kind:"ObjectOwner",ObjectOwner:o.sender},idOperation:"None",objectType:o.objectType});break;case"created":n.push({id:o.objectId,inputState:"DoesNotExist",inputVersion:null,inputDigest:null,inputOwner:null,outputState:"ObjectWrite",outputVersion:o.version,outputDigest:o.digest,outputOwner:Le(o.owner),idOperation:"Created",objectType:o.objectType});break}}),{bcs:s??null,digest:e.transactionDigest,version:2,status:e.status.status==="success"?{success:!0,error:null}:{success:!1,error:e.status.error},epoch:t??null,gasUsed:e.gasUsed,transactionDigest:e.transactionDigest,gasObject:{id:(a=e.gasObject)==null?void 0:a.reference.objectId,inputState:"Exists",inputVersion:null,inputDigest:null,inputOwner:null,outputState:"ObjectWrite",outputVersion:e.gasObject.reference.version,outputDigest:e.gasObject.reference.digest,outputOwner:Le(e.gasObject.owner),idOperation:"None",objectType:xt("0x2::coin::Coin<0x2::sui::SUI>")},eventsDigest:e.eventsDigest??null,dependencies:e.dependencies??[],lamportVersion:e.gasObject.reference.version,changedObjects:n,unchangedSharedObjects:i,auxiliaryDataDigest:null}}const wi=g.struct("Balance",{value:g.u64()}),ki=g.struct("Coin",{id:g.Address,balance:wi}),_i=Symbol.for("@mysten/SuiClient");class Oi extends Is{constructor(e){super({network:e.network??"unknown"}),this.core=new gi(this),this.jsonRpc=this,this.transport=e.transport??new Fr({url:e.url})}get[_i](){return!0}async getRpcApiVersion({signal:e}={}){return(await this.transport.request({method:"rpc.discover",params:[],signal:e})).info.version}async getCoins(e){if(!e.owner||!Re($(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getCoins",params:[e.owner,e.coinType,e.cursor,e.limit],signal:e.signal})}async getAllCoins(e){if(!e.owner||!Re($(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllCoins",params:[e.owner,e.cursor,e.limit],signal:e.signal})}async getBalance(e){if(!e.owner||!Re($(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getBalance",params:[e.owner,e.coinType],signal:e.signal})}async getAllBalances(e){if(!e.owner||!Re($(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllBalances",params:[e.owner],signal:e.signal})}async getCoinMetadata(e){return await this.transport.request({method:"suix_getCoinMetadata",params:[e.coinType],signal:e.signal})}async getTotalSupply(e){return await this.transport.request({method:"suix_getTotalSupply",params:[e.coinType],signal:e.signal})}async call(e,t,{signal:r}={}){return await this.transport.request({method:e,params:t,signal:r})}async getMoveFunctionArgTypes(e){return await this.transport.request({method:"sui_getMoveFunctionArgTypes",params:[e.package,e.module,e.function],signal:e.signal})}async getNormalizedMoveModulesByPackage(e){return await this.transport.request({method:"sui_getNormalizedMoveModulesByPackage",params:[e.package],signal:e.signal})}async getNormalizedMoveModule(e){return await this.transport.request({method:"sui_getNormalizedMoveModule",params:[e.package,e.module],signal:e.signal})}async getNormalizedMoveFunction(e){return await this.transport.request({method:"sui_getNormalizedMoveFunction",params:[e.package,e.module,e.function],signal:e.signal})}async getNormalizedMoveStruct(e){return await this.transport.request({method:"sui_getNormalizedMoveStruct",params:[e.package,e.module,e.struct],signal:e.signal})}async getOwnedObjects(e){if(!e.owner||!Re($(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getOwnedObjects",params:[e.owner,{filter:e.filter,options:e.options},e.cursor,e.limit],signal:e.signal})}async getObject(e){if(!e.id||!lt(ke(e.id)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"sui_getObject",params:[e.id,e.options],signal:e.signal})}async tryGetPastObject(e){return await this.transport.request({method:"sui_tryGetPastObject",params:[e.id,e.version,e.options],signal:e.signal})}async multiGetObjects(e){if(e.ids.forEach(r=>{if(!r||!lt(ke(r)))throw new Error(`Invalid Sui Object id ${r}`)}),e.ids.length!==new Set(e.ids).size)throw new Error(`Duplicate object ids in batch call ${e.ids}`);return await this.transport.request({method:"sui_multiGetObjects",params:[e.ids,e.options],signal:e.signal})}async queryTransactionBlocks(e){return await this.transport.request({method:"suix_queryTransactionBlocks",params:[{filter:e.filter,options:e.options},e.cursor,e.limit,(e.order||"descending")==="descending"],signal:e.signal})}async getTransactionBlock(e){if(!Yt(e.digest))throw new Error("Invalid Transaction digest");return await this.transport.request({method:"sui_getTransactionBlock",params:[e.digest,e.options],signal:e.signal})}async multiGetTransactionBlocks(e){if(e.digests.forEach(r=>{if(!Yt(r))throw new Error(`Invalid Transaction digest ${r}`)}),e.digests.length!==new Set(e.digests).size)throw new Error(`Duplicate digests in batch call ${e.digests}`);return await this.transport.request({method:"sui_multiGetTransactionBlocks",params:[e.digests,e.options],signal:e.signal})}async executeTransactionBlock({transactionBlock:e,signature:t,options:r,requestType:n,signal:i}){const a=await this.transport.request({method:"sui_executeTransactionBlock",params:[typeof e=="string"?e:fe(e),Array.isArray(t)?t:[t],r],signal:i});if(n==="WaitForLocalExecution")try{await this.waitForTransaction({digest:a.digest})}catch{}return a}async signAndExecuteTransaction({transaction:e,signer:t,...r}){let n;e instanceof Uint8Array?n=e:(e.setSenderIfNotSet(t.toSuiAddress()),n=await e.build({client:this}));const{signature:i,bytes:a}=await t.signTransaction(n);return this.executeTransactionBlock({transactionBlock:a,signature:i,...r})}async getTotalTransactionBlocks({signal:e}={}){const t=await this.transport.request({method:"sui_getTotalTransactionBlocks",params:[],signal:e});return BigInt(t)}async getReferenceGasPrice({signal:e}={}){const t=await this.transport.request({method:"suix_getReferenceGasPrice",params:[],signal:e});return BigInt(t)}async getStakes(e){if(!e.owner||!Re($(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getStakes",params:[e.owner],signal:e.signal})}async getStakesByIds(e){return e.stakedSuiIds.forEach(t=>{if(!t||!lt(ke(t)))throw new Error(`Invalid Sui Stake id ${t}`)}),await this.transport.request({method:"suix_getStakesByIds",params:[e.stakedSuiIds],signal:e.signal})}async getLatestSuiSystemState({signal:e}={}){return await this.transport.request({method:"suix_getLatestSuiSystemState",params:[],signal:e})}async queryEvents(e){return await this.transport.request({method:"suix_queryEvents",params:[e.query,e.cursor,e.limit,(e.order||"descending")==="descending"],signal:e.signal})}async subscribeEvent(e){return this.transport.subscribe({method:"suix_subscribeEvent",unsubscribe:"suix_unsubscribeEvent",params:[e.filter],onMessage:e.onMessage,signal:e.signal})}async subscribeTransaction(e){return this.transport.subscribe({method:"suix_subscribeTransaction",unsubscribe:"suix_unsubscribeTransaction",params:[e.filter],onMessage:e.onMessage,signal:e.signal})}async devInspectTransactionBlock(e){var r,n;let t;if(Ns(e.transactionBlock))e.transactionBlock.setSenderIfNotSet(e.sender),t=fe(await e.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if(typeof e.transactionBlock=="string")t=e.transactionBlock;else if(e.transactionBlock instanceof Uint8Array)t=fe(e.transactionBlock);else throw new Error("Unknown transaction block format.");return(r=e.signal)==null||r.throwIfAborted(),await this.transport.request({method:"sui_devInspectTransactionBlock",params:[e.sender,t,(n=e.gasPrice)==null?void 0:n.toString(),e.epoch],signal:e.signal})}async dryRunTransactionBlock(e){return await this.transport.request({method:"sui_dryRunTransactionBlock",params:[typeof e.transactionBlock=="string"?e.transactionBlock:fe(e.transactionBlock)]})}async getDynamicFields(e){if(!e.parentId||!lt(ke(e.parentId)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"suix_getDynamicFields",params:[e.parentId,e.cursor,e.limit],signal:e.signal})}async getDynamicFieldObject(e){return await this.transport.request({method:"suix_getDynamicFieldObject",params:[e.parentId,e.name],signal:e.signal})}async getLatestCheckpointSequenceNumber({signal:e}={}){const t=await this.transport.request({method:"sui_getLatestCheckpointSequenceNumber",params:[],signal:e});return String(t)}async getCheckpoint(e){return await this.transport.request({method:"sui_getCheckpoint",params:[e.id],signal:e.signal})}async getCheckpoints(e){return await this.transport.request({method:"sui_getCheckpoints",params:[e.cursor,e==null?void 0:e.limit,e.descendingOrder],signal:e.signal})}async getCommitteeInfo(e){return await this.transport.request({method:"suix_getCommitteeInfo",params:[e==null?void 0:e.epoch],signal:e==null?void 0:e.signal})}async getNetworkMetrics({signal:e}={}){return await this.transport.request({method:"suix_getNetworkMetrics",params:[],signal:e})}async getAddressMetrics({signal:e}={}){return await this.transport.request({method:"suix_getLatestAddressMetrics",params:[],signal:e})}async getEpochMetrics(e){return await this.transport.request({method:"suix_getEpochMetrics",params:[e==null?void 0:e.cursor,e==null?void 0:e.limit,e==null?void 0:e.descendingOrder],signal:e==null?void 0:e.signal})}async getAllEpochAddressMetrics(e){return await this.transport.request({method:"suix_getAllEpochAddressMetrics",params:[e==null?void 0:e.descendingOrder],signal:e==null?void 0:e.signal})}async getEpochs(e){return await this.transport.request({method:"suix_getEpochs",params:[e==null?void 0:e.cursor,e==null?void 0:e.limit,e==null?void 0:e.descendingOrder],signal:e==null?void 0:e.signal})}async getMoveCallMetrics({signal:e}={}){return await this.transport.request({method:"suix_getMoveCallMetrics",params:[],signal:e})}async getCurrentEpoch({signal:e}={}){return await this.transport.request({method:"suix_getCurrentEpoch",params:[],signal:e})}async getValidatorsApy({signal:e}={}){return await this.transport.request({method:"suix_getValidatorsApy",params:[],signal:e})}async getChainIdentifier({signal:e}={}){const t=await this.getCheckpoint({id:"0",signal:e}),r=nr(t.digest);return ms(r.slice(0,4))}async resolveNameServiceAddress(e){return await this.transport.request({method:"suix_resolveNameServiceAddress",params:[e.name],signal:e.signal})}async resolveNameServiceNames({format:e="dot",...t}){const{nextCursor:r,hasNextPage:n,data:i}=await this.transport.request({method:"suix_resolveNameServiceNames",params:[t.address,t.cursor,t.limit],signal:t.signal});return{hasNextPage:n,nextCursor:r,data:i.map(a=>ir(a,e))}}async getProtocolConfig(e){return await this.transport.request({method:"sui_getProtocolConfig",params:[e==null?void 0:e.version],signal:e==null?void 0:e.signal})}async waitForTransaction({signal:e,timeout:t=60*1e3,pollInterval:r=2*1e3,...n}){const i=AbortSignal.timeout(t),a=new Promise((o,u)=>{i.addEventListener("abort",()=>u(i.reason))});for(a.catch(()=>{});!i.aborted;){e==null||e.throwIfAborted();try{return await this.getTransactionBlock(n)}catch{await Promise.race([new Promise(u=>setTimeout(u,r)),a])}}throw i.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}experimental_asClientExtension(){return{name:"jsonRPC",register:()=>this}}}var Ci=(s,e)=>q(e,!0),xi=(s,e)=>q(e,!1),ji=z('<div class="h-[50%]"><!></div>'),Si=z('<div class="flex w-[100%] h-full flex-grow mx-auto flex-col"><!> <div class="flex w-full h-[50%] flex-col justify-around"><div class="flex w-full h-[15%] justify-around"><button>NFTs</button> <button>Activity</button></div> <div class="h-[85%]"><!></div></div></div>');function Ti(s,e){mt(e,!0);let t=ie(!0),r="",n=ie(0),i=ie(!1),a=ie(!0),o,u=ie(void 0);Nt.subscribe(T=>r=T);const p=Jr("devnet");new Bs;const c=new Oi({url:p}),d=async()=>{q(i,!0);try{let T=await c.getBalance({owner:r});q(n,Number(T.totalBalance),!0),hs.set(JSON.stringify(Number(T))),localStorage.setItem("balance",JSON.stringify(v(n)))}catch(T){T&&q(n,0),console.log(T)}finally{q(i,!1)}};Pt(async()=>{await d()});var b=Si(),y=O(b);kr(y,{get balance(){return v(n)}});var m=M(y,2),N=O(m),j=O(N);j.__click=[Ci,t];var B=M(j,2);B.__click=[xi,t],k(N);var K=M(N,2),ee=O(K);{var le=T=>{var F=ji(),D=O(F);Xs(D),k(F),U(T,F)},ge=(T,F)=>{{var D=W=>{Pr(W,{get assets(){return v(u)}})},Z=W=>{const J=pt(()=>v(a)?Zt.DEVNET:Zt.MAINNET);Tr(W,{get app(){return v(J)},transactions:o})};Oe(T,W=>{v(t)?W(D):W(Z,!1)},F)}};Oe(ee,T=>{v(i)?T(le):T(ge,!1)})}k(K),k(m),k(b),Be(()=>{gt(j,1,`px-1 py-2 w-[40%]   ${v(t)?"border-b border-opacity-50 border-secondary dark:border-action text-secondary dark:bg-transparent dark:text-action":"text-gray-700 dark:text-white"}`),gt(B,1,`px-1 py-2 w-[40%]  ${v(t)?"text-gray-700 dark:text-white":"text-secondary  border-b border-opacity-50 border-secondary dark:border-action dark:bg-transparent dark:text-action"}`)}),U(s,b),yt()}Rt(["click"]);var Ii=z('<div class="h-full flex flex-col"><!> <div class="dark:text-white flex-grow flex flex-col dark:bg-[#171C2F]"><!></div></div>');function Zi(s){var e=Ii(),t=O(e);ar(t,{});var r=M(t,2),n=O(r);Ti(n,{}),k(r),k(e),U(s,e)}export{Zi as component};
