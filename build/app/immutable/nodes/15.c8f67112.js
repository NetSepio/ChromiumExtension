import{S as SvelteComponent,i as init,s as safe_not_equal,k as element,y as create_component,a as space,O as svg_element,q as text,l as claim_element,m as children,z as claim_component,c as claim_space,P as claim_svg_element,h as detach,r as claim_text,n as attr,X as add_render_callback,L as toggle_class,b as insert_hydration,A as mount_component,D as append_hydration,Y as select_option,M as set_input_value,K as listen,u as set_data,Z as to_number,g as transition_in,d as transition_out,B as destroy_component,N as run_all,o as onMount,_ as select_value}from"../chunks/index.89e71670.js";import{g as getDefaultExportFromCjs,c as commonjsGlobal,d as getAugmentedNamespace,j as jwtToken}from"../chunks/store.b194c171.js";import{a as PUBLIC_NFT_STORAGE_API_KEY,P as PUBLIC_GATEWAY_URL}from"../chunks/public.6087a87e.js";import{H as Header,c as checkAuth}from"../chunks/Header.cf7b0240.js";import{L as Loader}from"../chunks/Loader.ef1f0f41.js";function getIterator(t){if(typeof t.next=="function")return t;if(typeof t[Symbol.iterator]=="function")return t[Symbol.iterator]();if(typeof t[Symbol.asyncIterator]=="function")return t[Symbol.asyncIterator]();throw new TypeError('"values" does not to conform to any of the iterator or iterable protocols')}function defer(){let t,e;return{promise:new Promise((n,o)=>{e=n,t=o}),reject:t,resolve:e}}function _transform(t,e,r){const n=getIterator(r),o=[],a=[];let u=!1,c=!1,d=0,m=null;function y(){for(;a.length>0&&o.length>0;){const{resolve:h}=a.shift(),E=o.shift();h({done:!1,value:E})}for(;a.length>0&&d===0&&u;){const{resolve:h,reject:E}=a.shift();m?(E(m),m=null):h({done:!0,value:void 0})}}async function D(){if(u){y();return}if(!c&&!(d+o.length>=t)){c=!0,d++;try{const{done:h,value:E}=await n.next();h?(u=!0,d--,y()):T(E)}catch(h){u=!0,d--,m=h,y()}c=!1,D()}}async function T(h){try{const E=await e(h);o.push(E)}catch(E){u=!0,m=E}d--,y(),D()}async function w(){if(o.length===0){const E=defer();return a.push(E),D(),E.promise}const h=o.shift();return D(),{done:!1,value:h}}const _={next:w,[Symbol.asyncIterator]:()=>_};return _}function transform(t,e,r){return e===void 0?(n,o)=>o?transform(t,n,o):transform(t,n):r===void 0?n=>transform(t,e,n):_transform(t,e,r)}var pRetry$2={exports:{}},retry$2={};function RetryOperation(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var retry_operation=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};RetryOperation.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};RetryOperation.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};RetryOperation.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};RetryOperation.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,r=0,n=0;n<this._errors.length;n++){var o=this._errors[n],a=o.message,u=(t[a]||0)+1;t[a]=u,u>=r&&(e=o,r=u)}return e};(function(t){var e=retry_operation;t.operation=function(r){var n=t.timeouts(r);return new e(n,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},t.timeouts=function(r){if(r instanceof Array)return[].concat(r);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var o in r)n[o]=r[o];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],u=0;u<n.retries;u++)a.push(this.createTimeout(u,n));return r&&r.forever&&!a.length&&a.push(this.createTimeout(u,n)),a.sort(function(c,d){return c-d}),a},t.createTimeout=function(r,n){var o=n.randomize?Math.random()+1:1,a=Math.round(o*Math.max(n.minTimeout,1)*Math.pow(n.factor,r));return a=Math.min(a,n.maxTimeout),a},t.wrap=function(r,n,o){if(n instanceof Array&&(o=n,n=null),!o){o=[];for(var a in r)typeof r[a]=="function"&&o.push(a)}for(var u=0;u<o.length;u++){var c=o[u],d=r[c];r[c]=(function(y){var D=t.operation(n),T=Array.prototype.slice.call(arguments,1),w=T.pop();T.push(function(_){D.retry(_)||(_&&(arguments[0]=D.mainError()),w.apply(this,arguments))}),D.attempt(function(){y.apply(r,T)})}).bind(r,d),r[c].options=n}}})(retry$2);var retry$1=retry$2;const retry=retry$1,networkErrorMsgs=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class AbortError extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const decorateErrorWithCounts=(t,e,r)=>{const n=r.retries-(e-1);return t.attemptNumber=e,t.retriesLeft=n,t},isNetworkError=t=>networkErrorMsgs.includes(t),pRetry=(t,e)=>new Promise((r,n)=>{e={onFailedAttempt:()=>{},retries:10,...e};const o=retry.operation(e);o.attempt(async a=>{try{r(await t(a))}catch(u){if(!(u instanceof Error)){n(new TypeError(`Non-error was thrown: "${u}". You should only throw errors.`));return}if(u instanceof AbortError)o.stop(),n(u.originalError);else if(u instanceof TypeError&&!isNetworkError(u.message))o.stop(),n(u);else{decorateErrorWithCounts(u,a,e);try{await e.onFailedAttempt(u)}catch(c){n(c);return}o.retry(u)||n(o.mainError())}}})});pRetry$2.exports=pRetry;pRetry$2.exports.default=pRetry;var AbortError_1=pRetry$2.exports.AbortError=AbortError,pRetryExports=pRetry$2.exports;const pRetry$1=getDefaultExportFromCjs(pRetryExports);var encode_1$1=encode$9,MSB$3=128,REST$3=127,MSBALL$1=~REST$3,INT$1=Math.pow(2,31);function encode$9(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw encode$9.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var n=r;t>=INT$1;)e[r++]=t&255|MSB$3,t/=128;for(;t&MSBALL$1;)e[r++]=t&255|MSB$3,t>>>=7;return e[r]=t|0,encode$9.bytes=r-n+1,e}var decode$a=read$1,MSB$2=128,REST$2=127;function read$1(t,n){var r=0,n=n||0,o=0,a=n,u,c=t.length;do{if(a>=c||o>49)throw read$1.bytes=0,new RangeError("Could not decode varint");u=t[a++],r+=o<28?(u&REST$2)<<o:(u&REST$2)*Math.pow(2,o),o+=7}while(u>=MSB$2);return read$1.bytes=a-n,r}var N1$1=Math.pow(2,7),N2$1=Math.pow(2,14),N3$1=Math.pow(2,21),N4$1=Math.pow(2,28),N5$1=Math.pow(2,35),N6$1=Math.pow(2,42),N7$1=Math.pow(2,49),N8$1=Math.pow(2,56),N9$1=Math.pow(2,63),length$1=function(t){return t<N1$1?1:t<N2$1?2:t<N3$1?3:t<N4$1?4:t<N5$1?5:t<N6$1?6:t<N7$1?7:t<N8$1?8:t<N9$1?9:10},varint$1={encode:encode_1$1,decode:decode$a,encodingLength:length$1};const varint$2=getDefaultExportFromCjs(varint$1);var encode_1=encode$8,MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31);function encode$8(t,e,r){e=e||[],r=r||0;for(var n=r;t>=INT;)e[r++]=t&255|MSB,t/=128;for(;t&MSBALL;)e[r++]=t&255|MSB,t>>>=7;return e[r]=t|0,encode$8.bytes=r-n+1,e}var decode$9=read,MSB$1=128,REST$1=127;function read(t,n){var r=0,n=n||0,o=0,a=n,u,c=t.length;do{if(a>=c)throw read.bytes=0,new RangeError("Could not decode varint");u=t[a++],r+=o<28?(u&REST$1)<<o:(u&REST$1)*Math.pow(2,o),o+=7}while(u>=MSB$1);return read.bytes=a-n,r}var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function(t){return t<N1?1:t<N2?2:t<N3?3:t<N4?4:t<N5?5:t<N6?6:t<N7?7:t<N8?8:t<N9?9:10},varint={encode:encode_1,decode:decode$9,encodingLength:length},_brrp_varint=varint;const decode$8=(t,e=0)=>[_brrp_varint.decode(t,e),_brrp_varint.decode.bytes],encodeTo=(t,e,r=0)=>(_brrp_varint.encode(t,e,r),e),encodingLength=t=>_brrp_varint.encodingLength(t),empty=new Uint8Array(0),fromHex=t=>{const e=t.match(/../g);return e?new Uint8Array(e.map(r=>parseInt(r,16))):empty},equals$1=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},coerce=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},fromString$3=t=>new TextEncoder().encode(t),toString$1=t=>new TextDecoder().decode(t),create$4=(t,e)=>{const r=e.byteLength,n=encodingLength(t),o=n+encodingLength(r),a=new Uint8Array(o+r);return encodeTo(t,a,0),encodeTo(r,a,n),a.set(e,o),new Digest(t,r,e,a)},decode$7=t=>{const e=coerce(t),[r,n]=decode$8(e),[o,a]=decode$8(e.subarray(n)),u=e.subarray(n+a);if(u.byteLength!==o)throw new Error("Incorrect length");return new Digest(r,o,u,e)},equals=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&equals$1(t.bytes,e.bytes);class Digest{constructor(e,r,n,o){this.code=e,this.size=r,this.digest=n,this.bytes=o}}function base(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<t.length;o++){var a=t.charAt(o),u=a.charCodeAt(0);if(r[u]!==255)throw new TypeError(a+" is ambiguous");r[u]=o}var c=t.length,d=t.charAt(0),m=Math.log(c)/Math.log(256),y=Math.log(256)/Math.log(c);function D(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var h=0,E=0,B=0,O=_.length;B!==O&&_[B]===0;)B++,h++;for(var k=(O-B)*y+1>>>0,S=new Uint8Array(k);B!==O;){for(var A=_[B],$=0,v=k-1;(A!==0||$<E)&&v!==-1;v--,$++)A+=256*S[v]>>>0,S[v]=A%c>>>0,A=A/c>>>0;if(A!==0)throw new Error("Non-zero carry");E=$,B++}for(var C=k-E;C!==k&&S[C]===0;)C++;for(var I=d.repeat(h);C<k;++C)I+=t.charAt(S[C]);return I}function T(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var h=0;if(_[h]!==" "){for(var E=0,B=0;_[h]===d;)E++,h++;for(var O=(_.length-h)*m+1>>>0,k=new Uint8Array(O);_[h];){var S=r[_.charCodeAt(h)];if(S===255)return;for(var A=0,$=O-1;(S!==0||A<B)&&$!==-1;$--,A++)S+=c*k[$]>>>0,k[$]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");B=A,h++}if(_[h]!==" "){for(var v=O-B;v!==O&&k[v]===0;)v++;for(var C=new Uint8Array(E+(O-v)),I=E;v!==O;)C[I++]=k[v++];return C}}}function w(_){var h=T(_);if(h)return h;throw new Error(`Non-${e} character`)}return{encode:D,decodeUnsafe:T,decode:w}}var src$2=base,_brrp__multiformats_scope_baseX=src$2;class Encoder{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return or(this,e)}}class ComposedDecoder{constructor(e){this.decoders=e}or(e){return or(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or=(t,e)=>new ComposedDecoder({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Codec{constructor(e,r,n,o){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new Encoder(e,r,n),this.decoder=new Decoder(e,r,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const from$1=({name:t,prefix:e,encode:r,decode:n})=>new Codec(t,e,r,n),baseX=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:o}=_brrp__multiformats_scope_baseX(r,e);return from$1({prefix:t,name:e,encode:n,decode:a=>coerce(o(a))})},decode$6=(t,e,r,n)=>{const o={};for(let y=0;y<e.length;++y)o[e[y]]=y;let a=t.length;for(;t[a-1]==="=";)--a;const u=new Uint8Array(a*r/8|0);let c=0,d=0,m=0;for(let y=0;y<a;++y){const D=o[t[y]];if(D===void 0)throw new SyntaxError(`Non-${n} character`);d=d<<r|D,c+=r,c>=8&&(c-=8,u[m++]=255&d>>c)}if(c>=r||255&d<<8-c)throw new SyntaxError("Unexpected end of data");return u},encode$7=(t,e,r)=>{const n=e[e.length-1]==="=",o=(1<<r)-1;let a="",u=0,c=0;for(let d=0;d<t.length;++d)for(c=c<<8|t[d],u+=8;u>r;)u-=r,a+=e[o&c>>u];if(u&&(a+=e[o&c<<r-u]),n)for(;a.length*r&7;)a+="=";return a},rfc4648=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>from$1({prefix:e,name:t,encode(o){return encode$7(o,n,r)},decode(o){return decode$6(o,n,r,t)}}),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$1=Object.freeze(Object.defineProperty({__proto__:null,base32,base32hex,base32hexpad,base32hexpadupper,base32hexupper,base32pad,base32padupper,base32upper,base32z},Symbol.toStringTag,{value:"Module"}));class CID{constructor(e,r,n,o){this.code=r,this.version=e,this.multihash=n,this.bytes=o,this.byteOffset=o.byteOffset,this.byteLength=o.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden,byteLength:hidden,code:readonly$1,version:readonly$1,multihash:readonly$1,bytes:readonly$1,_baseCache:hidden,asCID:hidden})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:r}=this;if(e!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID.createV0(r)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:r}=this.multihash,n=create$4(e,r);return CID.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&equals(this.multihash,e.multihash)}toString(e){const{bytes:r,version:n,_baseCache:o}=this;switch(n){case 0:return toStringV0(r,o,e||base58btc.encoder);default:return toStringV1(r,o,e||base32.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return deprecate(/^0\.0/,IS_CID_DEPRECATION),!!(e&&(e[cidSymbol]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof CID)return e;if(e!=null&&e.asCID===e){const{version:r,code:n,multihash:o,bytes:a}=e;return new CID(r,n,o,a||encodeCID(r,n,o.bytes))}else if(e!=null&&e[cidSymbol]===!0){const{version:r,multihash:n,code:o}=e,a=decode$7(n);return CID.create(r,o,a)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new CID(e,r,n,n.bytes)}case 1:{const o=encodeCID(e,r,n.bytes);return new CID(e,r,n,o)}default:throw new Error("Invalid version")}}static createV0(e){return CID.create(0,DAG_PB_CODE,e)}static createV1(e,r){return CID.create(1,e,r)}static decode(e){const[r,n]=CID.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){const r=CID.inspectBytes(e),n=r.size-r.multihashSize,o=coerce(e.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");const a=o.subarray(r.multihashSize-r.digestSize),u=new Digest(r.multihashCode,r.digestSize,a,o);return[r.version===0?CID.createV0(u):CID.createV1(r.codec,u),e.subarray(r.size)]}static inspectBytes(e){let r=0;const n=()=>{const[D,T]=decode$8(e.subarray(r));return r+=T,D};let o=n(),a=DAG_PB_CODE;if(o===18?(o=0,r=0):o===1&&(a=n()),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);const u=r,c=n(),d=n(),m=r+d,y=m-u;return{version:o,codec:a,multihashCode:c,digestSize:d,multihashSize:y,size:m}}static parse(e,r){const[n,o]=parseCIDtoBytes(e,r),a=CID.decode(o);return a._baseCache.set(n,e),a}}const parseCIDtoBytes=(t,e)=>{switch(t[0]){case"Q":{const r=e||base58btc;return[base58btc.prefix,r.decode(`${base58btc.prefix}${t}`)]}case base58btc.prefix:{const r=e||base58btc;return[base58btc.prefix,r.decode(t)]}case base32.prefix:{const r=e||base32;return[base32.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},toStringV0=(t,e,r)=>{const{prefix:n}=r;if(n!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const o=e.get(n);if(o==null){const a=r.encode(t).slice(1);return e.set(n,a),a}else return o},toStringV1=(t,e,r)=>{const{prefix:n}=r,o=e.get(n);if(o==null){const a=r.encode(t);return e.set(n,a),a}else return o},DAG_PB_CODE=112,SHA_256_CODE=18,encodeCID=(t,e,r)=>{const n=encodingLength(t),o=n+encodingLength(e),a=new Uint8Array(o+r.byteLength);return encodeTo(t,a,0),encodeTo(e,a,n),a.set(r,o),a},cidSymbol=Symbol.for("@ipld/js-cid/CID"),readonly$1={writable:!1,configurable:!1,enumerable:!0},hidden={writable:!1,enumerable:!1,configurable:!1},version="0.0.0-dev",deprecate=(t,e)=>{if(t.test(version))console.warn(e);else throw new Error(e)},IS_CID_DEPRECATION=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,typeofs=["string","number","bigint","symbol"],objectTypeNames=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";const e=typeof t;if(typeofs.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if(isBuffer$1(t))return"Buffer";const r=getObjectType(t);return r||"Object"}function isBuffer$1(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function getObjectType(t){const e=Object.prototype.toString.call(t).slice(8,-1);if(objectTypeNames.includes(e))return e}class Type{constructor(e,r,n){this.major=e,this.majorEncoded=e<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}Type.uint=new Type(0,"uint",!0);Type.negint=new Type(1,"negint",!0);Type.bytes=new Type(2,"bytes",!0);Type.string=new Type(3,"string",!0);Type.array=new Type(4,"array",!1);Type.map=new Type(5,"map",!1);Type.tag=new Type(6,"tag",!1);Type.float=new Type(7,"float",!0);Type.false=new Type(7,"false",!0);Type.true=new Type(7,"true",!0);Type.null=new Type(7,"null",!0);Type.undefined=new Type(7,"undefined",!0);Type.break=new Type(7,"break",!0);let Token$1=class{constructor(e,r,n){this.type=e,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};const useBuffer=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",textDecoder$1=new TextDecoder,textEncoder$2=new TextEncoder;function isBuffer(t){return useBuffer&&globalThis.Buffer.isBuffer(t)}function asU8A(t){return t instanceof Uint8Array?isBuffer(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}const toString=useBuffer?(t,e,r)=>r-e>64?globalThis.Buffer.from(t.subarray(e,r)).toString("utf8"):utf8Slice(t,e,r):(t,e,r)=>r-e>64?textDecoder$1.decode(t.subarray(e,r)):utf8Slice(t,e,r),fromString$2=useBuffer?t=>t.length>64?globalThis.Buffer.from(t):utf8ToBytes(t):t=>t.length>64?textEncoder$2.encode(t):utf8ToBytes(t),fromArray=t=>Uint8Array.from(t),slice=useBuffer?(t,e,r)=>isBuffer(t)?new Uint8Array(t.subarray(e,r)):t.slice(e,r):(t,e,r)=>t.slice(e,r),concat$2=useBuffer?(t,e)=>(t=t.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),asU8A(globalThis.Buffer.concat(t,e))):(t,e)=>{const r=new Uint8Array(e);let n=0;for(let o of t)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},alloc=useBuffer?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function compare(t,e){if(isBuffer(t)&&isBuffer(e))return t.compare(e);for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function utf8ToBytes(t,e=1/0){let r;const n=t.length;let o=null;const a=[];for(let u=0;u<n;++u){if(r=t.charCodeAt(u),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}else if(u+1===n){(e-=3)>-1&&a.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(e-=3)>-1&&a.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return a}function utf8Slice(t,e,r){const n=[];for(;e<r;){const o=t[e];let a=null,u=o>239?4:o>223?3:o>191?2:1;if(e+u<=r){let c,d,m,y;switch(u){case 1:o<128&&(a=o);break;case 2:c=t[e+1],(c&192)===128&&(y=(o&31)<<6|c&63,y>127&&(a=y));break;case 3:c=t[e+1],d=t[e+2],(c&192)===128&&(d&192)===128&&(y=(o&15)<<12|(c&63)<<6|d&63,y>2047&&(y<55296||y>57343)&&(a=y));break;case 4:c=t[e+1],d=t[e+2],m=t[e+3],(c&192)===128&&(d&192)===128&&(m&192)===128&&(y=(o&15)<<18|(c&63)<<12|(d&63)<<6|m&63,y>65535&&y<1114112&&(a=y))}}a===null?(a=65533,u=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),e+=u}return decodeCodePointsArray(n)}const MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(t){const e=t.length;if(e<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}const defaultChunkSize=256;class Bl{constructor(e=defaultChunkSize){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let r=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const o=r.length-(this.maxCursor-this.cursor)-1;r.set(e,o)}else{if(r){const o=r.length-(this.maxCursor-this.cursor)-1;o<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,o),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(r=alloc(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let r;if(this.chunks.length===1){const n=this.chunks[0];e&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=slice(n,0,this.cursor)}else r=concat$2(this.chunks,this.cursor);return e&&this.reset(),r}}const decodeErrPrefix="CBOR decode error:",encodeErrPrefix="CBOR encode error:";function assertEnoughData(t,e,r){if(t.length-e<r)throw new Error(`${decodeErrPrefix} not enough data for type`)}const uintBoundaries=[24,256,65536,4294967296,BigInt("18446744073709551616")];function readUint8(t,e,r){assertEnoughData(t,e,1);const n=t[e];if(r.strict===!0&&n<uintBoundaries[0])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint16(t,e,r){assertEnoughData(t,e,2);const n=t[e]<<8|t[e+1];if(r.strict===!0&&n<uintBoundaries[1])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint32(t,e,r){assertEnoughData(t,e,4);const n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(r.strict===!0&&n<uintBoundaries[2])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint64(t,e,r){assertEnoughData(t,e,8);const n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],o=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],a=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&a<uintBoundaries[3])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);if(a<=Number.MAX_SAFE_INTEGER)return Number(a);if(r.allowBigInt===!0)return a;throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`)}function decodeUint8(t,e,r,n){return new Token$1(Type.uint,readUint8(t,e+1,n),2)}function decodeUint16(t,e,r,n){return new Token$1(Type.uint,readUint16(t,e+1,n),3)}function decodeUint32(t,e,r,n){return new Token$1(Type.uint,readUint32(t,e+1,n),5)}function decodeUint64(t,e,r,n){return new Token$1(Type.uint,readUint64(t,e+1,n),9)}function encodeUint(t,e){return encodeUintValue(t,0,e.value)}function encodeUintValue(t,e,r){if(r<uintBoundaries[0]){const n=Number(r);t.push([e|n])}else if(r<uintBoundaries[1]){const n=Number(r);t.push([e|24,n])}else if(r<uintBoundaries[2]){const n=Number(r);t.push([e|25,n>>>8,n&255])}else if(r<uintBoundaries[3]){const n=Number(r);t.push([e|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{const n=BigInt(r);if(n<uintBoundaries[4]){const o=[e|27,0,0,0,0,0,0,0];let a=Number(n&BigInt(4294967295)),u=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=a&255,a=a>>8,o[7]=a&255,a=a>>8,o[6]=a&255,a=a>>8,o[5]=a&255,o[4]=u&255,u=u>>8,o[3]=u&255,u=u>>8,o[2]=u&255,u=u>>8,o[1]=u&255,t.push(o)}else throw new Error(`${decodeErrPrefix} encountered BigInt larger than allowable range`)}}encodeUint.encodedSize=function(e){return encodeUintValue.encodedSize(e.value)};encodeUintValue.encodedSize=function(e){return e<uintBoundaries[0]?1:e<uintBoundaries[1]?2:e<uintBoundaries[2]?3:e<uintBoundaries[3]?5:9};encodeUint.compareTokens=function(e,r){return e.value<r.value?-1:e.value>r.value?1:0};function decodeNegint8(t,e,r,n){return new Token$1(Type.negint,-1-readUint8(t,e+1,n),2)}function decodeNegint16(t,e,r,n){return new Token$1(Type.negint,-1-readUint16(t,e+1,n),3)}function decodeNegint32(t,e,r,n){return new Token$1(Type.negint,-1-readUint32(t,e+1,n),5)}const neg1b=BigInt(-1),pos1b=BigInt(1);function decodeNegint64(t,e,r,n){const o=readUint64(t,e+1,n);if(typeof o!="bigint"){const a=-1-o;if(a>=Number.MIN_SAFE_INTEGER)return new Token$1(Type.negint,a,9)}if(n.allowBigInt!==!0)throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`);return new Token$1(Type.negint,neg1b-BigInt(o),9)}function encodeNegint(t,e){const r=e.value,n=typeof r=="bigint"?r*neg1b-pos1b:r*-1-1;encodeUintValue(t,e.type.majorEncoded,n)}encodeNegint.encodedSize=function(e){const r=e.value,n=typeof r=="bigint"?r*neg1b-pos1b:r*-1-1;return n<uintBoundaries[0]?1:n<uintBoundaries[1]?2:n<uintBoundaries[2]?3:n<uintBoundaries[3]?5:9};encodeNegint.compareTokens=function(e,r){return e.value<r.value?1:e.value>r.value?-1:0};function toToken$3(t,e,r,n){assertEnoughData(t,e,r+n);const o=slice(t,e+r,e+r+n);return new Token$1(Type.bytes,o,r+n)}function decodeBytesCompact(t,e,r,n){return toToken$3(t,e,1,r)}function decodeBytes8(t,e,r,n){return toToken$3(t,e,2,readUint8(t,e+1,n))}function decodeBytes16(t,e,r,n){return toToken$3(t,e,3,readUint16(t,e+1,n))}function decodeBytes32(t,e,r,n){return toToken$3(t,e,5,readUint32(t,e+1,n))}function decodeBytes64(t,e,r,n){const o=readUint64(t,e+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer bytes lengths not supported`);return toToken$3(t,e,9,o)}function tokenBytes(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===Type.string?fromString$2(t.value):t.value),t.encodedBytes}function encodeBytes(t,e){const r=tokenBytes(e);encodeUintValue(t,e.type.majorEncoded,r.length),t.push(r)}encodeBytes.encodedSize=function(e){const r=tokenBytes(e);return encodeUintValue.encodedSize(r.length)+r.length};encodeBytes.compareTokens=function(e,r){return compareBytes(tokenBytes(e),tokenBytes(r))};function compareBytes(t,e){return t.length<e.length?-1:t.length>e.length?1:compare(t,e)}function toToken$2(t,e,r,n,o){const a=r+n;assertEnoughData(t,e,a);const u=new Token$1(Type.string,toString(t,e+r,e+a),a);return o.retainStringBytes===!0&&(u.byteValue=slice(t,e+r,e+a)),u}function decodeStringCompact(t,e,r,n){return toToken$2(t,e,1,r,n)}function decodeString8(t,e,r,n){return toToken$2(t,e,2,readUint8(t,e+1,n),n)}function decodeString16(t,e,r,n){return toToken$2(t,e,3,readUint16(t,e+1,n),n)}function decodeString32(t,e,r,n){return toToken$2(t,e,5,readUint32(t,e+1,n),n)}function decodeString64(t,e,r,n){const o=readUint64(t,e+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer string lengths not supported`);return toToken$2(t,e,9,o,n)}const encodeString=encodeBytes;function toToken$1(t,e,r,n){return new Token$1(Type.array,n,r)}function decodeArrayCompact(t,e,r,n){return toToken$1(t,e,1,r)}function decodeArray8(t,e,r,n){return toToken$1(t,e,2,readUint8(t,e+1,n))}function decodeArray16(t,e,r,n){return toToken$1(t,e,3,readUint16(t,e+1,n))}function decodeArray32(t,e,r,n){return toToken$1(t,e,5,readUint32(t,e+1,n))}function decodeArray64(t,e,r,n){const o=readUint64(t,e+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer array lengths not supported`);return toToken$1(t,e,9,o)}function decodeArrayIndefinite(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken$1(t,e,1,1/0)}function encodeArray(t,e){encodeUintValue(t,Type.array.majorEncoded,e.value)}encodeArray.compareTokens=encodeUint.compareTokens;encodeArray.encodedSize=function(e){return encodeUintValue.encodedSize(e.value)};function toToken(t,e,r,n){return new Token$1(Type.map,n,r)}function decodeMapCompact(t,e,r,n){return toToken(t,e,1,r)}function decodeMap8(t,e,r,n){return toToken(t,e,2,readUint8(t,e+1,n))}function decodeMap16(t,e,r,n){return toToken(t,e,3,readUint16(t,e+1,n))}function decodeMap32(t,e,r,n){return toToken(t,e,5,readUint32(t,e+1,n))}function decodeMap64(t,e,r,n){const o=readUint64(t,e+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer map lengths not supported`);return toToken(t,e,9,o)}function decodeMapIndefinite(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken(t,e,1,1/0)}function encodeMap(t,e){encodeUintValue(t,Type.map.majorEncoded,e.value)}encodeMap.compareTokens=encodeUint.compareTokens;encodeMap.encodedSize=function(e){return encodeUintValue.encodedSize(e.value)};function decodeTagCompact(t,e,r,n){return new Token$1(Type.tag,r,1)}function decodeTag8(t,e,r,n){return new Token$1(Type.tag,readUint8(t,e+1,n),2)}function decodeTag16(t,e,r,n){return new Token$1(Type.tag,readUint16(t,e+1,n),3)}function decodeTag32(t,e,r,n){return new Token$1(Type.tag,readUint32(t,e+1,n),5)}function decodeTag64(t,e,r,n){return new Token$1(Type.tag,readUint64(t,e+1,n),9)}function encodeTag(t,e){encodeUintValue(t,Type.tag.majorEncoded,e.value)}encodeTag.compareTokens=encodeUint.compareTokens;encodeTag.encodedSize=function(e){return encodeUintValue.encodedSize(e.value)};const MINOR_FALSE=20,MINOR_TRUE=21,MINOR_NULL=22,MINOR_UNDEFINED=23;function decodeUndefined(t,e,r,n){if(n.allowUndefined===!1)throw new Error(`${decodeErrPrefix} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new Token$1(Type.null,null,1):new Token$1(Type.undefined,void 0,1)}function decodeBreak(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return new Token$1(Type.break,void 0,1)}function createToken(t,e,r){if(r){if(r.allowNaN===!1&&Number.isNaN(t))throw new Error(`${decodeErrPrefix} NaN values are not supported`);if(r.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${decodeErrPrefix} Infinity values are not supported`)}return new Token$1(Type.float,t,e)}function decodeFloat16(t,e,r,n){return createToken(readFloat16(t,e+1),3,n)}function decodeFloat32(t,e,r,n){return createToken(readFloat32(t,e+1),5,n)}function decodeFloat64(t,e,r,n){return createToken(readFloat64(t,e+1),9,n)}function encodeFloat(t,e,r){const n=e.value;if(n===!1)t.push([Type.float.majorEncoded|MINOR_FALSE]);else if(n===!0)t.push([Type.float.majorEncoded|MINOR_TRUE]);else if(n===null)t.push([Type.float.majorEncoded|MINOR_NULL]);else if(n===void 0)t.push([Type.float.majorEncoded|MINOR_UNDEFINED]);else{let o,a=!1;(!r||r.float64!==!0)&&(encodeFloat16(n),o=readFloat16(ui8a,1),n===o||Number.isNaN(n)?(ui8a[0]=249,t.push(ui8a.slice(0,3)),a=!0):(encodeFloat32(n),o=readFloat32(ui8a,1),n===o&&(ui8a[0]=250,t.push(ui8a.slice(0,5)),a=!0))),a||(encodeFloat64(n),o=readFloat64(ui8a,1),ui8a[0]=251,t.push(ui8a.slice(0,9)))}}encodeFloat.encodedSize=function(e,r){const n=e.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){encodeFloat16(n);let o=readFloat16(ui8a,1);if(n===o||Number.isNaN(n))return 3;if(encodeFloat32(n),o=readFloat32(ui8a,1),n===o)return 5}return 9};const buffer$1=new ArrayBuffer(9),dataView=new DataView(buffer$1,1),ui8a=new Uint8Array(buffer$1,0);function encodeFloat16(t){if(t===1/0)dataView.setUint16(0,31744,!1);else if(t===-1/0)dataView.setUint16(0,64512,!1);else if(Number.isNaN(t))dataView.setUint16(0,32256,!1);else{dataView.setFloat32(0,t);const e=dataView.getUint32(0),r=(e&2139095040)>>23,n=e&8388607;if(r===255)dataView.setUint16(0,31744,!1);else if(r===0)dataView.setUint16(0,(t&2147483648)>>16|n>>13,!1);else{const o=r-127;o<-24?dataView.setUint16(0,0):o<-14?dataView.setUint16(0,(e&2147483648)>>16|1<<24+o,!1):dataView.setUint16(0,(e&2147483648)>>16|o+15<<10|n>>13,!1)}}}function readFloat16(t,e){if(t.length-e<2)throw new Error(`${decodeErrPrefix} not enough data for float16`);const r=(t[e]<<8)+t[e+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;const n=r>>10&31,o=r&1023;let a;return n===0?a=o*2**-24:n!==31?a=(o+1024)*2**(n-25):a=o===0?1/0:NaN,r&32768?-a:a}function encodeFloat32(t){dataView.setFloat32(0,t,!1)}function readFloat32(t,e){if(t.length-e<4)throw new Error(`${decodeErrPrefix} not enough data for float32`);const r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,4).getFloat32(0,!1)}function encodeFloat64(t){dataView.setFloat64(0,t,!1)}function readFloat64(t,e){if(t.length-e<8)throw new Error(`${decodeErrPrefix} not enough data for float64`);const r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,8).getFloat64(0,!1)}encodeFloat.compareTokens=encodeUint.compareTokens;function invalidMinor(t,e,r){throw new Error(`${decodeErrPrefix} encountered invalid minor (${r}) for major ${t[e]>>>5}`)}function errorer(t){return()=>{throw new Error(`${decodeErrPrefix} ${t}`)}}const jump=[];for(let t=0;t<=23;t++)jump[t]=invalidMinor;jump[24]=decodeUint8;jump[25]=decodeUint16;jump[26]=decodeUint32;jump[27]=decodeUint64;jump[28]=invalidMinor;jump[29]=invalidMinor;jump[30]=invalidMinor;jump[31]=invalidMinor;for(let t=32;t<=55;t++)jump[t]=invalidMinor;jump[56]=decodeNegint8;jump[57]=decodeNegint16;jump[58]=decodeNegint32;jump[59]=decodeNegint64;jump[60]=invalidMinor;jump[61]=invalidMinor;jump[62]=invalidMinor;jump[63]=invalidMinor;for(let t=64;t<=87;t++)jump[t]=decodeBytesCompact;jump[88]=decodeBytes8;jump[89]=decodeBytes16;jump[90]=decodeBytes32;jump[91]=decodeBytes64;jump[92]=invalidMinor;jump[93]=invalidMinor;jump[94]=invalidMinor;jump[95]=errorer("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)jump[t]=decodeStringCompact;jump[120]=decodeString8;jump[121]=decodeString16;jump[122]=decodeString32;jump[123]=decodeString64;jump[124]=invalidMinor;jump[125]=invalidMinor;jump[126]=invalidMinor;jump[127]=errorer("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)jump[t]=decodeArrayCompact;jump[152]=decodeArray8;jump[153]=decodeArray16;jump[154]=decodeArray32;jump[155]=decodeArray64;jump[156]=invalidMinor;jump[157]=invalidMinor;jump[158]=invalidMinor;jump[159]=decodeArrayIndefinite;for(let t=160;t<=183;t++)jump[t]=decodeMapCompact;jump[184]=decodeMap8;jump[185]=decodeMap16;jump[186]=decodeMap32;jump[187]=decodeMap64;jump[188]=invalidMinor;jump[189]=invalidMinor;jump[190]=invalidMinor;jump[191]=decodeMapIndefinite;for(let t=192;t<=215;t++)jump[t]=decodeTagCompact;jump[216]=decodeTag8;jump[217]=decodeTag16;jump[218]=decodeTag32;jump[219]=decodeTag64;jump[220]=invalidMinor;jump[221]=invalidMinor;jump[222]=invalidMinor;jump[223]=invalidMinor;for(let t=224;t<=243;t++)jump[t]=errorer("simple values are not supported");jump[244]=invalidMinor;jump[245]=invalidMinor;jump[246]=invalidMinor;jump[247]=decodeUndefined;jump[248]=errorer("simple values are not supported");jump[249]=decodeFloat16;jump[250]=decodeFloat32;jump[251]=decodeFloat64;jump[252]=invalidMinor;jump[253]=invalidMinor;jump[254]=invalidMinor;jump[255]=decodeBreak;const quick=[];for(let t=0;t<24;t++)quick[t]=new Token$1(Type.uint,t,1);for(let t=-1;t>=-24;t--)quick[31-t]=new Token$1(Type.negint,t,1);quick[64]=new Token$1(Type.bytes,new Uint8Array(0),1);quick[96]=new Token$1(Type.string,"",1);quick[128]=new Token$1(Type.array,0,1);quick[160]=new Token$1(Type.map,0,1);quick[244]=new Token$1(Type.false,!1,1);quick[245]=new Token$1(Type.true,!0,1);quick[246]=new Token$1(Type.null,null,1);function quickEncodeToken(t){switch(t.type){case Type.false:return fromArray([244]);case Type.true:return fromArray([245]);case Type.null:return fromArray([246]);case Type.bytes:return t.value.length?void 0:fromArray([64]);case Type.string:return t.value===""?fromArray([96]):void 0;case Type.array:return t.value===0?fromArray([128]):void 0;case Type.map:return t.value===0?fromArray([160]):void 0;case Type.uint:return t.value<24?fromArray([Number(t.value)]):void 0;case Type.negint:if(t.value>=-24)return fromArray([31-Number(t.value)])}}const defaultEncodeOptions={float64:!1,mapSorter,quickEncodeToken};function makeCborEncoders(){const t=[];return t[Type.uint.major]=encodeUint,t[Type.negint.major]=encodeNegint,t[Type.bytes.major]=encodeBytes,t[Type.string.major]=encodeString,t[Type.array.major]=encodeArray,t[Type.map.major]=encodeMap,t[Type.tag.major]=encodeTag,t[Type.float.major]=encodeFloat,t}const cborEncoders=makeCborEncoders(),buf=new Bl;class Ref{constructor(e,r){this.obj=e,this.parent=r}includes(e){let r=this;do if(r.obj===e)return!0;while(r=r.parent);return!1}static createCheck(e,r){if(e&&e.includes(r))throw new Error(`${encodeErrPrefix} object contains circular references`);return new Ref(r,e)}}const simpleTokens={null:new Token$1(Type.null,null),undefined:new Token$1(Type.undefined,void 0),true:new Token$1(Type.true,!0),false:new Token$1(Type.false,!1),emptyArray:new Token$1(Type.array,0),emptyMap:new Token$1(Type.map,0)},typeEncoders={number(t,e,r,n){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new Token$1(Type.float,t):t>=0?new Token$1(Type.uint,t):new Token$1(Type.negint,t)},bigint(t,e,r,n){return t>=BigInt(0)?new Token$1(Type.uint,t):new Token$1(Type.negint,t)},Uint8Array(t,e,r,n){return new Token$1(Type.bytes,t)},string(t,e,r,n){return new Token$1(Type.string,t)},boolean(t,e,r,n){return t?simpleTokens.true:simpleTokens.false},null(t,e,r,n){return simpleTokens.null},undefined(t,e,r,n){return simpleTokens.undefined},ArrayBuffer(t,e,r,n){return new Token$1(Type.bytes,new Uint8Array(t))},DataView(t,e,r,n){return new Token$1(Type.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,r,n){if(!t.length)return r.addBreakTokens===!0?[simpleTokens.emptyArray,new Token$1(Type.break)]:simpleTokens.emptyArray;n=Ref.createCheck(n,t);const o=[];let a=0;for(const u of t)o[a++]=objectToTokens(u,r,n);return r.addBreakTokens?[new Token$1(Type.array,t.length),o,new Token$1(Type.break)]:[new Token$1(Type.array,t.length),o]},Object(t,e,r,n){const o=e!=="Object",a=o?t.keys():Object.keys(t),u=o?t.size:a.length;if(!u)return r.addBreakTokens===!0?[simpleTokens.emptyMap,new Token$1(Type.break)]:simpleTokens.emptyMap;n=Ref.createCheck(n,t);const c=[];let d=0;for(const m of a)c[d++]=[objectToTokens(m,r,n),objectToTokens(o?t.get(m):t[m],r,n)];return sortMapEntries(c,r),r.addBreakTokens?[new Token$1(Type.map,u),c,new Token$1(Type.break)]:[new Token$1(Type.map,u),c]}};typeEncoders.Map=typeEncoders.Object;typeEncoders.Buffer=typeEncoders.Uint8Array;for(const t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))typeEncoders[`${t}Array`]=typeEncoders.DataView;function objectToTokens(t,e={},r){const n=is(t),o=e&&e.typeEncoders&&e.typeEncoders[n]||typeEncoders[n];if(typeof o=="function"){const u=o(t,n,e,r);if(u!=null)return u}const a=typeEncoders[n];if(!a)throw new Error(`${encodeErrPrefix} unsupported type: ${n}`);return a(t,n,e,r)}function sortMapEntries(t,e){e.mapSorter&&t.sort(e.mapSorter)}function mapSorter(t,e){const r=Array.isArray(t[0])?t[0][0]:t[0],n=Array.isArray(e[0])?e[0][0]:e[0];if(r.type!==n.type)return r.type.compare(n.type);const o=r.type.major,a=cborEncoders[o].compareTokens(r,n);return a===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),a}function tokensToEncoded(t,e,r,n){if(Array.isArray(e))for(const o of e)tokensToEncoded(t,o,r,n);else r[e.type.major](t,e,n)}function encodeCustom(t,e,r){const n=objectToTokens(t,r);if(!Array.isArray(n)&&r.quickEncodeToken){const o=r.quickEncodeToken(n);if(o)return o;const a=e[n.type.major];if(a.encodedSize){const u=a.encodedSize(n,r),c=new Bl(u);if(a(c,n,r),c.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return asU8A(c.chunks[0])}}return buf.reset(),tokensToEncoded(buf,n,e,r),buf.toBytes(!0)}function encode$6(t,e){return e=Object.assign({},defaultEncodeOptions,e),encodeCustom(t,cborEncoders,e)}const defaultDecodeOptions={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Tokeniser{constructor(e,r={}){this.pos=0,this.data=e,this.options=r}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let r=quick[e];if(r===void 0){const n=jump[e];if(!n)throw new Error(`${decodeErrPrefix} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const o=e&31;r=n(this.data,this.pos,o,this.options)}return this.pos+=r.encodedLength,r}}const DONE=Symbol.for("DONE"),BREAK=Symbol.for("BREAK");function tokenToArray(t,e,r){const n=[];for(let o=0;o<t.value;o++){const a=tokensToObject(e,r);if(a===BREAK){if(t.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed array`)}if(a===DONE)throw new Error(`${decodeErrPrefix} found array but not enough entries (got ${o}, expected ${t.value})`);n[o]=a}return n}function tokenToMap(t,e,r){const n=r.useMaps===!0,o=n?void 0:{},a=n?new Map:void 0;for(let u=0;u<t.value;u++){const c=tokensToObject(e,r);if(c===BREAK){if(t.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed map`)}if(c===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${u} [no key], expected ${t.value})`);if(n!==!0&&typeof c!="string")throw new Error(`${decodeErrPrefix} non-string keys not supported (got ${typeof c})`);if(r.rejectDuplicateMapKeys===!0&&(n&&a.has(c)||!n&&c in o))throw new Error(`${decodeErrPrefix} found repeat map key "${c}"`);const d=tokensToObject(e,r);if(d===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${u} [no value], expected ${t.value})`);n?a.set(c,d):o[c]=d}return n?a:o}function tokensToObject(t,e){if(t.done())return DONE;const r=t.next();if(r.type===Type.break)return BREAK;if(r.type.terminal)return r.value;if(r.type===Type.array)return tokenToArray(r,t,e);if(r.type===Type.map)return tokenToMap(r,t,e);if(r.type===Type.tag){if(e.tags&&typeof e.tags[r.value]=="function"){const n=tokensToObject(t,e);return e.tags[r.value](n)}throw new Error(`${decodeErrPrefix} tag not supported (${r.value})`)}throw new Error("unsupported")}function decode$5(t,e){if(!(t instanceof Uint8Array))throw new Error(`${decodeErrPrefix} data to decode must be a Uint8Array`);e=Object.assign({},defaultDecodeOptions,e);const r=e.tokenizer||new Tokeniser(t,e),n=tokensToObject(r,e);if(n===DONE)throw new Error(`${decodeErrPrefix} did not find any content to decode`);if(n===BREAK)throw new Error(`${decodeErrPrefix} got unexpected break`);if(!r.done())throw new Error(`${decodeErrPrefix} too many terminals, data makes no sense`);return n}const CID_CBOR_TAG$1=42;function cidEncoder$1(t){if(t.asCID!==t)return null;const e=CID.asCID(t);if(!e)return null;const r=new Uint8Array(e.bytes.byteLength+1);return r.set(e.bytes,1),[new Token$1(Type.tag,CID_CBOR_TAG$1),new Token$1(Type.bytes,r)]}function undefinedEncoder$1(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder$1(t){if(Number.isNaN(t))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(t===1/0||t===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions$1={float64:!0,typeEncoders:{Object:cidEncoder$1,undefined:undefinedEncoder$1,number:numberEncoder$1}};function cidDecoder$1(t){if(t[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID.decode(t.subarray(1))}const decodeOptions$1={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions$1.tags[CID_CBOR_TAG$1]=cidDecoder$1;const encode$5=t=>encode$6(t,encodeOptions$1),decode$4=t=>decode$5(t,decodeOptions$1),CIDV0_BYTES={SHA2_256:18,LENGTH:32,DAG_PB:112};async function readVarint(t){const e=await t.upTo(8),r=varint$2.decode(e);return t.seek(varint$2.decode.bytes),r}async function readHeader(t){const e=await readVarint(t);if(e===0)throw new Error("Invalid CAR header (zero length)");const r=await t.exactly(e);t.seek(e);const n=decode$4(r);if(n==null||Array.isArray(n)||typeof n!="object")throw new Error("Invalid CAR header format");if(n.version!==1)throw typeof n.version=="string"?new Error(`Invalid CAR version: "${n.version}"`):new Error(`Invalid CAR version: ${n.version}`);if(!Array.isArray(n.roots))throw new Error("Invalid CAR header format");if(Object.keys(n).filter(o=>o!=="roots"&&o!=="version").length)throw new Error("Invalid CAR header format");return n}async function readMultihash(t){const e=await t.upTo(8);varint$2.decode(e);const r=varint$2.decode.bytes,n=varint$2.decode(e.subarray(varint$2.decode.bytes)),o=varint$2.decode.bytes,a=r+o+n,u=await t.exactly(a);return t.seek(a),u}async function readCid(t){const e=await t.exactly(2);if(e[0]===CIDV0_BYTES.SHA2_256&&e[1]===CIDV0_BYTES.LENGTH){const u=await t.exactly(34);t.seek(34);const c=decode$7(u);return CID.create(0,CIDV0_BYTES.DAG_PB,c)}const r=await readVarint(t);if(r!==1)throw new Error(`Unexpected CID version (${r})`);const n=await readVarint(t),o=await readMultihash(t),a=decode$7(o);return CID.create(r,n,a)}async function readBlockHead(t){const e=t.pos;let r=await readVarint(t);if(r===0)throw new Error("Invalid CAR section (zero length)");r+=t.pos-e;const n=await readCid(t),o=r-(t.pos-e);return{cid:n,length:r,blockLength:o}}async function readBlock(t){const{cid:e,blockLength:r}=await readBlockHead(t),n=await t.exactly(r);return t.seek(r),{bytes:n,cid:e}}async function readBlockIndex(t){const e=t.pos,{cid:r,length:n,blockLength:o}=await readBlockHead(t),a={cid:r,length:n,blockLength:o,offset:e,blockOffset:t.pos};return t.seek(a.blockLength),a}function createDecoder(t){const e=readHeader(t);return{header:()=>e,async*blocks(){for(await e;(await t.upTo(8)).length>0;)yield await readBlock(t)},async*blocksIndex(){for(await e;(await t.upTo(8)).length>0;)yield await readBlockIndex(t)}}}function bytesReader(t){let e=0;return{async upTo(r){return t.subarray(e,e+Math.min(r,t.length-e))},async exactly(r){if(r>t.length-e)throw new Error("Unexpected end of data");return t.subarray(e,e+r)},seek(r){e+=r},get pos(){return e}}}function chunkReader(t){let e=0,r=0,n=0,o=new Uint8Array(0);const a=async u=>{r=o.length-n;const c=[o.subarray(n)];for(;r<u;){const m=await t();if(m==null)break;r<0?m.length>r&&c.push(m.subarray(-r)):c.push(m),r+=m.length}o=new Uint8Array(c.reduce((m,y)=>m+y.length,0));let d=0;for(const m of c)o.set(m,d),d+=m.length;n=0};return{async upTo(u){return o.length-n<u&&await a(u),o.subarray(n,n+Math.min(o.length-n,u))},async exactly(u){if(o.length-n<u&&await a(u),o.length-n<u)throw new Error("Unexpected end of data");return o.subarray(n,n+u)},seek(u){e+=u,n+=u},get pos(){return e}}}function asyncIterableReader(t){const e=t[Symbol.asyncIterator]();async function r(){const n=await e.next();return n.done?null:n.value}return chunkReader(r)}class CarReader{constructor(e,r,n){this._version=e,this._roots=r,this._blocks=n,this._keys=n.map(o=>o.cid.toString())}get version(){return this._version}async getRoots(){return this._roots}async has(e){return this._keys.indexOf(e.toString())>-1}async get(e){const r=this._keys.indexOf(e.toString());return r>-1?this._blocks[r]:void 0}async*blocks(){for(const e of this._blocks)yield e}async*cids(){for(const e of this._blocks)yield e.cid}static async fromBytes(e){if(!(e instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return decodeReaderComplete(bytesReader(e))}static async fromIterable(e){if(!e||typeof e[Symbol.asyncIterator]!="function")throw new TypeError("fromIterable() requires an async iterable");return decodeReaderComplete(asyncIterableReader(e))}}async function decodeReaderComplete(t){const e=createDecoder(t),{version:r,roots:n}=await e.header(),o=[];for await(const a of e.blocks())o.push(a);return new CarReader(r,n,o)}function createHeader(t){const e=encode$5({version:1,roots:t}),r=varint$2.encode(e.length),n=new Uint8Array(r.length+e.length);return n.set(r,0),n.set(e,r.length),n}function createEncoder(t){return{async setRoots(e){const r=createHeader(e);await t.write(r)},async writeBlock(e){const{cid:r,bytes:n}=e;await t.write(new Uint8Array(varint$2.encode(r.bytes.length+n.length))),await t.write(r.bytes),n.length&&await t.write(n)},async close(){return t.end()}}}function noop$1(){}function create$3(){const t=[];let e=null,r=noop$1,n=!1,o=null,a=noop$1;const u=()=>(e||(e=new Promise(m=>{r=()=>{e=null,r=noop$1,m()}})),e),c={write(m){t.push(m);const y=u();return a(),y},async end(){n=!0;const m=u();return a(),m}},d={async next(){const m=t.shift();return m?(t.length===0&&r(),{done:!1,value:m}):n?(r(),{done:!0,value:void 0}):(o||(o=new Promise(y=>{a=()=>(o=null,a=noop$1,y(d.next()))})),o)}};return{writer:c,iterator:d}}class CarWriter{constructor(e,r){this._encoder=r,this._mutex=r.setRoots(e),this._ended=!1}async put(e){if(!(e.bytes instanceof Uint8Array)||!e.cid)throw new TypeError("Can only write {cid, bytes} objects");if(this._ended)throw new Error("Already closed");const r=CID.asCID(e.cid);if(!r)throw new TypeError("Can only write {cid, bytes} objects");return this._mutex=this._mutex.then(()=>this._encoder.writeBlock({cid:r,bytes:e.bytes})),this._mutex}async close(){if(this._ended)throw new Error("Already closed");return await this._mutex,this._ended=!0,this._encoder.close()}static create(e){e=toRoots(e);const{encoder:r,iterator:n}=encodeWriter(),o=new CarWriter(e,r),a=new CarWriterOut(n);return{writer:o,out:a}}static createAppender(){const{encoder:e,iterator:r}=encodeWriter();e.setRoots=()=>Promise.resolve();const n=new CarWriter([],e),o=new CarWriterOut(r);return{writer:n,out:o}}static async updateRootsInBytes(e,r){const n=bytesReader(e);await readHeader(n);const o=createHeader(r);if(n.pos!==o.length)throw new Error(`updateRoots() can only overwrite a header of the same length (old header is ${n.pos} bytes, new header is ${o.length} bytes)`);return e.set(o,0),e}}class CarWriterOut{constructor(e){this._iterator=e}[Symbol.asyncIterator](){if(this._iterating)throw new Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}}function encodeWriter(){const t=create$3(),{writer:e,iterator:r}=t;return{encoder:createEncoder(e),iterator:r}}function toRoots(t){if(t===void 0)return[];if(!Array.isArray(t)){const r=CID.asCID(t);if(!r)throw new TypeError("roots must be a single CID or an array of CIDs");return[r]}const e=[];for(const r of t){const n=CID.asCID(r);if(!n)throw new TypeError("roots must be a single CID or an array of CIDs");e.push(n)}return e}const from=({name:t,code:e,encode:r})=>new Hasher(t,e,r);class Hasher{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?create$4(this.code,r):r.then(n=>create$4(this.code,n))}else throw Error("Unknown type, must be binary type")}}const readonly=({enumerable:t=!0,configurable:e=!1}={})=>({enumerable:t,configurable:e,writable:!1}),links=function*(t,e){if(t!=null&&!(t instanceof Uint8Array))for(const[r,n]of Object.entries(t)){const o=[...e,r];if(n!=null&&typeof n=="object")if(Array.isArray(n))for(const[a,u]of n.entries()){const c=[...o,a],d=CID.asCID(u);d?yield[c.join("/"),d]:typeof u=="object"&&(yield*links(u,c))}else{const a=CID.asCID(n);a?yield[o.join("/"),a]:yield*links(n,o)}}},tree=function*(t,e){if(t!=null)for(const[r,n]of Object.entries(t)){const o=[...e,r];if(yield o.join("/"),n!=null&&!(n instanceof Uint8Array)&&typeof n=="object"&&!CID.asCID(n))if(Array.isArray(n))for(const[a,u]of n.entries()){const c=[...o,a];yield c.join("/"),typeof u=="object"&&!CID.asCID(u)&&(yield*tree(u,c))}else yield*tree(n,o)}},get=(t,e)=>{let r=t;for(const[n,o]of e.entries()){if(r=r[o],r==null)throw new Error(`Object has no property at ${e.slice(0,n+1).map(u=>`[${JSON.stringify(u)}]`).join("")}`);const a=CID.asCID(r);if(a)return{value:a,remaining:e.slice(n+1).join("/")}}return{value:r}};class Block{constructor({cid:e,bytes:r,value:n}){if(!e||!r||typeof n>"u")throw new Error("Missing required argument");this.cid=e,this.bytes=r,this.value=n,this.asBlock=this,Object.defineProperties(this,{cid:readonly(),bytes:readonly(),value:readonly(),asBlock:readonly()})}links(){return links(this.value,[])}tree(){return tree(this.value,[])}get(e="/"){return get(this.value,e.split("/").filter(Boolean))}}const encode$4=async({value:t,codec:e,hasher:r})=>{if(typeof t>"u")throw new Error('Missing required argument "value"');if(!e||!r)throw new Error("Missing required argument: codec or hasher");const n=e.encode(t),o=await r.digest(n),a=CID.create(1,e.code,o);return new Block({value:t,bytes:n,cid:a})},name$2="raw",code$3=85,encode$3=t=>coerce(t),decode$3=t=>coerce(t),raw=Object.freeze(Object.defineProperty({__proto__:null,code:code$3,decode:decode$3,encode:encode$3,name:name$2},Symbol.toStringTag,{value:"Module"})),CID_CBOR_TAG=42;function cidEncoder(t){if(t.asCID!==t)return null;const e=CID.asCID(t);if(!e)return null;const r=new Uint8Array(e.bytes.byteLength+1);return r.set(e.bytes,1),[new Token$1(Type.tag,CID_CBOR_TAG),new Token$1(Type.bytes,r)]}function undefinedEncoder(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder(t){if(Number.isNaN(t))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(t===1/0||t===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions={float64:!0,typeEncoders:{Object:cidEncoder,undefined:undefinedEncoder,number:numberEncoder}};function cidDecoder(t){if(t[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID.decode(t.subarray(1))}const decodeOptions={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions.tags[CID_CBOR_TAG]=cidDecoder;const name$1="dag-cbor",code$2=113,encode$2=t=>encode$6(t,encodeOptions),decode$2=t=>decode$5(t,decodeOptions),dagCbor=Object.freeze(Object.defineProperty({__proto__:null,code:code$2,decode:decode$2,encode:encode$2,name:name$1},Symbol.toStringTag,{value:"Module"})),textDecoder=new TextDecoder;function decodeVarint(t,e){let r=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(e>=t.length)throw new Error("protobuf: unexpected end of data");const o=t[e++];if(r+=n<28?(o&127)<<n:(o&127)*2**n,o<128)break}return[r,e]}function decodeBytes(t,e){let r;[r,e]=decodeVarint(t,e);const n=e+r;if(r<0||n<0)throw new Error("protobuf: invalid length");if(n>t.length)throw new Error("protobuf: unexpected end of data");return[t.subarray(e,n),n]}function decodeKey(t,e){let r;return[r,e]=decodeVarint(t,e),[r&7,r>>3,e]}function decodeLink(t){const e={},r=t.length;let n=0;for(;n<r;){let o,a;if([o,a,n]=decodeKey(t,n),a===1){if(e.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Hash`);if(e.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[e.Hash,n]=decodeBytes(t,n)}else if(a===2){if(e.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Name`);if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let u;[u,n]=decodeBytes(t,n),e.Name=textDecoder.decode(u)}else if(a===3){if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(o!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Tsize`);[e.Tsize,n]=decodeVarint(t,n)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${a}`)}if(n>r)throw new Error("protobuf: (PBLink) unexpected end of data");return e}function decodeNode(t){const e=t.length;let r=0,n,o=!1,a;for(;r<e;){let c,d;if([c,d,r]=decodeKey(t,r),c!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${c}`);if(d===1){if(a)throw new Error("protobuf: (PBNode) duplicate Data section");[a,r]=decodeBytes(t,r),n&&(o=!0)}else if(d===2){if(o)throw new Error("protobuf: (PBNode) duplicate Links section");n||(n=[]);let m;[m,r]=decodeBytes(t,r),n.push(decodeLink(m))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${d}`)}if(r>e)throw new Error("protobuf: (PBNode) unexpected end of data");const u={};return a&&(u.Data=a),u.Links=n||[],u}const textEncoder$1=new TextEncoder,maxInt32=2**32,maxUInt32=2**31;function encodeLink(t,e){let r=e.length;if(typeof t.Tsize=="number"){if(t.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(t.Tsize))throw new Error("Tsize too large for encoding");r=encodeVarint(e,r,t.Tsize)-1,e[r]=24}if(typeof t.Name=="string"){const n=textEncoder$1.encode(t.Name);r-=n.length,e.set(n,r),r=encodeVarint(e,r,n.length)-1,e[r]=18}return t.Hash&&(r-=t.Hash.length,e.set(t.Hash,r),r=encodeVarint(e,r,t.Hash.length)-1,e[r]=10),e.length-r}function encodeNode(t){const e=sizeNode(t),r=new Uint8Array(e);let n=e;if(t.Data&&(n-=t.Data.length,r.set(t.Data,n),n=encodeVarint(r,n,t.Data.length)-1,r[n]=10),t.Links)for(let o=t.Links.length-1;o>=0;o--){const a=encodeLink(t.Links[o],r.subarray(0,n));n-=a,n=encodeVarint(r,n,a)-1,r[n]=18}return r}function sizeLink(t){let e=0;if(t.Hash){const r=t.Hash.length;e+=1+r+sov(r)}if(typeof t.Name=="string"){const r=textEncoder$1.encode(t.Name).length;e+=1+r+sov(r)}return typeof t.Tsize=="number"&&(e+=1+sov(t.Tsize)),e}function sizeNode(t){let e=0;if(t.Data){const r=t.Data.length;e+=1+r+sov(r)}if(t.Links)for(const r of t.Links){const n=sizeLink(r);e+=1+n+sov(n)}return e}function encodeVarint(t,e,r){e-=sov(r);const n=e;for(;r>=maxUInt32;)t[e++]=r&127|128,r/=128;for(;r>=128;)t[e++]=r&127|128,r>>>=7;return t[e]=r,n}function sov(t){return t%2===0&&t++,Math.floor((len64(t)+6)/7)}function len64(t){let e=0;return t>=maxInt32&&(t=Math.floor(t/maxInt32),e=32),t>=65536&&(t>>>=16,e+=16),t>=256&&(t>>>=8,e+=8),e+len8tab[t]}const len8tab=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],pbNodeProperties=["Data","Links"],pbLinkProperties=["Hash","Name","Tsize"],textEncoder=new TextEncoder;function linkComparator(t,e){if(t===e)return 0;const r=t.Name?textEncoder.encode(t.Name):[],n=e.Name?textEncoder.encode(e.Name):[];let o=r.length,a=n.length;for(let u=0,c=Math.min(o,a);u<c;++u)if(r[u]!==n[u]){o=r[u],a=n[u];break}return o<a?-1:a<o?1:0}function hasOnlyProperties(t,e){return!Object.keys(t).some(r=>!e.includes(r))}function asLink(t){if(typeof t.asCID=="object"){const r=CID.asCID(t);if(!r)throw new TypeError("Invalid DAG-PB form");return{Hash:r}}if(typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");const e={};if(t.Hash){let r=CID.asCID(t.Hash);try{r||(typeof t.Hash=="string"?r=CID.parse(t.Hash):t.Hash instanceof Uint8Array&&(r=CID.decode(t.Hash)))}catch(n){throw new TypeError(`Invalid DAG-PB form: ${n.message}`)}r&&(e.Hash=r)}if(!e.Hash)throw new TypeError("Invalid DAG-PB form");return typeof t.Name=="string"&&(e.Name=t.Name),typeof t.Tsize=="number"&&(e.Tsize=t.Tsize),e}function prepare(t){if((t instanceof Uint8Array||typeof t=="string")&&(t={Data:t}),typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");const e={};if(t.Data!==void 0)if(typeof t.Data=="string")e.Data=textEncoder.encode(t.Data);else if(t.Data instanceof Uint8Array)e.Data=t.Data;else throw new TypeError("Invalid DAG-PB form");if(t.Links!==void 0)if(Array.isArray(t.Links))e.Links=t.Links.map(asLink),e.Links.sort(linkComparator);else throw new TypeError("Invalid DAG-PB form");else e.Links=[];return e}function validate(t){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");if(!hasOnlyProperties(t,pbNodeProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(t.Data!==void 0&&!(t.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(t.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let e=0;e<t.Links.length;e++){const r=t.Links[e];if(!r||typeof r!="object"||Array.isArray(r))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!hasOnlyProperties(r,pbLinkProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!r.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash.asCID!==r.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(r.Name!==void 0&&typeof r.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(r.Tsize!==void 0&&(typeof r.Tsize!="number"||r.Tsize%1!==0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(e>0&&linkComparator(r,t.Links[e-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function createNode(t,e=[]){return prepare({Data:t,Links:e})}function createLink(t,e,r){return asLink({Hash:r,Name:t,Tsize:e})}const name="dag-pb",code$1=112;function encode$1(t){validate(t);const e={};return t.Links&&(e.Links=t.Links.map(r=>{const n={};return r.Hash&&(n.Hash=r.Hash.bytes),r.Name!==void 0&&(n.Name=r.Name),r.Tsize!==void 0&&(n.Tsize=r.Tsize),n})),t.Data&&(e.Data=t.Data),encodeNode(e)}function decode$1(t){const e=decodeNode(t),r={};return e.Data&&(r.Data=e.Data),e.Links&&(r.Links=e.Links.map(n=>{const o={};try{o.Hash=CID.decode(n.Hash)}catch{}if(!o.Hash)throw new Error("Invalid Hash field found in link, expected CID");return n.Name!==void 0&&(o.Name=n.Name),n.Tsize!==void 0&&(o.Tsize=n.Tsize),o})),r}const dagPb=Object.freeze(Object.defineProperty({__proto__:null,code:code$1,createLink,createNode,decode:decode$1,encode:encode$1,name,prepare,validate},Symbol.toStringTag,{value:"Module"}));class TreewalkCarSplitter{constructor(e,r,n={}){if(typeof r!="number"||r<=0)throw new Error("invalid target chunk size");this._reader=e,this._targetSize=r,this._decoders=[dagPb,raw,dagCbor,...n.decoders||[]]}async*cars(){const e=await this._reader.getRoots();if(e.length!==1)throw new Error(`unexpected number of roots: ${e.length}`);let r;for await(const n of this._cars(e[0]))r=n.channel,n.out&&(yield n.out);if(!r)throw new Error("missing CAR writer channel");r.writer.close(),yield r.out}async _get(e){const r=await this._reader.get(e);if(!r)throw new Error(`missing block for ${e}`);const{bytes:n}=r,o=this._decoders.find(a=>a.code===e.code);if(!o)throw new Error(`missing decoder for ${e.code}`);return new Block({cid:e,bytes:n,value:o.decode(n)})}async*_cars(e,r=[],n=void 0){const o=await this._get(e);if(n=n||Object.assign(CarWriter.create(e),{size:0}),n.size>0&&n.size+o.bytes.byteLength>=this._targetSize){n.writer.close();const{out:a}=n;n=newCar(r),yield{channel:n,out:a}}r=r.concat(o),n.size+=o.bytes.byteLength,n.writer.put(o);for(const[,a]of o.links())for await(const u of this._cars(a,r,n))n=u.channel,yield u;if(!n)throw new Error("missing CAR writer channel");yield{channel:n}}static async fromIterable(e,r,n){const o=await CarReader.fromIterable(e);return new TreewalkCarSplitter(o,r,n)}static async fromBlob(e,r,n){const o=await e.arrayBuffer(),a=await CarReader.fromBytes(new Uint8Array(o));return new TreewalkCarSplitter(a,r,n)}}function newCar(t){const e=Object.assign(CarWriter.create(t[0].cid),{size:t.reduce((r,n)=>r+n.bytes.byteLength,0)});for(const r of t)e.writer.put(r);return e}const last=async t=>{let e;for await(const r of t)e=r;return e};var itLast=last;const last$1=getDefaultExportFromCjs(itLast);var itPipe={exports:{}};const rawPipe=(...t)=>{let e;for(;t.length;)e=t.shift()(e);return e},isIterable$1=t=>t&&(typeof t[Symbol.asyncIterator]=="function"||typeof t[Symbol.iterator]=="function"||typeof t.next=="function"),isDuplex=t=>t&&typeof t.sink=="function"&&isIterable$1(t.source),duplexPipelineFn=t=>e=>(t.sink(e),t.source),pipe=(...t)=>{if(isDuplex(t[0])){const e=t[0];t[0]=()=>e.source}else if(isIterable$1(t[0])){const e=t[0];t[0]=()=>e}if(t.length>1&&isDuplex(t[t.length-1])&&(t[t.length-1]=t[t.length-1].sink),t.length>2)for(let e=1;e<t.length-1;e++)isDuplex(t[e])&&(t[e]=duplexPipelineFn(t[e]));return rawPipe(...t)};itPipe.exports=pipe;itPipe.exports.pipe=pipe;itPipe.exports.rawPipe=rawPipe;itPipe.exports.isIterable=isIterable$1;itPipe.exports.isDuplex=isDuplex;var itPipeExports=itPipe.exports;const pipe$1=getDefaultExportFromCjs(itPipeExports);async function*batch$1(t,e=1){let r=[];e<1&&(e=1);for await(const n of t)for(r.push(n);r.length>=e;)yield r.slice(0,e),r=r.slice(e);for(;r.length;)yield r.slice(0,e),r=r.slice(e)}var itBatch=batch$1;const batch$2=getDefaultExportFromCjs(itBatch),batch=itBatch;async function*parallelBatch(t,e=1){for await(const r of batch(t,e)){const n=r.map(o=>o().then(a=>({ok:!0,value:a}),a=>({ok:!1,err:a})));for(let o=0;o<n.length;o++){const a=await n[o];if(a.ok)yield a.value;else throw a.err}}}var itParallelBatch=parallelBatch;const parallelBatch$1=getDefaultExportFromCjs(itParallelBatch);var isPlainObj=t=>{if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype};const isOptionObject=isPlainObj,{hasOwnProperty}=Object.prototype,{propertyIsEnumerable}=Object,defineProperty=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!0,configurable:!0}),globalThis$1=commonjsGlobal,defaultMergeOptions={concatArrays:!1,ignoreUndefined:!1},getEnumerableOwnPropertyKeys=t=>{const e=[];for(const r in t)hasOwnProperty.call(t,r)&&e.push(r);if(Object.getOwnPropertySymbols){const r=Object.getOwnPropertySymbols(t);for(const n of r)propertyIsEnumerable.call(t,n)&&e.push(n)}return e};function clone(t){return Array.isArray(t)?cloneArray(t):isOptionObject(t)?cloneOptionObject(t):t}function cloneArray(t){const e=t.slice(0,0);return getEnumerableOwnPropertyKeys(t).forEach(r=>{defineProperty(e,r,clone(t[r]))}),e}function cloneOptionObject(t){const e=Object.getPrototypeOf(t)===null?Object.create(null):{};return getEnumerableOwnPropertyKeys(t).forEach(r=>{defineProperty(e,r,clone(t[r]))}),e}const mergeKeys=(t,e,r,n)=>(r.forEach(o=>{typeof e[o]>"u"&&n.ignoreUndefined||(o in t&&t[o]!==Object.getPrototypeOf(t)?defineProperty(t,o,merge(t[o],e[o],n)):defineProperty(t,o,clone(e[o])))}),t),concatArrays=(t,e,r)=>{let n=t.slice(0,0),o=0;return[t,e].forEach(a=>{const u=[];for(let c=0;c<a.length;c++)hasOwnProperty.call(a,c)&&(u.push(String(c)),a===t?defineProperty(n,o++,a[c]):defineProperty(n,o++,clone(a[c])));n=mergeKeys(n,a,getEnumerableOwnPropertyKeys(a).filter(c=>!u.includes(c)),r)}),n};function merge(t,e,r){return r.concatArrays&&Array.isArray(t)&&Array.isArray(e)?concatArrays(t,e,r):!isOptionObject(e)||!isOptionObject(t)?clone(e):mergeKeys(t,e,getEnumerableOwnPropertyKeys(e),r)}var mergeOptions=function(...t){const e=merge(clone(defaultMergeOptions),this!==globalThis$1&&this||{},defaultMergeOptions);let r={_:{}};for(const n of t)if(n!==void 0){if(!isOptionObject(n))throw new TypeError("`"+n+"` is not an Option Object");r=merge(r,{_:n},e)}return r._};const mergeOptions$1=getDefaultExportFromCjs(mergeOptions),sha=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),sha256=from({name:"sha2-256",code:18,encode:sha("SHA-256")});var murmurHash3js={exports:{}};(function(t,e){(function(r,n){var o={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function a(h){if(!Array.isArray(h)&&!ArrayBuffer.isView(h))return!1;for(var E=0;E<h.length;E++)if(!Number.isInteger(h[E])||h[E]<0||h[E]>255)return!1;return!0}function u(h,E){return(h&65535)*E+(((h>>>16)*E&65535)<<16)}function c(h,E){return h<<E|h>>>32-E}function d(h){return h^=h>>>16,h=u(h,2246822507),h^=h>>>13,h=u(h,3266489909),h^=h>>>16,h}function m(h,E){h=[h[0]>>>16,h[0]&65535,h[1]>>>16,h[1]&65535],E=[E[0]>>>16,E[0]&65535,E[1]>>>16,E[1]&65535];var B=[0,0,0,0];return B[3]+=h[3]+E[3],B[2]+=B[3]>>>16,B[3]&=65535,B[2]+=h[2]+E[2],B[1]+=B[2]>>>16,B[2]&=65535,B[1]+=h[1]+E[1],B[0]+=B[1]>>>16,B[1]&=65535,B[0]+=h[0]+E[0],B[0]&=65535,[B[0]<<16|B[1],B[2]<<16|B[3]]}function y(h,E){h=[h[0]>>>16,h[0]&65535,h[1]>>>16,h[1]&65535],E=[E[0]>>>16,E[0]&65535,E[1]>>>16,E[1]&65535];var B=[0,0,0,0];return B[3]+=h[3]*E[3],B[2]+=B[3]>>>16,B[3]&=65535,B[2]+=h[2]*E[3],B[1]+=B[2]>>>16,B[2]&=65535,B[2]+=h[3]*E[2],B[1]+=B[2]>>>16,B[2]&=65535,B[1]+=h[1]*E[3],B[0]+=B[1]>>>16,B[1]&=65535,B[1]+=h[2]*E[2],B[0]+=B[1]>>>16,B[1]&=65535,B[1]+=h[3]*E[1],B[0]+=B[1]>>>16,B[1]&=65535,B[0]+=h[0]*E[3]+h[1]*E[2]+h[2]*E[1]+h[3]*E[0],B[0]&=65535,[B[0]<<16|B[1],B[2]<<16|B[3]]}function D(h,E){return E%=64,E===32?[h[1],h[0]]:E<32?[h[0]<<E|h[1]>>>32-E,h[1]<<E|h[0]>>>32-E]:(E-=32,[h[1]<<E|h[0]>>>32-E,h[0]<<E|h[1]>>>32-E])}function T(h,E){return E%=64,E===0?h:E<32?[h[0]<<E|h[1]>>>32-E,h[1]<<E]:[h[1]<<E-32,0]}function w(h,E){return[h[0]^E[0],h[1]^E[1]]}function _(h){return h=w(h,[0,h[0]>>>1]),h=y(h,[4283543511,3981806797]),h=w(h,[0,h[0]>>>1]),h=y(h,[3301882366,444984403]),h=w(h,[0,h[0]>>>1]),h}o.x86.hash32=function(h,E){if(o.inputValidation&&!a(h))return n;E=E||0;for(var B=h.length%4,O=h.length-B,k=E,S=0,A=3432918353,$=461845907,v=0;v<O;v=v+4)S=h[v]|h[v+1]<<8|h[v+2]<<16|h[v+3]<<24,S=u(S,A),S=c(S,15),S=u(S,$),k^=S,k=c(k,13),k=u(k,5)+3864292196;switch(S=0,B){case 3:S^=h[v+2]<<16;case 2:S^=h[v+1]<<8;case 1:S^=h[v],S=u(S,A),S=c(S,15),S=u(S,$),k^=S}return k^=h.length,k=d(k),k>>>0},o.x86.hash128=function(h,E){if(o.inputValidation&&!a(h))return n;E=E||0;for(var B=h.length%16,O=h.length-B,k=E,S=E,A=E,$=E,v=0,C=0,I=0,F=0,K=597399067,G=2869860233,re=951274213,q=2716044179,U=0;U<O;U=U+16)v=h[U]|h[U+1]<<8|h[U+2]<<16|h[U+3]<<24,C=h[U+4]|h[U+5]<<8|h[U+6]<<16|h[U+7]<<24,I=h[U+8]|h[U+9]<<8|h[U+10]<<16|h[U+11]<<24,F=h[U+12]|h[U+13]<<8|h[U+14]<<16|h[U+15]<<24,v=u(v,K),v=c(v,15),v=u(v,G),k^=v,k=c(k,19),k+=S,k=u(k,5)+1444728091,C=u(C,G),C=c(C,16),C=u(C,re),S^=C,S=c(S,17),S+=A,S=u(S,5)+197830471,I=u(I,re),I=c(I,17),I=u(I,q),A^=I,A=c(A,15),A+=$,A=u(A,5)+2530024501,F=u(F,q),F=c(F,18),F=u(F,K),$^=F,$=c($,13),$+=k,$=u($,5)+850148119;switch(v=0,C=0,I=0,F=0,B){case 15:F^=h[U+14]<<16;case 14:F^=h[U+13]<<8;case 13:F^=h[U+12],F=u(F,q),F=c(F,18),F=u(F,K),$^=F;case 12:I^=h[U+11]<<24;case 11:I^=h[U+10]<<16;case 10:I^=h[U+9]<<8;case 9:I^=h[U+8],I=u(I,re),I=c(I,17),I=u(I,q),A^=I;case 8:C^=h[U+7]<<24;case 7:C^=h[U+6]<<16;case 6:C^=h[U+5]<<8;case 5:C^=h[U+4],C=u(C,G),C=c(C,16),C=u(C,re),S^=C;case 4:v^=h[U+3]<<24;case 3:v^=h[U+2]<<16;case 2:v^=h[U+1]<<8;case 1:v^=h[U],v=u(v,K),v=c(v,15),v=u(v,G),k^=v}return k^=h.length,S^=h.length,A^=h.length,$^=h.length,k+=S,k+=A,k+=$,S+=k,A+=k,$+=k,k=d(k),S=d(S),A=d(A),$=d($),k+=S,k+=A,k+=$,S+=k,A+=k,$+=k,("00000000"+(k>>>0).toString(16)).slice(-8)+("00000000"+(S>>>0).toString(16)).slice(-8)+("00000000"+(A>>>0).toString(16)).slice(-8)+("00000000"+($>>>0).toString(16)).slice(-8)},o.x64.hash128=function(h,E){if(o.inputValidation&&!a(h))return n;E=E||0;for(var B=h.length%16,O=h.length-B,k=[0,E],S=[0,E],A=[0,0],$=[0,0],v=[2277735313,289559509],C=[1291169091,658871167],I=0;I<O;I=I+16)A=[h[I+4]|h[I+5]<<8|h[I+6]<<16|h[I+7]<<24,h[I]|h[I+1]<<8|h[I+2]<<16|h[I+3]<<24],$=[h[I+12]|h[I+13]<<8|h[I+14]<<16|h[I+15]<<24,h[I+8]|h[I+9]<<8|h[I+10]<<16|h[I+11]<<24],A=y(A,v),A=D(A,31),A=y(A,C),k=w(k,A),k=D(k,27),k=m(k,S),k=m(y(k,[0,5]),[0,1390208809]),$=y($,C),$=D($,33),$=y($,v),S=w(S,$),S=D(S,31),S=m(S,k),S=m(y(S,[0,5]),[0,944331445]);switch(A=[0,0],$=[0,0],B){case 15:$=w($,T([0,h[I+14]],48));case 14:$=w($,T([0,h[I+13]],40));case 13:$=w($,T([0,h[I+12]],32));case 12:$=w($,T([0,h[I+11]],24));case 11:$=w($,T([0,h[I+10]],16));case 10:$=w($,T([0,h[I+9]],8));case 9:$=w($,[0,h[I+8]]),$=y($,C),$=D($,33),$=y($,v),S=w(S,$);case 8:A=w(A,T([0,h[I+7]],56));case 7:A=w(A,T([0,h[I+6]],48));case 6:A=w(A,T([0,h[I+5]],40));case 5:A=w(A,T([0,h[I+4]],32));case 4:A=w(A,T([0,h[I+3]],24));case 3:A=w(A,T([0,h[I+2]],16));case 2:A=w(A,T([0,h[I+1]],8));case 1:A=w(A,[0,h[I]]),A=y(A,v),A=D(A,31),A=y(A,C),k=w(k,A)}return k=w(k,[0,h.length]),S=w(S,[0,h.length]),k=m(k,S),S=m(S,k),k=_(k),S=_(S),k=m(k,S),S=m(S,k),("00000000"+(k[0]>>>0).toString(16)).slice(-8)+("00000000"+(k[1]>>>0).toString(16)).slice(-8)+("00000000"+(S[0]>>>0).toString(16)).slice(-8)+("00000000"+(S[1]>>>0).toString(16)).slice(-8)},t.exports&&(e=t.exports=o),e.murmurHash3=o})()})(murmurHash3js,murmurHash3js.exports);var murmurHash3jsExports=murmurHash3js.exports,murmurhash3jsRevisited=murmurHash3jsExports;const mur=getDefaultExportFromCjs(murmurhash3jsRevisited),murmur3128=from({name:"murmur3-128",code:34,encode:t=>fromHex(mur.x64.hash128(t))});async function hamtHashFn(t){return(await murmur3128.encode(t)).slice(0,8).reverse()}const defaultOptions={chunker:"fixed",strategy:"balanced",rawLeaves:!1,onlyHash:!1,reduceSingleLeafToSelf:!0,hasher:sha256,leafType:"file",cidVersion:0,progress:()=>()=>{},shardSplitThreshold:1e3,fileImportConcurrency:50,blockWriteConcurrency:10,minChunkSize:262144,maxChunkSize:262144,avgChunkSize:262144,window:16,polynomial:0x3df305dfb2a804,maxChildrenPerNode:174,layerRepeat:4,wrapWithDirectory:!1,recursive:!1,hidden:!1,timeout:void 0,hamtHashFn,hamtHashCode:34,hamtBucketBits:8},defaultOptions$1=(t={})=>mergeOptions$1.bind({ignoreUndefined:!0})(defaultOptions,t);function assign(t,e){for(const r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function createError(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return assign(t,r)}catch{r.message=t.message,r.stack=t.stack;const o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(t)),assign(new o,r)}}var errCode=createError;const errCode$1=getDefaultExportFromCjs(errCode);var indexMinimal={},minimal$1={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=t;function t(e,r){for(var n=new Array(arguments.length-1),o=0,a=2,u=!0;a<arguments.length;)n[o++]=arguments[a++];return new Promise(function(d,m){n[o]=function(D){if(u)if(u=!1,D)m(D);else{for(var T=new Array(arguments.length-1),w=0;w<T.length;)T[w++]=arguments[w];d.apply(null,T)}};try{e.apply(r||null,n)}catch(y){u&&(u=!1,m(y))}})}return aspromise}var base64$3={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,function(t){var e=t;e.length=function(c){var d=c.length;if(!d)return 0;for(var m=0;--d%4>1&&c.charAt(d)==="=";)++m;return Math.ceil(c.length*3)/4-m};for(var r=new Array(64),n=new Array(123),o=0;o<64;)n[r[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;e.encode=function(c,d,m){for(var y=null,D=[],T=0,w=0,_;d<m;){var h=c[d++];switch(w){case 0:D[T++]=r[h>>2],_=(h&3)<<4,w=1;break;case 1:D[T++]=r[_|h>>4],_=(h&15)<<2,w=2;break;case 2:D[T++]=r[_|h>>6],D[T++]=r[h&63],w=0;break}T>8191&&((y||(y=[])).push(String.fromCharCode.apply(String,D)),T=0)}return w&&(D[T++]=r[_],D[T++]=61,w===1&&(D[T++]=61)),y?(T&&y.push(String.fromCharCode.apply(String,D.slice(0,T))),y.join("")):String.fromCharCode.apply(String,D.slice(0,T))};var a="invalid encoding";e.decode=function(c,d,m){for(var y=m,D=0,T,w=0;w<c.length;){var _=c.charCodeAt(w++);if(_===61&&D>1)break;if((_=n[_])===void 0)throw Error(a);switch(D){case 0:T=_,D=1;break;case 1:d[m++]=T<<2|(_&48)>>4,T=_,D=2;break;case 2:d[m++]=(T&15)<<4|(_&60)>>2,T=_,D=3;break;case 3:d[m++]=(T&3)<<6|_,D=0;break}}if(D===1)throw Error(a);return m-y},e.test=function(c){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(c)}}(base64$3)),base64$3}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=t;function t(){this._listeners={}}return t.prototype.on=function(r,n,o){return(this._listeners[r]||(this._listeners[r]=[])).push({fn:n,ctx:o||this}),this},t.prototype.off=function(r,n){if(r===void 0)this._listeners={};else if(n===void 0)this._listeners[r]=[];else for(var o=this._listeners[r],a=0;a<o.length;)o[a].fn===n?o.splice(a,1):++a;return this},t.prototype.emit=function(r){var n=this._listeners[r];if(n){for(var o=[],a=1;a<arguments.length;)o.push(arguments[a++]);for(a=0;a<n.length;)n[a].fn.apply(n[a++].ctx,o)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=t(t);function t(a){return typeof Float32Array<"u"?function(){var u=new Float32Array([-0]),c=new Uint8Array(u.buffer),d=c[3]===128;function m(w,_,h){u[0]=w,_[h]=c[0],_[h+1]=c[1],_[h+2]=c[2],_[h+3]=c[3]}function y(w,_,h){u[0]=w,_[h]=c[3],_[h+1]=c[2],_[h+2]=c[1],_[h+3]=c[0]}a.writeFloatLE=d?m:y,a.writeFloatBE=d?y:m;function D(w,_){return c[0]=w[_],c[1]=w[_+1],c[2]=w[_+2],c[3]=w[_+3],u[0]}function T(w,_){return c[3]=w[_],c[2]=w[_+1],c[1]=w[_+2],c[0]=w[_+3],u[0]}a.readFloatLE=d?D:T,a.readFloatBE=d?T:D}():function(){function u(d,m,y,D){var T=m<0?1:0;if(T&&(m=-m),m===0)d(1/m>0?0:2147483648,y,D);else if(isNaN(m))d(2143289344,y,D);else if(m>34028234663852886e22)d((T<<31|2139095040)>>>0,y,D);else if(m<11754943508222875e-54)d((T<<31|Math.round(m/1401298464324817e-60))>>>0,y,D);else{var w=Math.floor(Math.log(m)/Math.LN2),_=Math.round(m*Math.pow(2,-w)*8388608)&8388607;d((T<<31|w+127<<23|_)>>>0,y,D)}}a.writeFloatLE=u.bind(null,e),a.writeFloatBE=u.bind(null,r);function c(d,m,y){var D=d(m,y),T=(D>>31)*2+1,w=D>>>23&255,_=D&8388607;return w===255?_?NaN:T*(1/0):w===0?T*1401298464324817e-60*_:T*Math.pow(2,w-150)*(_+8388608)}a.readFloatLE=c.bind(null,n),a.readFloatBE=c.bind(null,o)}(),typeof Float64Array<"u"?function(){var u=new Float64Array([-0]),c=new Uint8Array(u.buffer),d=c[7]===128;function m(w,_,h){u[0]=w,_[h]=c[0],_[h+1]=c[1],_[h+2]=c[2],_[h+3]=c[3],_[h+4]=c[4],_[h+5]=c[5],_[h+6]=c[6],_[h+7]=c[7]}function y(w,_,h){u[0]=w,_[h]=c[7],_[h+1]=c[6],_[h+2]=c[5],_[h+3]=c[4],_[h+4]=c[3],_[h+5]=c[2],_[h+6]=c[1],_[h+7]=c[0]}a.writeDoubleLE=d?m:y,a.writeDoubleBE=d?y:m;function D(w,_){return c[0]=w[_],c[1]=w[_+1],c[2]=w[_+2],c[3]=w[_+3],c[4]=w[_+4],c[5]=w[_+5],c[6]=w[_+6],c[7]=w[_+7],u[0]}function T(w,_){return c[7]=w[_],c[6]=w[_+1],c[5]=w[_+2],c[4]=w[_+3],c[3]=w[_+4],c[2]=w[_+5],c[1]=w[_+6],c[0]=w[_+7],u[0]}a.readDoubleLE=d?D:T,a.readDoubleBE=d?T:D}():function(){function u(d,m,y,D,T,w){var _=D<0?1:0;if(_&&(D=-D),D===0)d(0,T,w+m),d(1/D>0?0:2147483648,T,w+y);else if(isNaN(D))d(0,T,w+m),d(2146959360,T,w+y);else if(D>17976931348623157e292)d(0,T,w+m),d((_<<31|2146435072)>>>0,T,w+y);else{var h;if(D<22250738585072014e-324)h=D/5e-324,d(h>>>0,T,w+m),d((_<<31|h/4294967296)>>>0,T,w+y);else{var E=Math.floor(Math.log(D)/Math.LN2);E===1024&&(E=1023),h=D*Math.pow(2,-E),d(h*4503599627370496>>>0,T,w+m),d((_<<31|E+1023<<20|h*1048576&1048575)>>>0,T,w+y)}}}a.writeDoubleLE=u.bind(null,e,0,4),a.writeDoubleBE=u.bind(null,r,4,0);function c(d,m,y,D,T){var w=d(D,T+m),_=d(D,T+y),h=(_>>31)*2+1,E=_>>>20&2047,B=4294967296*(_&1048575)+w;return E===2047?B?NaN:h*(1/0):E===0?h*5e-324*B:h*Math.pow(2,E-1075)*(B+4503599627370496)}a.readDoubleLE=c.bind(null,n,0,4),a.readDoubleBE=c.bind(null,o,4,0)}(),a}function e(a,u,c){u[c]=a&255,u[c+1]=a>>>8&255,u[c+2]=a>>>16&255,u[c+3]=a>>>24}function r(a,u,c){u[c]=a>>>24,u[c+1]=a>>>16&255,u[c+2]=a>>>8&255,u[c+3]=a&255}function n(a,u){return(a[u]|a[u+1]<<8|a[u+2]<<16|a[u+3]<<24)>>>0}function o(a,u){return(a[u]<<24|a[u+1]<<16|a[u+2]<<8|a[u+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}return inquire_1}var utf8$2={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,function(t){var e=t;e.length=function(n){for(var o=0,a=0,u=0;u<n.length;++u)a=n.charCodeAt(u),a<128?o+=1:a<2048?o+=2:(a&64512)===55296&&(n.charCodeAt(u+1)&64512)===56320?(++u,o+=4):o+=3;return o},e.read=function(n,o,a){var u=a-o;if(u<1)return"";for(var c=null,d=[],m=0,y;o<a;)y=n[o++],y<128?d[m++]=y:y>191&&y<224?d[m++]=(y&31)<<6|n[o++]&63:y>239&&y<365?(y=((y&7)<<18|(n[o++]&63)<<12|(n[o++]&63)<<6|n[o++]&63)-65536,d[m++]=55296+(y>>10),d[m++]=56320+(y&1023)):d[m++]=(y&15)<<12|(n[o++]&63)<<6|n[o++]&63,m>8191&&((c||(c=[])).push(String.fromCharCode.apply(String,d)),m=0);return c?(m&&c.push(String.fromCharCode.apply(String,d.slice(0,m))),c.join("")):String.fromCharCode.apply(String,d.slice(0,m))},e.write=function(n,o,a){for(var u=a,c,d,m=0;m<n.length;++m)c=n.charCodeAt(m),c<128?o[a++]=c:c<2048?(o[a++]=c>>6|192,o[a++]=c&63|128):(c&64512)===55296&&((d=n.charCodeAt(m+1))&64512)===56320?(c=65536+((c&1023)<<10)+(d&1023),++m,o[a++]=c>>18|240,o[a++]=c>>12&63|128,o[a++]=c>>6&63|128,o[a++]=c&63|128):(o[a++]=c>>12|224,o[a++]=c>>6&63|128,o[a++]=c&63|128);return a-u}}(utf8$2)),utf8$2}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=t;function t(e,r,n){var o=n||8192,a=o>>>1,u=null,c=o;return function(m){if(m<1||m>a)return e(m);c+m>o&&(u=e(o),c=0);var y=r.call(u,c,c+=m);return c&7&&(c=(c|7)+1),y}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=e;var t=requireMinimal();function e(a,u){this.lo=a>>>0,this.hi=u>>>0}var r=e.zero=new e(0,0);r.toNumber=function(){return 0},r.zzEncode=r.zzDecode=function(){return this},r.length=function(){return 1};var n=e.zeroHash="\0\0\0\0\0\0\0\0";e.fromNumber=function(u){if(u===0)return r;var c=u<0;c&&(u=-u);var d=u>>>0,m=(u-d)/4294967296>>>0;return c&&(m=~m>>>0,d=~d>>>0,++d>4294967295&&(d=0,++m>4294967295&&(m=0))),new e(d,m)},e.from=function(u){if(typeof u=="number")return e.fromNumber(u);if(t.isString(u))if(t.Long)u=t.Long.fromString(u);else return e.fromNumber(parseInt(u,10));return u.low||u.high?new e(u.low>>>0,u.high>>>0):r},e.prototype.toNumber=function(u){if(!u&&this.hi>>>31){var c=~this.lo+1>>>0,d=~this.hi>>>0;return c||(d=d+1>>>0),-(c+d*4294967296)}return this.lo+this.hi*4294967296},e.prototype.toLong=function(u){return t.Long?new t.Long(this.lo|0,this.hi|0,!!u):{low:this.lo|0,high:this.hi|0,unsigned:!!u}};var o=String.prototype.charCodeAt;return e.fromHash=function(u){return u===n?r:new e((o.call(u,0)|o.call(u,1)<<8|o.call(u,2)<<16|o.call(u,3)<<24)>>>0,(o.call(u,4)|o.call(u,5)<<8|o.call(u,6)<<16|o.call(u,7)<<24)>>>0)},e.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},e.prototype.zzEncode=function(){var u=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^u)>>>0,this.lo=(this.lo<<1^u)>>>0,this},e.prototype.zzDecode=function(){var u=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^u)>>>0,this.hi=(this.hi>>>1^u)>>>0,this},e.prototype.length=function(){var u=this.lo,c=(this.lo>>>28|this.hi<<4)>>>0,d=this.hi>>>24;return d===0?c===0?u<16384?u<128?1:2:u<2097152?3:4:c<16384?c<128?5:6:c<2097152?7:8:d<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(t){var e=t;e.asPromise=requireAspromise(),e.base64=requireBase64(),e.EventEmitter=requireEventemitter(),e.float=requireFloat(),e.inquire=requireInquire(),e.utf8=requireUtf8(),e.pool=requirePool(),e.LongBits=requireLongbits(),e.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),e.global=e.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isInteger=Number.isInteger||function(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a},e.isString=function(a){return typeof a=="string"||a instanceof String},e.isObject=function(a){return a&&typeof a=="object"},e.isset=e.isSet=function(a,u){var c=a[u];return c!=null&&a.hasOwnProperty(u)?typeof c!="object"||(Array.isArray(c)?c.length:Object.keys(c).length)>0:!1},e.Buffer=function(){try{var o=e.inquire("buffer").Buffer;return o.prototype.utf8Write?o:null}catch{return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(a){return typeof a=="number"?e.Buffer?e._Buffer_allocUnsafe(a):new e.Array(a):e.Buffer?e._Buffer_from(a):typeof Uint8Array>"u"?a:new Uint8Array(a)},e.Array=typeof Uint8Array<"u"?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(a){return a?e.LongBits.from(a).toHash():e.LongBits.zeroHash},e.longFromHash=function(a,u){var c=e.LongBits.fromHash(a);return e.Long?e.Long.fromBits(c.lo,c.hi,u):c.toNumber(!!u)};function r(o,a,u){for(var c=Object.keys(a),d=0;d<c.length;++d)(o[c[d]]===void 0||!u)&&(o[c[d]]=a[c[d]]);return o}e.merge=r,e.lcFirst=function(a){return a.charAt(0).toLowerCase()+a.substring(1)};function n(o){function a(u,c){if(!(this instanceof a))return new a(u,c);Object.defineProperty(this,"message",{get:function(){return u}}),Error.captureStackTrace?Error.captureStackTrace(this,a):Object.defineProperty(this,"stack",{value:new Error().stack||""}),c&&r(this,c)}return(a.prototype=Object.create(Error.prototype)).constructor=a,Object.defineProperty(a.prototype,"name",{get:function(){return o}}),a.prototype.toString=function(){return this.name+": "+this.message},a}e.newError=n,e.ProtocolError=n("ProtocolError"),e.oneOfGetter=function(a){for(var u={},c=0;c<a.length;++c)u[a[c]]=1;return function(){for(var d=Object.keys(this),m=d.length-1;m>-1;--m)if(u[d[m]]===1&&this[d[m]]!==void 0&&this[d[m]]!==null)return d[m]}},e.oneOfSetter=function(a){return function(u){for(var c=0;c<a.length;++c)a[c]!==u&&delete this[a[c]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var o=e.Buffer;if(!o){e._Buffer_from=e._Buffer_allocUnsafe=null;return}e._Buffer_from=o.from!==Uint8Array.from&&o.from||function(u,c){return new o(u,c)},e._Buffer_allocUnsafe=o.allocUnsafe||function(u){return new o(u)}}}(minimal$1)),minimal$1}var writer=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64$2=util$4.base64,utf8$1=util$4.utf8;function Op(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function noop(){}function State(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$2=function t(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$2();Writer$1.alloc=function t(e){return new util$4.Array(e)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function t(e,r,n){return this.tail=this.tail.next=new Op(e,r,n),this.len+=r,this};function writeByte(t,e,r){e[r]=t&255}function writeVarint32(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function VarintOp(t,e){this.len=t,this.next=void 0,this.val=e}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function t(e){return this.len+=(this.tail=this.tail.next=new VarintOp((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Writer$1.prototype.int32=function t(e){return e<0?this._push(writeVarint64,10,LongBits$1.fromNumber(e)):this.uint32(e)};Writer$1.prototype.sint32=function t(e){return this.uint32((e<<1^e>>31)>>>0)};function writeVarint64(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}Writer$1.prototype.uint64=function t(e){var r=LongBits$1.from(e);return this._push(writeVarint64,r.length(),r)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function t(e){var r=LongBits$1.from(e).zzEncode();return this._push(writeVarint64,r.length(),r)};Writer$1.prototype.bool=function t(e){return this._push(writeByte,1,e?1:0)};function writeFixed32(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}Writer$1.prototype.fixed32=function t(e){return this._push(writeFixed32,4,e>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function t(e){var r=LongBits$1.from(e);return this._push(writeFixed32,4,r.lo)._push(writeFixed32,4,r.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function t(e){return this._push(util$4.float.writeFloatLE,4,e)};Writer$1.prototype.double=function t(e){return this._push(util$4.float.writeDoubleLE,8,e)};var writeBytes=util$4.Array.prototype.set?function t(e,r,n){r.set(e,n)}:function t(e,r,n){for(var o=0;o<e.length;++o)r[n+o]=e[o]};Writer$1.prototype.bytes=function t(e){var r=e.length>>>0;if(!r)return this._push(writeByte,1,0);if(util$4.isString(e)){var n=Writer$1.alloc(r=base64$2.length(e));base64$2.decode(e,n,0),e=n}return this.uint32(r)._push(writeBytes,r,e)};Writer$1.prototype.string=function t(e){var r=utf8$1.length(e);return r?this.uint32(r)._push(utf8$1.write,r,e):this._push(writeByte,1,0)};Writer$1.prototype.fork=function t(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function t(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function t(){var e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=r,this.len+=n),this};Writer$1.prototype.finish=function t(){for(var e=this.head.next,r=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r};Writer$1._configure=function(t){BufferWriter$1=t,Writer$1.create=create$2(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(e,r,n){r.set(e,n)}:function(e,r,n){if(e.copy)e.copy(r,n,0,e.length);else for(var o=0;o<e.length;)r[n++]=e[o++]}};BufferWriter.prototype.bytes=function t(e){util$3.isString(e)&&(e=util$3._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(BufferWriter.writeBytesBuffer,r,e),this};function writeStringBuffer(t,e,r){t.length<40?util$3.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}BufferWriter.prototype.string=function t(e){var r=util$3.Buffer.byteLength(e);return this.uint32(r),r&&this._push(writeStringBuffer,r,e),this};BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Reader$1(t){this.buf=t,this.pos=0,this.len=t.length}var create_array=typeof Uint8Array<"u"?function t(e){if(e instanceof Uint8Array||Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")}:function t(e){if(Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")},create$1=function t(){return util$2.Buffer?function(r){return(Reader$1.create=function(o){return util$2.Buffer.isBuffer(o)?new BufferReader$1(o):create_array(o)})(r)}:create_array};Reader$1.create=create$1();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function t(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return e}}();Reader$1.prototype.int32=function t(){return this.uint32()|0};Reader$1.prototype.sint32=function t(){var e=this.uint32();return e>>>1^-(e&1)|0};function readLongVarint(){var t=new LongBits(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function t(){return this.uint32()!==0};function readFixed32_end(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}Reader$1.prototype.fixed32=function t(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function t(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function t(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Reader$1.prototype.double=function t(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Reader$1.prototype.bytes=function t(){var e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw indexOutOfRange(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};Reader$1.prototype.string=function t(){var e=this.bytes();return utf8.read(e,0,e.length)};Reader$1.prototype.skip=function t(e){if(typeof e=="number"){if(this.pos+e>this.len)throw indexOutOfRange(this,e);this.pos+=e}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};Reader$1._configure=function(t){BufferReader$1=t,Reader$1.create=create$1(),BufferReader$1._configure();var e=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[e](!1)},uint64:function(){return readLongVarint.call(this)[e](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[e](!1)},fixed64:function(){return readFixed64.call(this)[e](!0)},sfixed64:function(){return readFixed64.call(this)[e](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader(t){Reader.call(this,t)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function t(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};BufferReader._configure();var rpc={},service=Service,util=requireMinimal();(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!e,this.responseDelimited=!!r}Service.prototype.rpcCall=function t(e,r,n,o,a){if(!o)throw TypeError("request must be specified");var u=this;if(!a)return util.asPromise(t,u,e,r,n,o);if(!u.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return u.rpcImpl(e,r[u.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(d,m){if(d)return u.emit("error",d,e),a(d);if(m===null){u.end(!0);return}if(!(m instanceof n))try{m=n[u.responseDelimited?"decodeDelimited":"decode"](m)}catch(y){return u.emit("error",y,e),a(y)}return u.emit("data",m,e),a(null,m)})}catch(c){u.emit("error",c,e),setTimeout(function(){a(c)},0);return}};Service.prototype.end=function t(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(t){var e=t;e.Service=service})(rpc);var roots={};(function(t){var e=t;e.build="minimal",e.Writer=writer,e.BufferWriter=writer_buffer,e.Reader=reader,e.BufferReader=reader_buffer,e.util=requireMinimal(),e.rpc=rpc,e.roots=roots,e.configure=r;function r(){e.util._configure(),e.Writer._configure(e.BufferWriter),e.Reader._configure(e.BufferReader)}r()})(indexMinimal);var minimal=indexMinimal;const $protobuf=getDefaultExportFromCjs(minimal),$Reader=$protobuf.Reader,$Writer=$protobuf.Writer,$util=$protobuf.util,$root=$protobuf.roots["ipfs-unixfs"]||($protobuf.roots["ipfs-unixfs"]={}),Data=$root.Data=(()=>{function t(e){if(this.blocksizes=[],e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.Type=0,t.prototype.Data=$util.newBuffer([]),t.prototype.filesize=$util.Long?$util.Long.fromBits(0,0,!0):0,t.prototype.blocksizes=$util.emptyArray,t.prototype.hashType=$util.Long?$util.Long.fromBits(0,0,!0):0,t.prototype.fanout=$util.Long?$util.Long.fromBits(0,0,!0):0,t.prototype.mode=0,t.prototype.mtime=null,t.encode=function(r,n){if(n||(n=$Writer.create()),n.uint32(8).int32(r.Type),r.Data!=null&&Object.hasOwnProperty.call(r,"Data")&&n.uint32(18).bytes(r.Data),r.filesize!=null&&Object.hasOwnProperty.call(r,"filesize")&&n.uint32(24).uint64(r.filesize),r.blocksizes!=null&&r.blocksizes.length)for(var o=0;o<r.blocksizes.length;++o)n.uint32(32).uint64(r.blocksizes[o]);return r.hashType!=null&&Object.hasOwnProperty.call(r,"hashType")&&n.uint32(40).uint64(r.hashType),r.fanout!=null&&Object.hasOwnProperty.call(r,"fanout")&&n.uint32(48).uint64(r.fanout),r.mode!=null&&Object.hasOwnProperty.call(r,"mode")&&n.uint32(56).uint32(r.mode),r.mtime!=null&&Object.hasOwnProperty.call(r,"mtime")&&$root.UnixTime.encode(r.mtime,n.uint32(66).fork()).ldelim(),n},t.decode=function(r,n){r instanceof $Reader||(r=$Reader.create(r));for(var o=n===void 0?r.len:r.pos+n,a=new $root.Data;r.pos<o;){var u=r.uint32();switch(u>>>3){case 1:a.Type=r.int32();break;case 2:a.Data=r.bytes();break;case 3:a.filesize=r.uint64();break;case 4:if(a.blocksizes&&a.blocksizes.length||(a.blocksizes=[]),(u&7)===2)for(var c=r.uint32()+r.pos;r.pos<c;)a.blocksizes.push(r.uint64());else a.blocksizes.push(r.uint64());break;case 5:a.hashType=r.uint64();break;case 6:a.fanout=r.uint64();break;case 7:a.mode=r.uint32();break;case 8:a.mtime=$root.UnixTime.decode(r,r.uint32());break;default:r.skipType(u&7);break}}if(!a.hasOwnProperty("Type"))throw $util.ProtocolError("missing required 'Type'",{instance:a});return a},t.fromObject=function(r){if(r instanceof $root.Data)return r;var n=new $root.Data;switch(r.Type){case"Raw":case 0:n.Type=0;break;case"Directory":case 1:n.Type=1;break;case"File":case 2:n.Type=2;break;case"Metadata":case 3:n.Type=3;break;case"Symlink":case 4:n.Type=4;break;case"HAMTShard":case 5:n.Type=5;break}if(r.Data!=null&&(typeof r.Data=="string"?$util.base64.decode(r.Data,n.Data=$util.newBuffer($util.base64.length(r.Data)),0):r.Data.length&&(n.Data=r.Data)),r.filesize!=null&&($util.Long?(n.filesize=$util.Long.fromValue(r.filesize)).unsigned=!0:typeof r.filesize=="string"?n.filesize=parseInt(r.filesize,10):typeof r.filesize=="number"?n.filesize=r.filesize:typeof r.filesize=="object"&&(n.filesize=new $util.LongBits(r.filesize.low>>>0,r.filesize.high>>>0).toNumber(!0))),r.blocksizes){if(!Array.isArray(r.blocksizes))throw TypeError(".Data.blocksizes: array expected");n.blocksizes=[];for(var o=0;o<r.blocksizes.length;++o)$util.Long?(n.blocksizes[o]=$util.Long.fromValue(r.blocksizes[o])).unsigned=!0:typeof r.blocksizes[o]=="string"?n.blocksizes[o]=parseInt(r.blocksizes[o],10):typeof r.blocksizes[o]=="number"?n.blocksizes[o]=r.blocksizes[o]:typeof r.blocksizes[o]=="object"&&(n.blocksizes[o]=new $util.LongBits(r.blocksizes[o].low>>>0,r.blocksizes[o].high>>>0).toNumber(!0))}if(r.hashType!=null&&($util.Long?(n.hashType=$util.Long.fromValue(r.hashType)).unsigned=!0:typeof r.hashType=="string"?n.hashType=parseInt(r.hashType,10):typeof r.hashType=="number"?n.hashType=r.hashType:typeof r.hashType=="object"&&(n.hashType=new $util.LongBits(r.hashType.low>>>0,r.hashType.high>>>0).toNumber(!0))),r.fanout!=null&&($util.Long?(n.fanout=$util.Long.fromValue(r.fanout)).unsigned=!0:typeof r.fanout=="string"?n.fanout=parseInt(r.fanout,10):typeof r.fanout=="number"?n.fanout=r.fanout:typeof r.fanout=="object"&&(n.fanout=new $util.LongBits(r.fanout.low>>>0,r.fanout.high>>>0).toNumber(!0))),r.mode!=null&&(n.mode=r.mode>>>0),r.mtime!=null){if(typeof r.mtime!="object")throw TypeError(".Data.mtime: object expected");n.mtime=$root.UnixTime.fromObject(r.mtime)}return n},t.toObject=function(r,n){n||(n={});var o={};if((n.arrays||n.defaults)&&(o.blocksizes=[]),n.defaults){if(o.Type=n.enums===String?"Raw":0,n.bytes===String?o.Data="":(o.Data=[],n.bytes!==Array&&(o.Data=$util.newBuffer(o.Data))),$util.Long){var a=new $util.Long(0,0,!0);o.filesize=n.longs===String?a.toString():n.longs===Number?a.toNumber():a}else o.filesize=n.longs===String?"0":0;if($util.Long){var a=new $util.Long(0,0,!0);o.hashType=n.longs===String?a.toString():n.longs===Number?a.toNumber():a}else o.hashType=n.longs===String?"0":0;if($util.Long){var a=new $util.Long(0,0,!0);o.fanout=n.longs===String?a.toString():n.longs===Number?a.toNumber():a}else o.fanout=n.longs===String?"0":0;o.mode=0,o.mtime=null}if(r.Type!=null&&r.hasOwnProperty("Type")&&(o.Type=n.enums===String?$root.Data.DataType[r.Type]:r.Type),r.Data!=null&&r.hasOwnProperty("Data")&&(o.Data=n.bytes===String?$util.base64.encode(r.Data,0,r.Data.length):n.bytes===Array?Array.prototype.slice.call(r.Data):r.Data),r.filesize!=null&&r.hasOwnProperty("filesize")&&(typeof r.filesize=="number"?o.filesize=n.longs===String?String(r.filesize):r.filesize:o.filesize=n.longs===String?$util.Long.prototype.toString.call(r.filesize):n.longs===Number?new $util.LongBits(r.filesize.low>>>0,r.filesize.high>>>0).toNumber(!0):r.filesize),r.blocksizes&&r.blocksizes.length){o.blocksizes=[];for(var u=0;u<r.blocksizes.length;++u)typeof r.blocksizes[u]=="number"?o.blocksizes[u]=n.longs===String?String(r.blocksizes[u]):r.blocksizes[u]:o.blocksizes[u]=n.longs===String?$util.Long.prototype.toString.call(r.blocksizes[u]):n.longs===Number?new $util.LongBits(r.blocksizes[u].low>>>0,r.blocksizes[u].high>>>0).toNumber(!0):r.blocksizes[u]}return r.hashType!=null&&r.hasOwnProperty("hashType")&&(typeof r.hashType=="number"?o.hashType=n.longs===String?String(r.hashType):r.hashType:o.hashType=n.longs===String?$util.Long.prototype.toString.call(r.hashType):n.longs===Number?new $util.LongBits(r.hashType.low>>>0,r.hashType.high>>>0).toNumber(!0):r.hashType),r.fanout!=null&&r.hasOwnProperty("fanout")&&(typeof r.fanout=="number"?o.fanout=n.longs===String?String(r.fanout):r.fanout:o.fanout=n.longs===String?$util.Long.prototype.toString.call(r.fanout):n.longs===Number?new $util.LongBits(r.fanout.low>>>0,r.fanout.high>>>0).toNumber(!0):r.fanout),r.mode!=null&&r.hasOwnProperty("mode")&&(o.mode=r.mode),r.mtime!=null&&r.hasOwnProperty("mtime")&&(o.mtime=$root.UnixTime.toObject(r.mtime,n)),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},t.DataType=function(){const e={},r=Object.create(e);return r[e[0]="Raw"]=0,r[e[1]="Directory"]=1,r[e[2]="File"]=2,r[e[3]="Metadata"]=3,r[e[4]="Symlink"]=4,r[e[5]="HAMTShard"]=5,r}(),t})();$root.UnixTime=(()=>{function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.Seconds=$util.Long?$util.Long.fromBits(0,0,!1):0,t.prototype.FractionalNanoseconds=0,t.encode=function(r,n){return n||(n=$Writer.create()),n.uint32(8).int64(r.Seconds),r.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(r,"FractionalNanoseconds")&&n.uint32(21).fixed32(r.FractionalNanoseconds),n},t.decode=function(r,n){r instanceof $Reader||(r=$Reader.create(r));for(var o=n===void 0?r.len:r.pos+n,a=new $root.UnixTime;r.pos<o;){var u=r.uint32();switch(u>>>3){case 1:a.Seconds=r.int64();break;case 2:a.FractionalNanoseconds=r.fixed32();break;default:r.skipType(u&7);break}}if(!a.hasOwnProperty("Seconds"))throw $util.ProtocolError("missing required 'Seconds'",{instance:a});return a},t.fromObject=function(r){if(r instanceof $root.UnixTime)return r;var n=new $root.UnixTime;return r.Seconds!=null&&($util.Long?(n.Seconds=$util.Long.fromValue(r.Seconds)).unsigned=!1:typeof r.Seconds=="string"?n.Seconds=parseInt(r.Seconds,10):typeof r.Seconds=="number"?n.Seconds=r.Seconds:typeof r.Seconds=="object"&&(n.Seconds=new $util.LongBits(r.Seconds.low>>>0,r.Seconds.high>>>0).toNumber())),r.FractionalNanoseconds!=null&&(n.FractionalNanoseconds=r.FractionalNanoseconds>>>0),n},t.toObject=function(r,n){n||(n={});var o={};if(n.defaults){if($util.Long){var a=new $util.Long(0,0,!1);o.Seconds=n.longs===String?a.toString():n.longs===Number?a.toNumber():a}else o.Seconds=n.longs===String?"0":0;o.FractionalNanoseconds=0}return r.Seconds!=null&&r.hasOwnProperty("Seconds")&&(typeof r.Seconds=="number"?o.Seconds=n.longs===String?String(r.Seconds):r.Seconds:o.Seconds=n.longs===String?$util.Long.prototype.toString.call(r.Seconds):n.longs===Number?new $util.LongBits(r.Seconds.low>>>0,r.Seconds.high>>>0).toNumber():r.Seconds),r.FractionalNanoseconds!=null&&r.hasOwnProperty("FractionalNanoseconds")&&(o.FractionalNanoseconds=r.FractionalNanoseconds),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},t})();$root.Metadata=(()=>{function t(e){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)e[r[n]]!=null&&(this[r[n]]=e[r[n]])}return t.prototype.MimeType="",t.encode=function(r,n){return n||(n=$Writer.create()),r.MimeType!=null&&Object.hasOwnProperty.call(r,"MimeType")&&n.uint32(10).string(r.MimeType),n},t.decode=function(r,n){r instanceof $Reader||(r=$Reader.create(r));for(var o=n===void 0?r.len:r.pos+n,a=new $root.Metadata;r.pos<o;){var u=r.uint32();switch(u>>>3){case 1:a.MimeType=r.string();break;default:r.skipType(u&7);break}}return a},t.fromObject=function(r){if(r instanceof $root.Metadata)return r;var n=new $root.Metadata;return r.MimeType!=null&&(n.MimeType=String(r.MimeType)),n},t.toObject=function(r,n){n||(n={});var o={};return n.defaults&&(o.MimeType=""),r.MimeType!=null&&r.hasOwnProperty("MimeType")&&(o.MimeType=r.MimeType),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},t})();const PBData=Data,types=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],dirTypes=["directory","hamt-sharded-directory"],DEFAULT_FILE_MODE=parseInt("0644",8),DEFAULT_DIRECTORY_MODE=parseInt("0755",8);function parseMode(t){if(t!=null)return typeof t=="number"?t&4095:(t=t.toString(),t.substring(0,1)==="0"?parseInt(t,8)&4095:parseInt(t,10)&4095)}function parseMtime(t){if(t==null)return;let e;if(t.secs!=null&&(e={secs:t.secs,nsecs:t.nsecs}),t.Seconds!=null&&(e={secs:t.Seconds,nsecs:t.FractionalNanoseconds}),Array.isArray(t)&&(e={secs:t[0],nsecs:t[1]}),t instanceof Date){const r=t.getTime(),n=Math.floor(r/1e3);e={secs:n,nsecs:(r-n*1e3)*1e3}}if(Object.prototype.hasOwnProperty.call(e,"secs")){if(e!=null&&e.nsecs!=null&&(e.nsecs<0||e.nsecs>999999999))throw errCode$1(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return e}}class UnixFS{static unmarshal(e){const r=PBData.decode(e),n=PBData.toObject(r,{defaults:!1,arrays:!0,longs:Number,objects:!1}),o=new UnixFS({type:types[n.Type],data:n.Data,blockSizes:n.blocksizes,mode:n.mode,mtime:n.mtime?{secs:n.mtime.Seconds,nsecs:n.mtime.FractionalNanoseconds}:void 0});return o._originalMode=n.mode||0,o}constructor(e={type:"file"}){const{type:r,data:n,blockSizes:o,hashType:a,fanout:u,mtime:c,mode:d}=e;if(r&&!types.includes(r))throw errCode$1(new Error("Type: "+r+" is not valid"),"ERR_INVALID_TYPE");this.type=r||"file",this.data=n,this.hashType=a,this.fanout=u,this.blockSizes=o||[],this._originalMode=0,this.mode=parseMode(d),c&&(this.mtime=parseMtime(c),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}set mode(e){this._mode=this.isDirectory()?DEFAULT_DIRECTORY_MODE:DEFAULT_FILE_MODE;const r=parseMode(e);r!==void 0&&(this._mode=r)}get mode(){return this._mode}isDirectory(){return!!(this.type&&dirTypes.includes(this.type))}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0;let e=0;return this.blockSizes.forEach(r=>{e+=r}),this.data&&(e+=this.data.length),e}marshal(){let e;switch(this.type){case"raw":e=PBData.DataType.Raw;break;case"directory":e=PBData.DataType.Directory;break;case"file":e=PBData.DataType.File;break;case"metadata":e=PBData.DataType.Metadata;break;case"symlink":e=PBData.DataType.Symlink;break;case"hamt-sharded-directory":e=PBData.DataType.HAMTShard;break;default:throw errCode$1(new Error("Type: "+e+" is not valid"),"ERR_INVALID_TYPE")}let r=this.data;(!this.data||!this.data.length)&&(r=void 0);let n;this.mode!=null&&(n=this._originalMode&4294963200|(parseMode(this.mode)||0),n===DEFAULT_FILE_MODE&&!this.isDirectory()&&(n=void 0),n===DEFAULT_DIRECTORY_MODE&&this.isDirectory()&&(n=void 0));let o;if(this.mtime!=null){const u=parseMtime(this.mtime);u&&(o={Seconds:u.secs,FractionalNanoseconds:u.nsecs},o.FractionalNanoseconds===0&&delete o.FractionalNanoseconds)}const a={Type:e,Data:r,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:n,mtime:o};return PBData.encode(a).finish()}}const persist=async(t,e,r)=>{r.codec||(r.codec=dagPb),r.hasher||(r.hasher=sha256),r.cidVersion===void 0&&(r.cidVersion=1),r.codec===dagPb&&r.hasher!==sha256&&(r.cidVersion=1);const n=await r.hasher.digest(t),o=CID.create(r.cidVersion,r.codec.code,n);return r.onlyHash||await e.put(o,t,{signal:r.signal}),o},dirBuilder=async(t,e,r)=>{const n=new UnixFS({type:"directory",mtime:t.mtime,mode:t.mode}),o=encode$1(prepare({Data:n.marshal()})),a=await persist(o,e,r),u=t.path;return{cid:a,path:u,unixfs:n,size:o.length}},all=async t=>{const e=[];for await(const r of t)e.push(r);return e};var itAll=all;const all$1=getDefaultExportFromCjs(itAll);async function flat(t,e){return e(await all$1(t))}function balanced(t,e,r){return reduceToParents(t,e,r)}async function reduceToParents(t,e,r){const n=[];for await(const o of batch$2(t,r.maxChildrenPerNode))n.push(await e(o));return n.length>1?reduceToParents(n,e,r):n[0]}async function trickleStream(t,e,r){const n=new Root(r.layerRepeat);let o=0,a=1,u=n;for await(const c of batch$2(t,r.maxChildrenPerNode))u.isFull()&&(u!==n&&n.addChild(await u.reduce(e)),o&&o%r.layerRepeat===0&&a++,u=new SubTree(a,r.layerRepeat,o),o++),u.append(c);return u&&u!==n&&n.addChild(await u.reduce(e)),n.reduce(e)}class SubTree{constructor(e,r,n=0){this.maxDepth=e,this.layerRepeat=r,this.currentDepth=1,this.iteration=n,this.root=this.node=this.parent={children:[],depth:this.currentDepth,maxDepth:e,maxChildren:(this.maxDepth-this.currentDepth)*this.layerRepeat}}isFull(){if(!this.root.data)return!1;if(this.currentDepth<this.maxDepth&&this.node.maxChildren)return this._addNextNodeToParent(this.node),!1;const e=this._findParent(this.node,this.currentDepth);return e?(this._addNextNodeToParent(e),!1):!0}_addNextNodeToParent(e){this.parent=e;const r={children:[],depth:e.depth+1,parent:e,maxDepth:this.maxDepth,maxChildren:Math.floor(e.children.length/this.layerRepeat)*this.layerRepeat};e.children.push(r),this.currentDepth=r.depth,this.node=r}append(e){this.node.data=e}reduce(e){return this._reduce(this.root,e)}async _reduce(e,r){let n=[];return e.children.length&&(n=await Promise.all(e.children.filter(o=>o.data).map(o=>this._reduce(o,r)))),r((e.data||[]).concat(n))}_findParent(e,r){const n=e.parent;if(!(!n||n.depth===0))return n.children.length===n.maxChildren||!n.maxChildren?this._findParent(n,r):n}}class Root extends SubTree{constructor(e){super(0,e),this.root.depth=0,this.currentDepth=1}addChild(e){this.root.children.push(e)}reduce(e){return e((this.root.data||[]).concat(this.root.children))}}async function*bufferImporter(t,e,r){for await(let n of t.content)yield async()=>{r.progress(n.length,t.path);let o;const a={codec:dagPb,cidVersion:r.cidVersion,hasher:r.hasher,onlyHash:r.onlyHash};return r.rawLeaves?(a.codec=raw,a.cidVersion=1):(o=new UnixFS({type:r.leafType,data:n}),n=encode$1({Data:o.marshal(),Links:[]})),{cid:await persist(n,e,a),unixfs:o,size:n.length}}}const dagBuilders={flat,balanced,trickle:trickleStream};async function*buildFileBatch(t,e,r){let n=-1,o,a;typeof r.bufferImporter=="function"?a=r.bufferImporter:a=bufferImporter;for await(const u of parallelBatch$1(a(t,e,r),r.blockWriteConcurrency)){if(n++,n===0){o=u;continue}else n===1&&o&&(yield o,o=null);yield u}o&&(o.single=!0,yield o)}const reduce=(t,e,r)=>{async function n(o){if(o.length===1&&o[0].single&&r.reduceSingleLeafToSelf){const y=o[0];if(t.mtime!==void 0||t.mode!==void 0){let D=await e.get(y.cid);y.unixfs=new UnixFS({type:"file",mtime:t.mtime,mode:t.mode,data:D}),D=encode$1(prepare({Data:y.unixfs.marshal()})),y.cid=await persist(D,e,{...r,codec:dagPb,hasher:r.hasher,cidVersion:r.cidVersion}),y.size=D.length}return{cid:y.cid,path:t.path,unixfs:y.unixfs,size:y.size}}const a=new UnixFS({type:"file",mtime:t.mtime,mode:t.mode}),u=o.filter(y=>y.cid.code===code$3&&y.size||y.unixfs&&!y.unixfs.data&&y.unixfs.fileSize()?!0:!!(y.unixfs&&y.unixfs.data&&y.unixfs.data.length)).map(y=>y.cid.code===code$3?(a.addBlockSize(y.size),{Name:"",Tsize:y.size,Hash:y.cid}):(!y.unixfs||!y.unixfs.data?a.addBlockSize(y.unixfs&&y.unixfs.fileSize()||0):a.addBlockSize(y.unixfs.data.length),{Name:"",Tsize:y.size,Hash:y.cid})),c={Data:a.marshal(),Links:u},d=encode$1(prepare(c));return{cid:await persist(d,e,r),path:t.path,unixfs:a,size:d.length+c.Links.reduce((y,D)=>y+D.Tsize,0)}}return n};function fileBuilder(t,e,r){const n=dagBuilders[r.strategy];if(!n)throw errCode$1(new Error(`Unknown importer build strategy name: ${r.strategy}`),"ERR_BAD_STRATEGY");return n(buildFileBatch(t,e,r),reduce(t,e,r),r)}var buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function byteLength(t){var e=getLens(t),r=e[0],n=e[1];return(r+n)*3/4-n}function _byteLength(t,e,r){return(e+r)*3/4-r}function toByteArray(t){var e,r=getLens(t),n=r[0],o=r[1],a=new Arr(_byteLength(t,n,o)),u=0,c=o>0?n-4:n,d;for(d=0;d<c;d+=4)e=revLookup[t.charCodeAt(d)]<<18|revLookup[t.charCodeAt(d+1)]<<12|revLookup[t.charCodeAt(d+2)]<<6|revLookup[t.charCodeAt(d+3)],a[u++]=e>>16&255,a[u++]=e>>8&255,a[u++]=e&255;return o===2&&(e=revLookup[t.charCodeAt(d)]<<2|revLookup[t.charCodeAt(d+1)]>>4,a[u++]=e&255),o===1&&(e=revLookup[t.charCodeAt(d)]<<10|revLookup[t.charCodeAt(d+1)]<<4|revLookup[t.charCodeAt(d+2)]>>2,a[u++]=e>>8&255,a[u++]=e&255),a}function tripletToBase64(t){return lookup[t>>18&63]+lookup[t>>12&63]+lookup[t>>6&63]+lookup[t&63]}function encodeChunk(t,e,r){for(var n,o=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),o.push(tripletToBase64(n));return o.join("")}function fromByteArray(t){for(var e,r=t.length,n=r%3,o=[],a=16383,u=0,c=r-n;u<c;u+=a)o.push(encodeChunk(t,u,u+a>c?c:u+a));return n===1?(e=t[r-1],o.push(lookup[e>>2]+lookup[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],o.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),o.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(t,e,r,n,o){var a,u,c=o*8-n-1,d=(1<<c)-1,m=d>>1,y=-7,D=r?o-1:0,T=r?-1:1,w=t[e+D];for(D+=T,a=w&(1<<-y)-1,w>>=-y,y+=c;y>0;a=a*256+t[e+D],D+=T,y-=8);for(u=a&(1<<-y)-1,a>>=-y,y+=n;y>0;u=u*256+t[e+D],D+=T,y-=8);if(a===0)a=1-m;else{if(a===d)return u?NaN:(w?-1:1)*(1/0);u=u+Math.pow(2,n),a=a-m}return(w?-1:1)*u*Math.pow(2,a-n)};ieee754.write=function(t,e,r,n,o,a){var u,c,d,m=a*8-o-1,y=(1<<m)-1,D=y>>1,T=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=n?0:a-1,_=n?1:-1,h=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,u=y):(u=Math.floor(Math.log(e)/Math.LN2),e*(d=Math.pow(2,-u))<1&&(u--,d*=2),u+D>=1?e+=T/d:e+=T*Math.pow(2,1-D),e*d>=2&&(u++,d/=2),u+D>=y?(c=0,u=y):u+D>=1?(c=(e*d-1)*Math.pow(2,o),u=u+D):(c=e*Math.pow(2,D-1)*Math.pow(2,o),u=0));o>=8;t[r+w]=c&255,w+=_,c/=256,o-=8);for(u=u<<o|c,m+=o;m>0;t[r+w]=u&255,w+=_,u/=256,m-=8);t[r+w-_]|=h*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=base64Js,r=ieee754,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=O,t.INSPECT_MAX_BYTES=50;const o=2147483647;t.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=a(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const f=new Uint8Array(1),s={foo:function(){return 42}};return Object.setPrototypeOf(s,Uint8Array.prototype),Object.setPrototypeOf(f,s),f.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function u(f){if(f>o)throw new RangeError('The value "'+f+'" is invalid for option "size"');const s=new Uint8Array(f);return Object.setPrototypeOf(s,c.prototype),s}function c(f,s,l){if(typeof f=="number"){if(typeof s=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return D(f)}return d(f,s,l)}c.poolSize=8192;function d(f,s,l){if(typeof f=="string")return T(f,s);if(ArrayBuffer.isView(f))return _(f);if(f==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(Y(f,ArrayBuffer)||f&&Y(f.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Y(f,SharedArrayBuffer)||f&&Y(f.buffer,SharedArrayBuffer)))return h(f,s,l);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const p=f.valueOf&&f.valueOf();if(p!=null&&p!==f)return c.from(p,s,l);const g=E(f);if(g)return g;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return c.from(f[Symbol.toPrimitive]("string"),s,l);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}c.from=function(f,s,l){return d(f,s,l)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function m(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(f<0)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function y(f,s,l){return m(f),f<=0?u(f):s!==void 0?typeof l=="string"?u(f).fill(s,l):u(f).fill(s):u(f)}c.alloc=function(f,s,l){return y(f,s,l)};function D(f){return m(f),u(f<0?0:B(f)|0)}c.allocUnsafe=function(f){return D(f)},c.allocUnsafeSlow=function(f){return D(f)};function T(f,s){if((typeof s!="string"||s==="")&&(s="utf8"),!c.isEncoding(s))throw new TypeError("Unknown encoding: "+s);const l=k(f,s)|0;let p=u(l);const g=p.write(f,s);return g!==l&&(p=p.slice(0,g)),p}function w(f){const s=f.length<0?0:B(f.length)|0,l=u(s);for(let p=0;p<s;p+=1)l[p]=f[p]&255;return l}function _(f){if(Y(f,Uint8Array)){const s=new Uint8Array(f);return h(s.buffer,s.byteOffset,s.byteLength)}return w(f)}function h(f,s,l){if(s<0||f.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<s+(l||0))throw new RangeError('"length" is outside of buffer bounds');let p;return s===void 0&&l===void 0?p=new Uint8Array(f):l===void 0?p=new Uint8Array(f,s):p=new Uint8Array(f,s,l),Object.setPrototypeOf(p,c.prototype),p}function E(f){if(c.isBuffer(f)){const s=B(f.length)|0,l=u(s);return l.length===0||f.copy(l,0,0,s),l}if(f.length!==void 0)return typeof f.length!="number"||xe(f.length)?u(0):w(f);if(f.type==="Buffer"&&Array.isArray(f.data))return w(f.data)}function B(f){if(f>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return f|0}function O(f){return+f!=f&&(f=0),c.alloc(+f)}c.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==c.prototype},c.compare=function(s,l){if(Y(s,Uint8Array)&&(s=c.from(s,s.offset,s.byteLength)),Y(l,Uint8Array)&&(l=c.from(l,l.offset,l.byteLength)),!c.isBuffer(s)||!c.isBuffer(l))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===l)return 0;let p=s.length,g=l.length;for(let b=0,x=Math.min(p,g);b<x;++b)if(s[b]!==l[b]){p=s[b],g=l[b];break}return p<g?-1:g<p?1:0},c.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(s,l){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return c.alloc(0);let p;if(l===void 0)for(l=0,p=0;p<s.length;++p)l+=s[p].length;const g=c.allocUnsafe(l);let b=0;for(p=0;p<s.length;++p){let x=s[p];if(Y(x,Uint8Array))b+x.length>g.length?(c.isBuffer(x)||(x=c.from(x)),x.copy(g,b)):Uint8Array.prototype.set.call(g,x,b);else if(c.isBuffer(x))x.copy(g,b);else throw new TypeError('"list" argument must be an Array of Buffers');b+=x.length}return g};function k(f,s){if(c.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||Y(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);const l=f.length,p=arguments.length>2&&arguments[2]===!0;if(!p&&l===0)return 0;let g=!1;for(;;)switch(s){case"ascii":case"latin1":case"binary":return l;case"utf8":case"utf-8":return Ae(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l*2;case"hex":return l>>>1;case"base64":return se(f).length;default:if(g)return p?-1:Ae(f).length;s=(""+s).toLowerCase(),g=!0}}c.byteLength=k;function S(f,s,l){let p=!1;if((s===void 0||s<0)&&(s=0),s>this.length||((l===void 0||l>this.length)&&(l=this.length),l<=0)||(l>>>=0,s>>>=0,l<=s))return"";for(f||(f="utf8");;)switch(f){case"hex":return Pe(this,s,l);case"utf8":case"utf-8":return q(this,s,l);case"ascii":return Ne(this,s,l);case"latin1":case"binary":return le(this,s,l);case"base64":return re(this,s,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,s,l);default:if(p)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),p=!0}}c.prototype._isBuffer=!0;function A(f,s,l){const p=f[s];f[s]=f[l],f[l]=p}c.prototype.swap16=function(){const s=this.length;if(s%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let l=0;l<s;l+=2)A(this,l,l+1);return this},c.prototype.swap32=function(){const s=this.length;if(s%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let l=0;l<s;l+=4)A(this,l,l+3),A(this,l+1,l+2);return this},c.prototype.swap64=function(){const s=this.length;if(s%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let l=0;l<s;l+=8)A(this,l,l+7),A(this,l+1,l+6),A(this,l+2,l+5),A(this,l+3,l+4);return this},c.prototype.toString=function(){const s=this.length;return s===0?"":arguments.length===0?q(this,0,s):S.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(s){if(!c.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s?!0:c.compare(this,s)===0},c.prototype.inspect=function(){let s="";const l=t.INSPECT_MAX_BYTES;return s=this.toString("hex",0,l).replace(/(.{2})/g,"$1 ").trim(),this.length>l&&(s+=" ... "),"<Buffer "+s+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(s,l,p,g,b){if(Y(s,Uint8Array)&&(s=c.from(s,s.offset,s.byteLength)),!c.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(l===void 0&&(l=0),p===void 0&&(p=s?s.length:0),g===void 0&&(g=0),b===void 0&&(b=this.length),l<0||p>s.length||g<0||b>this.length)throw new RangeError("out of range index");if(g>=b&&l>=p)return 0;if(g>=b)return-1;if(l>=p)return 1;if(l>>>=0,p>>>=0,g>>>=0,b>>>=0,this===s)return 0;let x=b-g,R=p-l;const j=Math.min(x,R),N=this.slice(g,b),M=s.slice(l,p);for(let P=0;P<j;++P)if(N[P]!==M[P]){x=N[P],R=M[P];break}return x<R?-1:R<x?1:0};function $(f,s,l,p,g){if(f.length===0)return-1;if(typeof l=="string"?(p=l,l=0):l>2147483647?l=2147483647:l<-2147483648&&(l=-2147483648),l=+l,xe(l)&&(l=g?0:f.length-1),l<0&&(l=f.length+l),l>=f.length){if(g)return-1;l=f.length-1}else if(l<0)if(g)l=0;else return-1;if(typeof s=="string"&&(s=c.from(s,p)),c.isBuffer(s))return s.length===0?-1:v(f,s,l,p,g);if(typeof s=="number")return s=s&255,typeof Uint8Array.prototype.indexOf=="function"?g?Uint8Array.prototype.indexOf.call(f,s,l):Uint8Array.prototype.lastIndexOf.call(f,s,l):v(f,[s],l,p,g);throw new TypeError("val must be string, number or Buffer")}function v(f,s,l,p,g){let b=1,x=f.length,R=s.length;if(p!==void 0&&(p=String(p).toLowerCase(),p==="ucs2"||p==="ucs-2"||p==="utf16le"||p==="utf-16le")){if(f.length<2||s.length<2)return-1;b=2,x/=2,R/=2,l/=2}function j(M,P){return b===1?M[P]:M.readUInt16BE(P*b)}let N;if(g){let M=-1;for(N=l;N<x;N++)if(j(f,N)===j(s,M===-1?0:N-M)){if(M===-1&&(M=N),N-M+1===R)return M*b}else M!==-1&&(N-=N-M),M=-1}else for(l+R>x&&(l=x-R),N=l;N>=0;N--){let M=!0;for(let P=0;P<R;P++)if(j(f,N+P)!==j(s,P)){M=!1;break}if(M)return N}return-1}c.prototype.includes=function(s,l,p){return this.indexOf(s,l,p)!==-1},c.prototype.indexOf=function(s,l,p){return $(this,s,l,p,!0)},c.prototype.lastIndexOf=function(s,l,p){return $(this,s,l,p,!1)};function C(f,s,l,p){l=Number(l)||0;const g=f.length-l;p?(p=Number(p),p>g&&(p=g)):p=g;const b=s.length;p>b/2&&(p=b/2);let x;for(x=0;x<p;++x){const R=parseInt(s.substr(x*2,2),16);if(xe(R))return x;f[l+x]=R}return x}function I(f,s,l,p){return ye(Ae(s,f.length-l),f,l,p)}function F(f,s,l,p){return ye(pe(s),f,l,p)}function K(f,s,l,p){return ye(se(s),f,l,p)}function G(f,s,l,p){return ye(je(s,f.length-l),f,l,p)}c.prototype.write=function(s,l,p,g){if(l===void 0)g="utf8",p=this.length,l=0;else if(p===void 0&&typeof l=="string")g=l,p=this.length,l=0;else if(isFinite(l))l=l>>>0,isFinite(p)?(p=p>>>0,g===void 0&&(g="utf8")):(g=p,p=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const b=this.length-l;if((p===void 0||p>b)&&(p=b),s.length>0&&(p<0||l<0)||l>this.length)throw new RangeError("Attempt to write outside buffer bounds");g||(g="utf8");let x=!1;for(;;)switch(g){case"hex":return C(this,s,l,p);case"utf8":case"utf-8":return I(this,s,l,p);case"ascii":case"latin1":case"binary":return F(this,s,l,p);case"base64":return K(this,s,l,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,s,l,p);default:if(x)throw new TypeError("Unknown encoding: "+g);g=(""+g).toLowerCase(),x=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(f,s,l){return s===0&&l===f.length?e.fromByteArray(f):e.fromByteArray(f.slice(s,l))}function q(f,s,l){l=Math.min(f.length,l);const p=[];let g=s;for(;g<l;){const b=f[g];let x=null,R=b>239?4:b>223?3:b>191?2:1;if(g+R<=l){let j,N,M,P;switch(R){case 1:b<128&&(x=b);break;case 2:j=f[g+1],(j&192)===128&&(P=(b&31)<<6|j&63,P>127&&(x=P));break;case 3:j=f[g+1],N=f[g+2],(j&192)===128&&(N&192)===128&&(P=(b&15)<<12|(j&63)<<6|N&63,P>2047&&(P<55296||P>57343)&&(x=P));break;case 4:j=f[g+1],N=f[g+2],M=f[g+3],(j&192)===128&&(N&192)===128&&(M&192)===128&&(P=(b&15)<<18|(j&63)<<12|(N&63)<<6|M&63,P>65535&&P<1114112&&(x=P))}}x===null?(x=65533,R=1):x>65535&&(x-=65536,p.push(x>>>10&1023|55296),x=56320|x&1023),p.push(x),g+=R}return ue(p)}const U=4096;function ue(f){const s=f.length;if(s<=U)return String.fromCharCode.apply(String,f);let l="",p=0;for(;p<s;)l+=String.fromCharCode.apply(String,f.slice(p,p+=U));return l}function Ne(f,s,l){let p="";l=Math.min(f.length,l);for(let g=s;g<l;++g)p+=String.fromCharCode(f[g]&127);return p}function le(f,s,l){let p="";l=Math.min(f.length,l);for(let g=s;g<l;++g)p+=String.fromCharCode(f[g]);return p}function Pe(f,s,l){const p=f.length;(!s||s<0)&&(s=0),(!l||l<0||l>p)&&(l=p);let g="";for(let b=s;b<l;++b)g+=Me[f[b]];return g}function fe(f,s,l){const p=f.slice(s,l);let g="";for(let b=0;b<p.length-1;b+=2)g+=String.fromCharCode(p[b]+p[b+1]*256);return g}c.prototype.slice=function(s,l){const p=this.length;s=~~s,l=l===void 0?p:~~l,s<0?(s+=p,s<0&&(s=0)):s>p&&(s=p),l<0?(l+=p,l<0&&(l=0)):l>p&&(l=p),l<s&&(l=s);const g=this.subarray(s,l);return Object.setPrototypeOf(g,c.prototype),g};function H(f,s,l){if(f%1!==0||f<0)throw new RangeError("offset is not uint");if(f+s>l)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(s,l,p){s=s>>>0,l=l>>>0,p||H(s,l,this.length);let g=this[s],b=1,x=0;for(;++x<l&&(b*=256);)g+=this[s+x]*b;return g},c.prototype.readUintBE=c.prototype.readUIntBE=function(s,l,p){s=s>>>0,l=l>>>0,p||H(s,l,this.length);let g=this[s+--l],b=1;for(;l>0&&(b*=256);)g+=this[s+--l]*b;return g},c.prototype.readUint8=c.prototype.readUInt8=function(s,l){return s=s>>>0,l||H(s,1,this.length),this[s]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(s,l){return s=s>>>0,l||H(s,2,this.length),this[s]|this[s+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(s,l){return s=s>>>0,l||H(s,2,this.length),this[s]<<8|this[s+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(s,l){return s=s>>>0,l||H(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+this[s+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(s,l){return s=s>>>0,l||H(s,4,this.length),this[s]*16777216+(this[s+1]<<16|this[s+2]<<8|this[s+3])},c.prototype.readBigUInt64LE=L(function(s){s=s>>>0,V(s,"offset");const l=this[s],p=this[s+7];(l===void 0||p===void 0)&&ee(s,this.length-8);const g=l+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24,b=this[++s]+this[++s]*2**8+this[++s]*2**16+p*2**24;return BigInt(g)+(BigInt(b)<<BigInt(32))}),c.prototype.readBigUInt64BE=L(function(s){s=s>>>0,V(s,"offset");const l=this[s],p=this[s+7];(l===void 0||p===void 0)&&ee(s,this.length-8);const g=l*2**24+this[++s]*2**16+this[++s]*2**8+this[++s],b=this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+p;return(BigInt(g)<<BigInt(32))+BigInt(b)}),c.prototype.readIntLE=function(s,l,p){s=s>>>0,l=l>>>0,p||H(s,l,this.length);let g=this[s],b=1,x=0;for(;++x<l&&(b*=256);)g+=this[s+x]*b;return b*=128,g>=b&&(g-=Math.pow(2,8*l)),g},c.prototype.readIntBE=function(s,l,p){s=s>>>0,l=l>>>0,p||H(s,l,this.length);let g=l,b=1,x=this[s+--g];for(;g>0&&(b*=256);)x+=this[s+--g]*b;return b*=128,x>=b&&(x-=Math.pow(2,8*l)),x},c.prototype.readInt8=function(s,l){return s=s>>>0,l||H(s,1,this.length),this[s]&128?(255-this[s]+1)*-1:this[s]},c.prototype.readInt16LE=function(s,l){s=s>>>0,l||H(s,2,this.length);const p=this[s]|this[s+1]<<8;return p&32768?p|4294901760:p},c.prototype.readInt16BE=function(s,l){s=s>>>0,l||H(s,2,this.length);const p=this[s+1]|this[s]<<8;return p&32768?p|4294901760:p},c.prototype.readInt32LE=function(s,l){return s=s>>>0,l||H(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},c.prototype.readInt32BE=function(s,l){return s=s>>>0,l||H(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},c.prototype.readBigInt64LE=L(function(s){s=s>>>0,V(s,"offset");const l=this[s],p=this[s+7];(l===void 0||p===void 0)&&ee(s,this.length-8);const g=this[s+4]+this[s+5]*2**8+this[s+6]*2**16+(p<<24);return(BigInt(g)<<BigInt(32))+BigInt(l+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24)}),c.prototype.readBigInt64BE=L(function(s){s=s>>>0,V(s,"offset");const l=this[s],p=this[s+7];(l===void 0||p===void 0)&&ee(s,this.length-8);const g=(l<<24)+this[++s]*2**16+this[++s]*2**8+this[++s];return(BigInt(g)<<BigInt(32))+BigInt(this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+p)}),c.prototype.readFloatLE=function(s,l){return s=s>>>0,l||H(s,4,this.length),r.read(this,s,!0,23,4)},c.prototype.readFloatBE=function(s,l){return s=s>>>0,l||H(s,4,this.length),r.read(this,s,!1,23,4)},c.prototype.readDoubleLE=function(s,l){return s=s>>>0,l||H(s,8,this.length),r.read(this,s,!0,52,8)},c.prototype.readDoubleBE=function(s,l){return s=s>>>0,l||H(s,8,this.length),r.read(this,s,!1,52,8)};function z(f,s,l,p,g,b){if(!c.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>g||s<b)throw new RangeError('"value" argument is out of bounds');if(l+p>f.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(s,l,p,g){if(s=+s,l=l>>>0,p=p>>>0,!g){const R=Math.pow(2,8*p)-1;z(this,s,l,p,R,0)}let b=1,x=0;for(this[l]=s&255;++x<p&&(b*=256);)this[l+x]=s/b&255;return l+p},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(s,l,p,g){if(s=+s,l=l>>>0,p=p>>>0,!g){const R=Math.pow(2,8*p)-1;z(this,s,l,p,R,0)}let b=p-1,x=1;for(this[l+b]=s&255;--b>=0&&(x*=256);)this[l+b]=s/x&255;return l+p},c.prototype.writeUint8=c.prototype.writeUInt8=function(s,l,p){return s=+s,l=l>>>0,p||z(this,s,l,1,255,0),this[l]=s&255,l+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(s,l,p){return s=+s,l=l>>>0,p||z(this,s,l,2,65535,0),this[l]=s&255,this[l+1]=s>>>8,l+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(s,l,p){return s=+s,l=l>>>0,p||z(this,s,l,2,65535,0),this[l]=s>>>8,this[l+1]=s&255,l+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(s,l,p){return s=+s,l=l>>>0,p||z(this,s,l,4,4294967295,0),this[l+3]=s>>>24,this[l+2]=s>>>16,this[l+1]=s>>>8,this[l]=s&255,l+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(s,l,p){return s=+s,l=l>>>0,p||z(this,s,l,4,4294967295,0),this[l]=s>>>24,this[l+1]=s>>>16,this[l+2]=s>>>8,this[l+3]=s&255,l+4};function Ie(f,s,l,p,g){Fe(s,p,g,f,l,7);let b=Number(s&BigInt(4294967295));f[l++]=b,b=b>>8,f[l++]=b,b=b>>8,f[l++]=b,b=b>>8,f[l++]=b;let x=Number(s>>BigInt(32)&BigInt(4294967295));return f[l++]=x,x=x>>8,f[l++]=x,x=x>>8,f[l++]=x,x=x>>8,f[l++]=x,l}function ae(f,s,l,p,g){Fe(s,p,g,f,l,7);let b=Number(s&BigInt(4294967295));f[l+7]=b,b=b>>8,f[l+6]=b,b=b>>8,f[l+5]=b,b=b>>8,f[l+4]=b;let x=Number(s>>BigInt(32)&BigInt(4294967295));return f[l+3]=x,x=x>>8,f[l+2]=x,x=x>>8,f[l+1]=x,x=x>>8,f[l]=x,l+8}c.prototype.writeBigUInt64LE=L(function(s,l=0){return Ie(this,s,l,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=L(function(s,l=0){return ae(this,s,l,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(s,l,p,g){if(s=+s,l=l>>>0,!g){const j=Math.pow(2,8*p-1);z(this,s,l,p,j-1,-j)}let b=0,x=1,R=0;for(this[l]=s&255;++b<p&&(x*=256);)s<0&&R===0&&this[l+b-1]!==0&&(R=1),this[l+b]=(s/x>>0)-R&255;return l+p},c.prototype.writeIntBE=function(s,l,p,g){if(s=+s,l=l>>>0,!g){const j=Math.pow(2,8*p-1);z(this,s,l,p,j-1,-j)}let b=p-1,x=1,R=0;for(this[l+b]=s&255;--b>=0&&(x*=256);)s<0&&R===0&&this[l+b+1]!==0&&(R=1),this[l+b]=(s/x>>0)-R&255;return l+p},c.prototype.writeInt8=function(s,l,p){return s=+s,l=l>>>0,p||z(this,s,l,1,127,-128),s<0&&(s=255+s+1),this[l]=s&255,l+1},c.prototype.writeInt16LE=function(s,l,p){return s=+s,l=l>>>0,p||z(this,s,l,2,32767,-32768),this[l]=s&255,this[l+1]=s>>>8,l+2},c.prototype.writeInt16BE=function(s,l,p){return s=+s,l=l>>>0,p||z(this,s,l,2,32767,-32768),this[l]=s>>>8,this[l+1]=s&255,l+2},c.prototype.writeInt32LE=function(s,l,p){return s=+s,l=l>>>0,p||z(this,s,l,4,2147483647,-2147483648),this[l]=s&255,this[l+1]=s>>>8,this[l+2]=s>>>16,this[l+3]=s>>>24,l+4},c.prototype.writeInt32BE=function(s,l,p){return s=+s,l=l>>>0,p||z(this,s,l,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[l]=s>>>24,this[l+1]=s>>>16,this[l+2]=s>>>8,this[l+3]=s&255,l+4},c.prototype.writeBigInt64LE=L(function(s,l=0){return Ie(this,s,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=L(function(s,l=0){return ae(this,s,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Se(f,s,l,p,g,b){if(l+p>f.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("Index out of range")}function Ce(f,s,l,p,g){return s=+s,l=l>>>0,g||Se(f,s,l,4),r.write(f,s,l,p,23,4),l+4}c.prototype.writeFloatLE=function(s,l,p){return Ce(this,s,l,!0,p)},c.prototype.writeFloatBE=function(s,l,p){return Ce(this,s,l,!1,p)};function Q(f,s,l,p,g){return s=+s,l=l>>>0,g||Se(f,s,l,8),r.write(f,s,l,p,52,8),l+8}c.prototype.writeDoubleLE=function(s,l,p){return Q(this,s,l,!0,p)},c.prototype.writeDoubleBE=function(s,l,p){return Q(this,s,l,!1,p)},c.prototype.copy=function(s,l,p,g){if(!c.isBuffer(s))throw new TypeError("argument should be a Buffer");if(p||(p=0),!g&&g!==0&&(g=this.length),l>=s.length&&(l=s.length),l||(l=0),g>0&&g<p&&(g=p),g===p||s.length===0||this.length===0)return 0;if(l<0)throw new RangeError("targetStart out of bounds");if(p<0||p>=this.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("sourceEnd out of bounds");g>this.length&&(g=this.length),s.length-l<g-p&&(g=s.length-l+p);const b=g-p;return this===s&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(l,p,g):Uint8Array.prototype.set.call(s,this.subarray(p,g),l),b},c.prototype.fill=function(s,l,p,g){if(typeof s=="string"){if(typeof l=="string"?(g=l,l=0,p=this.length):typeof p=="string"&&(g=p,p=this.length),g!==void 0&&typeof g!="string")throw new TypeError("encoding must be a string");if(typeof g=="string"&&!c.isEncoding(g))throw new TypeError("Unknown encoding: "+g);if(s.length===1){const x=s.charCodeAt(0);(g==="utf8"&&x<128||g==="latin1")&&(s=x)}}else typeof s=="number"?s=s&255:typeof s=="boolean"&&(s=Number(s));if(l<0||this.length<l||this.length<p)throw new RangeError("Out of range index");if(p<=l)return this;l=l>>>0,p=p===void 0?this.length:p>>>0,s||(s=0);let b;if(typeof s=="number")for(b=l;b<p;++b)this[b]=s;else{const x=c.isBuffer(s)?s:c.from(s,g),R=x.length;if(R===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(b=0;b<p-l;++b)this[b+l]=x[b%R]}return this};const de={};function te(f,s,l){de[f]=class extends l{constructor(){super(),Object.defineProperty(this,"message",{value:s.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${f}]`,this.stack,delete this.name}get code(){return f}set code(g){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:g,writable:!0})}toString(){return`${this.name} [${f}]: ${this.message}`}}}te("ERR_BUFFER_OUT_OF_BOUNDS",function(f){return f?`${f} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),te("ERR_INVALID_ARG_TYPE",function(f,s){return`The "${f}" argument must be of type number. Received type ${typeof s}`},TypeError),te("ERR_OUT_OF_RANGE",function(f,s,l){let p=`The value of "${f}" is out of range.`,g=l;return Number.isInteger(l)&&Math.abs(l)>2**32?g=Oe(String(l)):typeof l=="bigint"&&(g=String(l),(l>BigInt(2)**BigInt(32)||l<-(BigInt(2)**BigInt(32)))&&(g=Oe(g)),g+="n"),p+=` It must be ${s}. Received ${g}`,p},RangeError);function Oe(f){let s="",l=f.length;const p=f[0]==="-"?1:0;for(;l>=p+4;l-=3)s=`_${f.slice(l-3,l)}${s}`;return`${f.slice(0,l)}${s}`}function ne(f,s,l){V(s,"offset"),(f[s]===void 0||f[s+l]===void 0)&&ee(s,f.length-(l+1))}function Fe(f,s,l,p,g,b){if(f>l||f<s){const x=typeof s=="bigint"?"n":"";let R;throw b>3?s===0||s===BigInt(0)?R=`>= 0${x} and < 2${x} ** ${(b+1)*8}${x}`:R=`>= -(2${x} ** ${(b+1)*8-1}${x}) and < 2 ** ${(b+1)*8-1}${x}`:R=`>= ${s}${x} and <= ${l}${x}`,new de.ERR_OUT_OF_RANGE("value",R,f)}ne(p,g,b)}function V(f,s){if(typeof f!="number")throw new de.ERR_INVALID_ARG_TYPE(s,"number",f)}function ee(f,s,l){throw Math.floor(f)!==f?(V(f,l),new de.ERR_OUT_OF_RANGE(l||"offset","an integer",f)):s<0?new de.ERR_BUFFER_OUT_OF_BOUNDS:new de.ERR_OUT_OF_RANGE(l||"offset",`>= ${l?1:0} and <= ${s}`,f)}const Le=/[^+/0-9A-Za-z-_]/g;function he(f){if(f=f.split("=")[0],f=f.trim().replace(Le,""),f.length<2)return"";for(;f.length%4!==0;)f=f+"=";return f}function Ae(f,s){s=s||1/0;let l;const p=f.length;let g=null;const b=[];for(let x=0;x<p;++x){if(l=f.charCodeAt(x),l>55295&&l<57344){if(!g){if(l>56319){(s-=3)>-1&&b.push(239,191,189);continue}else if(x+1===p){(s-=3)>-1&&b.push(239,191,189);continue}g=l;continue}if(l<56320){(s-=3)>-1&&b.push(239,191,189),g=l;continue}l=(g-55296<<10|l-56320)+65536}else g&&(s-=3)>-1&&b.push(239,191,189);if(g=null,l<128){if((s-=1)<0)break;b.push(l)}else if(l<2048){if((s-=2)<0)break;b.push(l>>6|192,l&63|128)}else if(l<65536){if((s-=3)<0)break;b.push(l>>12|224,l>>6&63|128,l&63|128)}else if(l<1114112){if((s-=4)<0)break;b.push(l>>18|240,l>>12&63|128,l>>6&63|128,l&63|128)}else throw new Error("Invalid code point")}return b}function pe(f){const s=[];for(let l=0;l<f.length;++l)s.push(f.charCodeAt(l)&255);return s}function je(f,s){let l,p,g;const b=[];for(let x=0;x<f.length&&!((s-=2)<0);++x)l=f.charCodeAt(x),p=l>>8,g=l%256,b.push(g),b.push(p);return b}function se(f){return e.toByteArray(he(f))}function ye(f,s,l,p){let g;for(g=0;g<p&&!(g+l>=s.length||g>=f.length);++g)s[g+l]=f[g];return g}function Y(f,s){return f instanceof s||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===s.name}function xe(f){return f!==f}const Me=function(){const f="0123456789abcdef",s=new Array(256);for(let l=0;l<16;++l){const p=l*16;for(let g=0;g<16;++g)s[p+g]=f[l]+f[g]}return s}();function L(f){return typeof BigInt>"u"?ie:f}function ie(){throw new Error("BigInt not supported")}})(buffer);const{Buffer}=buffer,symbol=Symbol.for("BufferList");function BufferList(t){if(!(this instanceof BufferList))return new BufferList(t);BufferList._init.call(this,t)}BufferList._init=function t(e){Object.defineProperty(this,symbol,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};BufferList.prototype._new=function t(e){return new BufferList(e)};BufferList.prototype._offset=function t(e){if(e===0)return[0,0];let r=0;for(let n=0;n<this._bufs.length;n++){const o=r+this._bufs[n].length;if(e<o||n===this._bufs.length-1)return[n,e-r];r=o}};BufferList.prototype._reverseOffset=function(t){const e=t[0];let r=t[1];for(let n=0;n<e;n++)r+=this._bufs[n].length;return r};BufferList.prototype.get=function t(e){if(e>this.length||e<0)return;const r=this._offset(e);return this._bufs[r[0]][r[1]]};BufferList.prototype.slice=function t(e,r){return typeof e=="number"&&e<0&&(e+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,e,r)};BufferList.prototype.copy=function t(e,r,n,o){if((typeof n!="number"||n<0)&&(n=0),(typeof o!="number"||o>this.length)&&(o=this.length),n>=this.length||o<=0)return e||Buffer.alloc(0);const a=!!e,u=this._offset(n),c=o-n;let d=c,m=a&&r||0,y=u[1];if(n===0&&o===this.length){if(!a)return this._bufs.length===1?this._bufs[0]:Buffer.concat(this._bufs,this.length);for(let D=0;D<this._bufs.length;D++)this._bufs[D].copy(e,m),m+=this._bufs[D].length;return e}if(d<=this._bufs[u[0]].length-y)return a?this._bufs[u[0]].copy(e,r,y,y+d):this._bufs[u[0]].slice(y,y+d);a||(e=Buffer.allocUnsafe(c));for(let D=u[0];D<this._bufs.length;D++){const T=this._bufs[D].length-y;if(d>T)this._bufs[D].copy(e,m,y),m+=T;else{this._bufs[D].copy(e,m,y,y+d),m+=T;break}d-=T,y&&(y=0)}return e.length>m?e.slice(0,m):e};BufferList.prototype.shallowSlice=function t(e,r){if(e=e||0,r=typeof r!="number"?this.length:r,e<0&&(e+=this.length),r<0&&(r+=this.length),e===r)return this._new();const n=this._offset(e),o=this._offset(r),a=this._bufs.slice(n[0],o[0]+1);return o[1]===0?a.pop():a[a.length-1]=a[a.length-1].slice(0,o[1]),n[1]!==0&&(a[0]=a[0].slice(n[1])),this._new(a)};BufferList.prototype.toString=function t(e,r,n){return this.slice(r,n).toString(e)};BufferList.prototype.consume=function t(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};BufferList.prototype.duplicate=function t(){const e=this._new();for(let r=0;r<this._bufs.length;r++)e.append(this._bufs[r]);return e};BufferList.prototype.append=function t(e){if(e==null)return this;if(e.buffer)this._appendBuffer(Buffer.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let r=0;r<e.length;r++)this.append(e[r]);else if(this._isBufferList(e))for(let r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(Buffer.from(e));return this};BufferList.prototype._appendBuffer=function t(e){this._bufs.push(e),this.length+=e.length};BufferList.prototype.indexOf=function(t,e,r){if(r===void 0&&typeof e=="string"&&(r=e,e=void 0),typeof t=="function"||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof t=="number"?t=Buffer.from([t]):typeof t=="string"?t=Buffer.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):Buffer.isBuffer(t)||(t=Buffer.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;const n=this._offset(e);let o=n[0],a=n[1];for(;o<this._bufs.length;o++){const u=this._bufs[o];for(;a<u.length;)if(u.length-a>=t.length){const d=u.indexOf(t,a);if(d!==-1)return this._reverseOffset([o,d]);a=u.length-t.length+1}else{const d=this._reverseOffset([o,a]);if(this._match(d,t))return d;a++}a=0}return-1};BufferList.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0};(function(){const t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const e in t)(function(r){t[r]===null?BufferList.prototype[r]=function(n,o){return this.slice(n,n+o)[r](0,o)}:BufferList.prototype[r]=function(n=0){return this.slice(n,n+t[r])[r](0)}})(e)})();BufferList.prototype._isBufferList=function t(e){return e instanceof BufferList||BufferList.isBufferList(e)};BufferList.isBufferList=function t(e){return e!=null&&e[symbol]};var BufferList_1=BufferList;const BufferList$1=getDefaultExportFromCjs(BufferList_1);let Rabin$1=class{constructor(e,r=12,n=8*1024,o=32*1024,a=64,u){this.bits=r,this.min=n,this.max=o,this.asModule=e,this.rabin=new e.Rabin(r,n,o,a,u),this.polynomial=u}fingerprint(e){const{__retain:r,__release:n,__allocArray:o,__getInt32Array:a,Int32Array_ID:u,Uint8Array_ID:c}=this.asModule,d=new Int32Array(Math.ceil(e.length/this.min)),m=r(o(u,d)),y=r(o(c,e)),D=this.rabin.fingerprint(y,m),T=a(D);n(y),n(m);const w=T.indexOf(0);return w>=0?T.subarray(0,w):T}};var rabin$1=Rabin$1,loader={};const ID_OFFSET=-8,SIZE_OFFSET=-4,ARRAYBUFFER_ID=0,STRING_ID=1,ARRAYBUFFERVIEW=1,ARRAY=2,VAL_ALIGN_OFFSET=5,VAL_SIGNED=1024,VAL_FLOAT=2048,VAL_MANAGED=8192,ARRAYBUFFERVIEW_BUFFER_OFFSET=0,ARRAYBUFFERVIEW_DATASTART_OFFSET=4,ARRAYBUFFERVIEW_DATALENGTH_OFFSET=8,ARRAYBUFFERVIEW_SIZE=12,ARRAY_LENGTH_OFFSET=12,ARRAY_SIZE=16,BIGINT=typeof BigUint64Array<"u",THIS=Symbol(),CHUNKSIZE=1024;function getStringImpl(t,e){const r=new Uint32Array(t),n=new Uint16Array(t);var o=r[e+SIZE_OFFSET>>>2]>>>1,a=e>>>1;if(o<=CHUNKSIZE)return String.fromCharCode.apply(String,n.subarray(a,a+o));const u=[];do{const c=n[a+CHUNKSIZE-1],d=c>=55296&&c<56320?CHUNKSIZE-1:CHUNKSIZE;u.push(String.fromCharCode.apply(String,n.subarray(a,a+=d))),o-=d}while(o>CHUNKSIZE);return u.join("")+String.fromCharCode.apply(String,n.subarray(a,a+o))}function preInstantiate(t){const e={};function r(o,a){return o?getStringImpl(o.buffer,a):"<yet unknown>"}const n=t.env=t.env||{};return n.abort=n.abort||function(a,u,c,d){const m=e.memory||n.memory;throw Error("abort: "+r(m,a)+" at "+r(m,u)+":"+c+":"+d)},n.trace=n.trace||function(a,u){const c=e.memory||n.memory;console.log("trace: "+r(c,a)+(u?" ":"")+Array.prototype.slice.call(arguments,2,2+u).join(", "))},t.Math=t.Math||Math,t.Date=t.Date||Date,e}function postInstantiate(t,e){const r=e.exports,n=r.memory,o=r.table,a=r.__alloc,u=r.__retain,c=r.__rtti_base||-1;function d(A){const $=new Uint32Array(n.buffer),v=$[c>>>2];if((A>>>=0)>=v)throw Error("invalid id: "+A);return $[(c+4>>>2)+A*2]}function m(A){const $=new Uint32Array(n.buffer),v=$[c>>>2];if((A>>>=0)>=v)throw Error("invalid id: "+A);return $[(c+4>>>2)+A*2+1]}function y(A){return 31-Math.clz32(A>>>VAL_ALIGN_OFFSET&31)}function D(A){const $=A.length,v=a($<<1,STRING_ID),C=new Uint16Array(n.buffer);for(var I=0,F=v>>>1;I<$;++I)C[F+I]=A.charCodeAt(I);return v}t.__allocString=D;function T(A){const $=n.buffer;if(new Uint32Array($)[A+ID_OFFSET>>>2]!==STRING_ID)throw Error("not a string: "+A);return getStringImpl($,A)}t.__getString=T;function w(A,$,v){const C=n.buffer;if(v)switch(A){case 2:return new Float32Array(C);case 3:return new Float64Array(C)}else switch(A){case 0:return new($?Int8Array:Uint8Array)(C);case 1:return new($?Int16Array:Uint16Array)(C);case 2:return new($?Int32Array:Uint32Array)(C);case 3:return new($?BigInt64Array:BigUint64Array)(C)}throw Error("unsupported align: "+A)}function _(A,$){const v=d(A);if(!(v&(ARRAYBUFFERVIEW|ARRAY)))throw Error("not an array: "+A+" @ "+v);const C=y(v),I=$.length,F=a(I<<C,ARRAYBUFFER_ID),K=a(v&ARRAY?ARRAY_SIZE:ARRAYBUFFERVIEW_SIZE,A),G=new Uint32Array(n.buffer);G[K+ARRAYBUFFERVIEW_BUFFER_OFFSET>>>2]=u(F),G[K+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2]=F,G[K+ARRAYBUFFERVIEW_DATALENGTH_OFFSET>>>2]=I<<C,v&ARRAY&&(G[K+ARRAY_LENGTH_OFFSET>>>2]=I);const re=w(C,v&VAL_SIGNED,v&VAL_FLOAT);if(v&VAL_MANAGED)for(let q=0;q<I;++q)re[(F>>>C)+q]=u($[q]);else re.set($,F>>>C);return K}t.__allocArray=_;function h(A){const $=new Uint32Array(n.buffer),v=$[A+ID_OFFSET>>>2],C=d(v);if(!(C&ARRAYBUFFERVIEW))throw Error("not an array: "+v);const I=y(C);var F=$[A+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2];const K=C&ARRAY?$[A+ARRAY_LENGTH_OFFSET>>>2]:$[F+SIZE_OFFSET>>>2]>>>I;return w(I,C&VAL_SIGNED,C&VAL_FLOAT).subarray(F>>>=I,F+K)}t.__getArrayView=h;function E(A){const $=h(A),v=$.length,C=new Array(v);for(let I=0;I<v;I++)C[I]=$[I];return C}t.__getArray=E;function B(A){const $=n.buffer,v=new Uint32Array($)[A+SIZE_OFFSET>>>2];return $.slice(A,A+v)}t.__getArrayBuffer=B;function O(A,$,v){return new A(k(A,$,v))}function k(A,$,v){const C=n.buffer,I=new Uint32Array(C),F=I[v+ARRAYBUFFERVIEW_DATASTART_OFFSET>>>2];return new A(C,F,I[F+SIZE_OFFSET>>>2]>>>$)}t.__getInt8Array=O.bind(null,Int8Array,0),t.__getInt8ArrayView=k.bind(null,Int8Array,0),t.__getUint8Array=O.bind(null,Uint8Array,0),t.__getUint8ArrayView=k.bind(null,Uint8Array,0),t.__getUint8ClampedArray=O.bind(null,Uint8ClampedArray,0),t.__getUint8ClampedArrayView=k.bind(null,Uint8ClampedArray,0),t.__getInt16Array=O.bind(null,Int16Array,1),t.__getInt16ArrayView=k.bind(null,Int16Array,1),t.__getUint16Array=O.bind(null,Uint16Array,1),t.__getUint16ArrayView=k.bind(null,Uint16Array,1),t.__getInt32Array=O.bind(null,Int32Array,2),t.__getInt32ArrayView=k.bind(null,Int32Array,2),t.__getUint32Array=O.bind(null,Uint32Array,2),t.__getUint32ArrayView=k.bind(null,Uint32Array,2),BIGINT&&(t.__getInt64Array=O.bind(null,BigInt64Array,3),t.__getInt64ArrayView=k.bind(null,BigInt64Array,3),t.__getUint64Array=O.bind(null,BigUint64Array,3),t.__getUint64ArrayView=k.bind(null,BigUint64Array,3)),t.__getFloat32Array=O.bind(null,Float32Array,2),t.__getFloat32ArrayView=k.bind(null,Float32Array,2),t.__getFloat64Array=O.bind(null,Float64Array,3),t.__getFloat64ArrayView=k.bind(null,Float64Array,3);function S(A,$){const v=new Uint32Array(n.buffer);var C=v[A+ID_OFFSET>>>2];if(C<=v[c>>>2])do if(C==$)return!0;while(C=m(C));return!1}return t.__instanceof=S,t.memory=t.memory||n,t.table=t.table||o,demangle(r,t)}function isResponse(t){return typeof Response<"u"&&t instanceof Response}async function instantiate$1(t,e){return isResponse(t=await t)?instantiateStreaming(t,e):postInstantiate(preInstantiate(e||(e={})),await WebAssembly.instantiate(t instanceof WebAssembly.Module?t:await WebAssembly.compile(t),e))}loader.instantiate=instantiate$1;function instantiateSync(t,e){return postInstantiate(preInstantiate(e||(e={})),new WebAssembly.Instance(t instanceof WebAssembly.Module?t:new WebAssembly.Module(t),e))}loader.instantiateSync=instantiateSync;async function instantiateStreaming(t,e){return WebAssembly.instantiateStreaming?postInstantiate(preInstantiate(e||(e={})),(await WebAssembly.instantiateStreaming(t,e)).instance):instantiate$1(isResponse(t=await t)?t.arrayBuffer():t,e)}loader.instantiateStreaming=instantiateStreaming;function demangle(t,e){var r=e?Object.create(e):{},n=t.__argumentsLength?function(o){t.__argumentsLength.value=o}:t.__setArgumentsLength||t.__setargc||function(){};for(let o in t){if(!Object.prototype.hasOwnProperty.call(t,o))continue;const a=t[o];let u=o.split("."),c=r;for(;u.length>1;){let y=u.shift();Object.prototype.hasOwnProperty.call(c,y)||(c[y]={}),c=c[y]}let d=u[0],m=d.indexOf("#");if(m>=0){let y=d.substring(0,m),D=c[y];if(typeof D>"u"||!D.prototype){let T=function(...w){return T.wrap(T.prototype.constructor(0,...w))};T.prototype={valueOf:function(){return this[THIS]}},T.wrap=function(w){return Object.create(T.prototype,{[THIS]:{value:w,writable:!1}})},D&&Object.getOwnPropertyNames(D).forEach(w=>Object.defineProperty(T,w,Object.getOwnPropertyDescriptor(D,w))),c[y]=T}if(d=d.substring(m+1),c=c[y].prototype,/^(get|set):/.test(d)){if(!Object.prototype.hasOwnProperty.call(c,d=d.substring(4))){let T=t[o.replace("set:","get:")],w=t[o.replace("get:","set:")];Object.defineProperty(c,d,{get:function(){return T(this[THIS])},set:function(_){w(this[THIS],_)},enumerable:!0})}}else d==="constructor"?(c[d]=(...T)=>(n(T.length),a(...T))).original=a:(c[d]=function(...T){return n(T.length),a(this[THIS],...T)}).original=a}else/^(get|set):/.test(d)?Object.prototype.hasOwnProperty.call(c,d=d.substring(4))||Object.defineProperty(c,d,{get:t[o.replace("set:","get:")],set:t[o.replace("get:","set:")],enumerable:!0}):typeof a=="function"&&a!==n?(c[d]=(...y)=>(n(y.length),a(...y))).original=a:c[d]=a}return r}loader.demangle=demangle;const{instantiate}=loader;loadWebAssembly.supported=typeof WebAssembly<"u";function loadWebAssembly(t={}){if(!loadWebAssembly.supported)return null;var e=new Uint8Array([0,97,115,109,1,0,0,0,1,78,14,96,2,127,126,0,96,1,127,1,126,96,2,127,127,0,96,1,127,1,127,96,1,127,0,96,2,127,127,1,127,96,3,127,127,127,1,127,96,0,0,96,3,127,127,127,0,96,0,1,127,96,4,127,127,127,127,0,96,5,127,127,127,127,127,1,127,96,1,126,1,127,96,2,126,126,1,126,2,13,1,3,101,110,118,5,97,98,111,114,116,0,10,3,54,53,2,2,8,9,3,5,2,8,6,5,3,4,2,6,9,12,13,2,5,11,3,2,3,2,3,2,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,6,7,7,4,4,5,3,1,0,1,6,47,9,127,1,65,0,11,127,1,65,0,11,127,0,65,3,11,127,0,65,4,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,0,65,240,2,11,127,0,65,6,11,7,240,5,41,6,109,101,109,111,114,121,2,0,7,95,95,97,108,108,111,99,0,10,8,95,95,114,101,116,97,105,110,0,11,9,95,95,114,101,108,101,97,115,101,0,12,9,95,95,99,111,108,108,101,99,116,0,51,11,95,95,114,116,116,105,95,98,97,115,101,3,7,13,73,110,116,51,50,65,114,114,97,121,95,73,68,3,2,13,85,105,110,116,56,65,114,114,97,121,95,73,68,3,3,6,100,101,103,114,101,101,0,16,3,109,111,100,0,17,5,82,97,98,105,110,3,8,16,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,0,21,16,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,0,22,21,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,23,21,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,24,14,82,97,98,105,110,35,103,101,116,58,119,112,111,115,0,25,14,82,97,98,105,110,35,115,101,116,58,119,112,111,115,0,26,15,82,97,98,105,110,35,103,101,116,58,99,111,117,110,116,0,27,15,82,97,98,105,110,35,115,101,116,58,99,111,117,110,116,0,28,13,82,97,98,105,110,35,103,101,116,58,112,111,115,0,29,13,82,97,98,105,110,35,115,101,116,58,112,111,115,0,30,15,82,97,98,105,110,35,103,101,116,58,115,116,97,114,116,0,31,15,82,97,98,105,110,35,115,101,116,58,115,116,97,114,116,0,32,16,82,97,98,105,110,35,103,101,116,58,100,105,103,101,115,116,0,33,16,82,97,98,105,110,35,115,101,116,58,100,105,103,101,115,116,0,34,21,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,35,21,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,36,22,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,37,22,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,38,31,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,39,31,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,40,20,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,0,41,20,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,0,42,17,82,97,98,105,110,35,103,101,116,58,109,105,110,115,105,122,101,0,43,17,82,97,98,105,110,35,115,101,116,58,109,105,110,115,105,122,101,0,44,17,82,97,98,105,110,35,103,101,116,58,109,97,120,115,105,122,101,0,45,17,82,97,98,105,110,35,115,101,116,58,109,97,120,115,105,122,101,0,46,14,82,97,98,105,110,35,103,101,116,58,109,97,115,107,0,47,14,82,97,98,105,110,35,115,101,116,58,109,97,115,107,0,48,17,82,97,98,105,110,35,99,111,110,115,116,114,117,99,116,111,114,0,20,17,82,97,98,105,110,35,102,105,110,103,101,114,112,114,105,110,116,0,49,8,1,50,10,165,31,53,199,1,1,4,127,32,1,40,2,0,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,3,65,4,107,118,65,16,115,33,4,32,3,65,7,107,11,33,3,32,1,40,2,20,33,2,32,1,40,2,16,34,5,4,64,32,5,32,2,54,2,20,11,32,2,4,64,32,2,32,5,54,2,16,11,32,1,32,0,32,4,32,3,65,4,116,106,65,2,116,106,40,2,96,70,4,64,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,2,54,2,96,32,2,69,4,64,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,65,127,115,113,34,1,54,2,4,32,1,69,4,64,32,0,32,0,40,2,0,65,1,32,3,116,65,127,115,113,54,2,0,11,11,11,11,226,2,1,6,127,32,1,40,2,0,33,3,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,34,5,65,1,113,4,64,32,3,65,124,113,65,16,106,32,5,65,124,113,106,34,2,65,240,255,255,255,3,73,4,64,32,0,32,4,16,1,32,1,32,2,32,3,65,3,113,114,34,3,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,33,5,11,11,32,3,65,2,113,4,64,32,1,65,4,107,40,2,0,34,2,40,2,0,34,6,65,124,113,65,16,106,32,3,65,124,113,106,34,7,65,240,255,255,255,3,73,4,64,32,0,32,2,16,1,32,2,32,7,32,6,65,3,113,114,34,3,54,2,0,32,2,33,1,11,11,32,4,32,5,65,2,114,54,2,0,32,4,65,4,107,32,1,54,2,0,32,0,32,3,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,2,65,4,107,118,65,16,115,33,4,32,2,65,7,107,11,34,3,65,4,116,32,4,106,65,2,116,106,40,2,96,33,2,32,1,65,0,54,2,16,32,1,32,2,54,2,20,32,2,4,64,32,2,32,1,54,2,16,11,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,1,54,2,96,32,0,32,0,40,2,0,65,1,32,3,116,114,54,2,0,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,114,54,2,4,11,119,1,1,127,32,2,2,127,32,0,40,2,160,12,34,2,4,64,32,2,32,1,65,16,107,70,4,64,32,2,40,2,0,33,3,32,1,65,16,107,33,1,11,11,32,1,11,107,34,2,65,48,73,4,64,15,11,32,1,32,3,65,2,113,32,2,65,32,107,65,1,114,114,54,2,0,32,1,65,0,54,2,16,32,1,65,0,54,2,20,32,1,32,2,106,65,16,107,34,2,65,2,54,2,0,32,0,32,2,54,2,160,12,32,0,32,1,16,2,11,155,1,1,3,127,35,0,34,0,69,4,64,65,1,63,0,34,0,74,4,127,65,1,32,0,107,64,0,65,0,72,5,65,0,11,4,64,0,11,65,176,3,34,0,65,0,54,2,0,65,208,15,65,0,54,2,0,3,64,32,1,65,23,73,4,64,32,1,65,2,116,65,176,3,106,65,0,54,2,4,65,0,33,2,3,64,32,2,65,16,73,4,64,32,1,65,4,116,32,2,106,65,2,116,65,176,3,106,65,0,54,2,96,32,2,65,1,106,33,2,12,1,11,11,32,1,65,1,106,33,1,12,1,11,11,65,176,3,65,224,15,63,0,65,16,116,16,3,65,176,3,36,0,11,32,0,11,45,0,32,0,65,240,255,255,255,3,79,4,64,65,32,65,224,0,65,201,3,65,29,16,0,0,11,32,0,65,15,106,65,112,113,34,0,65,16,32,0,65,16,75,27,11,169,1,1,1,127,32,0,32,1,65,128,2,73,4,127,32,1,65,4,118,33,1,65,0,5,32,1,65,248,255,255,255,1,73,4,64,32,1,65,1,65,27,32,1,103,107,116,106,65,1,107,33,1,11,32,1,65,31,32,1,103,107,34,2,65,4,107,118,65,16,115,33,1,32,2,65,7,107,11,34,2,65,2,116,106,40,2,4,65,127,32,1,116,113,34,1,4,127,32,0,32,1,104,32,2,65,4,116,106,65,2,116,106,40,2,96,5,32,0,40,2,0,65,127,32,2,65,1,106,116,113,34,1,4,127,32,0,32,0,32,1,104,34,0,65,2,116,106,40,2,4,104,32,0,65,4,116,106,65,2,116,106,40,2,96,5,65,0,11,11,11,111,1,1,127,63,0,34,2,32,1,65,248,255,255,255,1,73,4,127,32,1,65,1,65,27,32,1,103,107,116,65,1,107,106,5,32,1,11,65,16,32,0,40,2,160,12,32,2,65,16,116,65,16,107,71,116,106,65,255,255,3,106,65,128,128,124,113,65,16,118,34,1,32,2,32,1,74,27,64,0,65,0,72,4,64,32,1,64,0,65,0,72,4,64,0,11,11,32,0,32,2,65,16,116,63,0,65,16,116,16,3,11,113,1,2,127,32,1,40,2,0,34,3,65,124,113,32,2,107,34,4,65,32,79,4,64,32,1,32,2,32,3,65,2,113,114,54,2,0,32,2,32,1,65,16,106,106,34,1,32,4,65,16,107,65,1,114,54,2,0,32,0,32,1,16,2,5,32,1,32,3,65,126,113,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,32,1,65,16,106,32,1,40,2,0,65,124,113,106,40,2,0,65,125,113,54,2,0,11,11,91,1,2,127,32,0,32,1,16,5,34,4,16,6,34,3,69,4,64,65,1,36,1,65,0,36,1,32,0,32,4,16,6,34,3,69,4,64,32,0,32,4,16,7,32,0,32,4,16,6,33,3,11,11,32,3,65,0,54,2,4,32,3,32,2,54,2,8,32,3,32,1,54,2,12,32,0,32,3,16,1,32,0,32,3,32,4,16,8,32,3,11,13,0,16,4,32,0,32,1,16,9,65,16,106,11,33,1,1,127,32,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,18,0,32,0,65,172,3,75,4,64,32,0,65,16,107,16,52,11,11,140,3,1,1,127,2,64,32,1,69,13,0,32,0,65,0,58,0,0,32,0,32,1,106,65,1,107,65,0,58,0,0,32,1,65,2,77,13,0,32,0,65,1,106,65,0,58,0,0,32,0,65,2,106,65,0,58,0,0,32,0,32,1,106,34,2,65,2,107,65,0,58,0,0,32,2,65,3,107,65,0,58,0,0,32,1,65,6,77,13,0,32,0,65,3,106,65,0,58,0,0,32,0,32,1,106,65,4,107,65,0,58,0,0,32,1,65,8,77,13,0,32,1,65,0,32,0,107,65,3,113,34,1,107,33,2,32,0,32,1,106,34,0,65,0,54,2,0,32,0,32,2,65,124,113,34,1,106,65,4,107,65,0,54,2,0,32,1,65,8,77,13,0,32,0,65,4,106,65,0,54,2,0,32,0,65,8,106,65,0,54,2,0,32,0,32,1,106,34,2,65,12,107,65,0,54,2,0,32,2,65,8,107,65,0,54,2,0,32,1,65,24,77,13,0,32,0,65,12,106,65,0,54,2,0,32,0,65,16,106,65,0,54,2,0,32,0,65,20,106,65,0,54,2,0,32,0,65,24,106,65,0,54,2,0,32,0,32,1,106,34,2,65,28,107,65,0,54,2,0,32,2,65,24,107,65,0,54,2,0,32,2,65,20,107,65,0,54,2,0,32,2,65,16,107,65,0,54,2,0,32,0,32,0,65,4,113,65,24,106,34,2,106,33,0,32,1,32,2,107,33,1,3,64,32,1,65,32,79,4,64,32,0,66,0,55,3,0,32,0,65,8,106,66,0,55,3,0,32,0,65,16,106,66,0,55,3,0,32,0,65,24,106,66,0,55,3,0,32,1,65,32,107,33,1,32,0,65,32,106,33,0,12,1,11,11,11,11,178,1,1,3,127,32,1,65,240,255,255,255,3,32,2,118,75,4,64,65,144,1,65,192,1,65,23,65,56,16,0,0,11,32,1,32,2,116,34,3,65,0,16,10,34,2,32,3,16,13,32,0,69,4,64,65,12,65,2,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,2,34,1,32,0,40,2,0,34,4,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,32,4,16,12,11,32,0,32,1,54,2,0,32,0,32,2,54,2,4,32,0,32,3,54,2,8,32,0,11,46,1,2,127,65,12,65,5,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,65,128,2,65,3,16,14,11,9,0,65,63,32,0,121,167,107,11,49,1,2,127,65,63,32,1,121,167,107,33,2,3,64,65,63,32,0,121,167,107,32,2,107,34,3,65,0,78,4,64,32,0,32,1,32,3,172,134,133,33,0,12,1,11,11,32,0,11,40,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,163,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,65,0,58,0,0,11,38,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,152,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,45,0,0,11,254,5,2,1,127,4,126,32,0,69,4,64,65,232,0,65,6,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,24,32,0,66,0,55,3,32,32,0,66,0,55,3,40,32,0,66,0,55,3,48,32,0,66,0,55,3,56,32,0,66,0,55,3,64,32,0,66,0,55,3,72,32,0,66,0,55,3,80,32,0,66,0,55,3,88,32,0,66,0,55,3,96,32,0,32,2,173,55,3,80,32,0,32,3,173,55,3,88,65,12,65,4,16,10,34,2,65,172,3,75,4,64,32,2,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,32,4,65,0,16,14,33,2,32,0,40,2,0,16,12,32,0,32,2,54,2,0,32,0,32,4,54,2,4,32,0,66,1,32,1,173,134,66,1,125,55,3,96,32,0,66,243,130,183,218,216,230,232,30,55,3,72,35,4,69,4,64,65,0,33,2,3,64,32,2,65,128,2,72,4,64,32,2,65,255,1,113,173,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,65,0,33,4,3,64,32,4,32,0,40,2,4,65,1,107,72,4,64,32,6,66,8,134,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,32,4,65,1,106,33,4,12,1,11,11,35,6,40,2,4,32,2,65,3,116,106,32,6,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,63,32,0,41,3,72,121,167,107,172,33,7,65,0,33,2,3,64,32,2,65,128,2,72,4,64,35,5,33,1,32,2,172,32,7,134,34,8,33,6,65,63,32,0,41,3,72,34,9,121,167,107,33,3,3,64,65,63,32,6,121,167,107,32,3,107,34,4,65,0,78,4,64,32,6,32,9,32,4,172,134,133,33,6,12,1,11,11,32,1,40,2,4,32,2,65,3,116,106,32,6,32,8,132,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,1,36,4,11,32,0,66,0,55,3,24,32,0,66,0,55,3,32,65,0,33,2,3,64,32,2,32,0,40,2,4,72,4,64,32,0,40,2,0,32,2,16,18,32,2,65,1,106,33,2,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,6,66,45,136,167,65,3,116,106,41,3,0,32,6,66,8,134,66,1,132,133,55,3,40,32,0,11,38,1,1,127,32,0,40,2,0,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,55,1,2,127,32,1,32,0,40,2,0,34,2,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,16,12,11,32,0,32,1,54,2,0,11,7,0,32,0,40,2,4,11,9,0,32,0,32,1,54,2,4,11,7,0,32,0,40,2,8,11,9,0,32,0,32,1,54,2,8,11,7,0,32,0,41,3,16,11,9,0,32,0,32,1,55,3,16,11,7,0,32,0,41,3,24,11,9,0,32,0,32,1,55,3,24,11,7,0,32,0,41,3,32,11,9,0,32,0,32,1,55,3,32,11,7,0,32,0,41,3,40,11,9,0,32,0,32,1,55,3,40,11,7,0,32,0,41,3,48,11,9,0,32,0,32,1,55,3,48,11,7,0,32,0,41,3,56,11,9,0,32,0,32,1,55,3,56,11,7,0,32,0,41,3,64,11,9,0,32,0,32,1,55,3,64,11,7,0,32,0,41,3,72,11,9,0,32,0,32,1,55,3,72,11,7,0,32,0,41,3,80,11,9,0,32,0,32,1,55,3,80,11,7,0,32,0,41,3,88,11,9,0,32,0,32,1,55,3,88,11,7,0,32,0,41,3,96,11,9,0,32,0,32,1,55,3,96,11,172,4,2,5,127,1,126,32,2,65,172,3,75,4,64,32,2,65,16,107,34,4,32,4,40,2,4,65,1,106,54,2,4,11,32,2,33,4,65,0,33,2,32,1,40,2,8,33,5,32,1,40,2,4,33,6,3,64,2,127,65,0,33,3,3,64,32,3,32,5,72,4,64,32,3,32,6,106,45,0,0,33,1,32,0,40,2,0,32,0,40,2,8,16,19,33,7,32,0,40,2,8,32,0,40,2,0,40,2,4,106,32,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,7,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,1,173,32,8,66,8,134,132,133,55,3,40,32,0,32,0,41,3,16,66,1,124,55,3,16,32,0,32,0,41,3,24,66,1,124,55,3,24,32,0,41,3,16,32,0,41,3,80,90,4,127,32,0,41,3,40,32,0,41,3,96,131,80,5,65,0,11,4,127,65,1,5,32,0,41,3,16,32,0,41,3,88,90,11,4,64,32,0,32,0,41,3,32,55,3,48,32,0,32,0,41,3,16,55,3,56,32,0,32,0,41,3,40,55,3,64,65,0,33,1,3,64,32,1,32,0,40,2,4,72,4,64,32,0,40,2,0,32,1,16,18,32,1,65,1,106,33,1,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,8,66,8,134,66,1,132,133,55,3,40,32,3,65,1,106,12,3,11,32,3,65,1,106,33,3,12,1,11,11,65,127,11,34,1,65,0,78,4,64,32,5,32,1,107,33,5,32,1,32,6,106,33,6,32,2,34,1,65,1,106,33,2,32,4,40,2,4,32,1,65,2,116,106,32,0,41,3,56,62,2,0,12,1,11,11,32,4,11,10,0,16,15,36,5,16,15,36,6,11,3,0,1,11,73,1,2,127,32,0,40,2,4,34,1,65,255,255,255,255,0,113,34,2,65,1,70,4,64,32,0,65,16,106,16,53,32,0,32,0,40,2,0,65,1,114,54,2,0,35,0,32,0,16,2,5,32,0,32,2,65,1,107,32,1,65,128,128,128,128,127,113,114,54,2,4,11,11,58,0,2,64,2,64,2,64,32,0,65,8,107,40,2,0,14,7,0,0,1,1,1,1,1,2,11,15,11,32,0,40,2,0,34,0,4,64,32,0,65,172,3,79,4,64,32,0,65,16,107,16,52,11,11,15,11,0,11,11,137,3,7,0,65,16,11,55,40,0,0,0,1,0,0,0,1,0,0,0,40,0,0,0,97,0,108,0,108,0,111,0,99,0,97,0,116,0,105,0,111,0,110,0,32,0,116,0,111,0,111,0,32,0,108,0,97,0,114,0,103,0,101,0,65,208,0,11,45,30,0,0,0,1,0,0,0,1,0,0,0,30,0,0,0,126,0,108,0,105,0,98,0,47,0,114,0,116,0,47,0,116,0,108,0,115,0,102,0,46,0,116,0,115,0,65,128,1,11,43,28,0,0,0,1,0,0,0,1,0,0,0,28,0,0,0,73,0,110,0,118,0,97,0,108,0,105,0,100,0,32,0,108,0,101,0,110,0,103,0,116,0,104,0,65,176,1,11,53,38,0,0,0,1,0,0,0,1,0,0,0,38,0,0,0,126,0,108,0,105,0,98,0,47,0,97,0,114,0,114,0,97,0,121,0,98,0,117,0,102,0,102,0,101,0,114,0,46,0,116,0,115,0,65,240,1,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,73,0,110,0,100,0,101,0,120,0,32,0,111,0,117,0,116,0,32,0,111,0,102,0,32,0,114,0,97,0,110,0,103,0,101,0,65,176,2,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,126,0,108,0,105,0,98,0,47,0,116,0,121,0,112,0,101,0,100,0,97,0,114,0,114,0,97,0,121,0,46,0,116,0,115,0,65,240,2,11,53,7,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,145,4,0,0,2,0,0,0,49,0,0,0,2,0,0,0,17,1,0,0,2,0,0,0,16,0,34,16,115,111,117,114,99,101,77,97,112,112,105,110,103,85,82,76,16,46,47,114,97,98,105,110,46,119,97,115,109,46,109,97,112]);return instantiate(new Response(new Blob([e],{type:"application/wasm"})),t)}var rabinWasm=loadWebAssembly;const Rabin=rabin$1,getRabin=rabinWasm,create=async(t,e,r,n,o)=>{const a=await getRabin();return new Rabin(a,t,e,r,n,o)};var src$1={Rabin,create};async function*rabinChunker(t,e){let r,n,o;if(e.minChunkSize&&e.maxChunkSize&&e.avgChunkSize)o=e.avgChunkSize,r=e.minChunkSize,n=e.maxChunkSize;else if(e.avgChunkSize)o=e.avgChunkSize,r=o/3,n=o+o/2;else throw errCode$1(new Error("please specify an average chunk size"),"ERR_INVALID_AVG_CHUNK_SIZE");if(r<16)throw errCode$1(new Error("rabin min must be greater than 16"),"ERR_INVALID_MIN_CHUNK_SIZE");n<r&&(n=r),o<r&&(o=r);const a=Math.floor(Math.log2(o));for await(const u of rabin(t,{min:r,max:n,bits:a,window:e.window,polynomial:e.polynomial}))yield u}async function*rabin(t,e){const r=await src$1.create(e.bits,e.min,e.max,e.window),n=new BufferList$1;for await(const o of t){n.append(o);const a=r.fingerprint(o);for(let u=0;u<a.length;u++){const c=a[u],d=n.slice(0,c);n.consume(c),yield d}}n.length&&(yield n.slice(0))}async function*fixedSizeChunker(t,e){let r=new BufferList$1,n=0,o=!1;const a=e.maxChunkSize;for await(const u of t)for(r.append(u),n+=u.length;n>=a;)if(yield r.slice(0,a),o=!0,a===r.length)r=new BufferList$1,n=0;else{const c=new BufferList$1;c.append(r.shallowSlice(a)),r=c,n-=a}(!o||n)&&(yield r.slice(0,n))}const identity=from$1({prefix:"\0",name:"identity",encode:t=>toString$1(t),decode:t=>fromString$3(t)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base64=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$1=Object.freeze(Object.defineProperty({__proto__:null,base64,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"})),alphabet=Array.from(""),alphabetBytesToChars=alphabet.reduce((t,e,r)=>(t[r]=e,t),[]),alphabetCharsToBytes=alphabet.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function encode(t){return t.reduce((e,r)=>(e+=alphabetBytesToChars[r],e),"")}function decode(t){const e=[];for(const r of t){const n=alphabetCharsToBytes[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const base256emoji=from$1({prefix:"",name:"base256emoji",encode,decode}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const bases={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$1,...base36$1,...base58,...base64$1,...base256emoji$1};function asUint8Array(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function allocUnsafe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?asUint8Array(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function createCodec(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const string=createCodec("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),ascii=createCodec("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=allocUnsafe(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),BASES={utf8:string,"utf-8":string,hex:bases.base16,latin1:ascii,ascii,binary:ascii,...bases};function fromString(t,e="utf8"){const r=BASES[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}const fromString$1=Object.freeze(Object.defineProperty({__proto__:null,fromString},Symbol.toStringTag,{value:"Module"}));async function*validateChunks(t){for await(const e of t){if(e.length===void 0)throw errCode$1(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if(typeof e=="string"||e instanceof String)yield fromString(e.toString());else if(Array.isArray(e))yield Uint8Array.from(e);else if(e instanceof Uint8Array)yield e;else throw errCode$1(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}}function isIterable(t){return Symbol.iterator in t}function isAsyncIterable(t){return Symbol.asyncIterator in t}function contentAsAsyncIterable(t){try{if(t instanceof Uint8Array)return async function*(){yield t}();if(isIterable(t))return async function*(){yield*t}();if(isAsyncIterable(t))return t}catch{throw errCode$1(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw errCode$1(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}async function*dagBuilder(t,e,r){for await(const n of t)if(n.path&&(n.path.substring(0,2)==="./"&&(r.wrapWithDirectory=!0),n.path=n.path.split("/").filter(o=>o&&o!==".").join("/")),n.content){let o;typeof r.chunker=="function"?o=r.chunker:r.chunker==="rabin"?o=rabinChunker:o=fixedSizeChunker;let a;typeof r.chunkValidator=="function"?a=r.chunkValidator:a=validateChunks;const u={path:n.path,mtime:n.mtime,mode:n.mode,content:o(a(contentAsAsyncIterable(n.content),r),r)};yield()=>fileBuilder(u,e,r)}else if(n.path){const o={path:n.path,mtime:n.mtime,mode:n.mode};yield()=>dirBuilder(o,e,r)}else throw new Error("Import candidate must have content or path or both")}class Dir{constructor(e,r){this.options=r||{},this.root=e.root,this.dir=e.dir,this.path=e.path,this.dirty=e.dirty,this.flat=e.flat,this.parent=e.parent,this.parentKey=e.parentKey,this.unixfs=e.unixfs,this.mode=e.mode,this.mtime=e.mtime,this.cid=void 0,this.size=void 0}async put(e,r){}get(e){return Promise.resolve(this)}async*eachChildSeries(){}async*flush(e){}}class DirFlat extends Dir{constructor(e,r){super(e,r),this._children={}}async put(e,r){this.cid=void 0,this.size=void 0,this._children[e]=r}get(e){return Promise.resolve(this._children[e])}childCount(){return Object.keys(this._children).length}directChildrenCount(){return this.childCount()}onlyChild(){return this._children[Object.keys(this._children)[0]]}async*eachChildSeries(){const e=Object.keys(this._children);for(let r=0;r<e.length;r++){const n=e[r];yield{key:n,child:this._children[n]}}}async*flush(e){const r=Object.keys(this._children),n=[];for(let m=0;m<r.length;m++){let y=this._children[r[m]];if(y instanceof Dir)for await(const D of y.flush(e))y=D,yield y;y.size!=null&&y.cid&&n.push({Name:r[m],Tsize:y.size,Hash:y.cid})}const o=new UnixFS({type:"directory",mtime:this.mtime,mode:this.mode}),a={Data:o.marshal(),Links:n},u=encode$1(prepare(a)),c=await persist(u,e,this.options),d=u.length+a.Links.reduce((m,y)=>m+(y.Tsize==null?0:y.Tsize),0);this.cid=c,this.size=d,yield{cid:c,unixfs:o,path:this.path,size:d}}}const BITS_PER_BYTE=7;var sparseArray=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(e,r){let n=this._internalPositionFor(e,!1);if(r===void 0)n!==-1&&(this._unsetInternalPos(n),this._unsetBit(e),this._changedLength=!0,this._changedData=!0);else{let o=!1;n===-1?(n=this._data.length,this._setBit(e),this._changedData=!0):o=!0,this._setInternalPos(n,e,r,o),this._changedLength=!0}}unset(e){this.set(e,void 0)}get(e){this._sortData();const r=this._internalPositionFor(e,!0);if(r!==-1)return this._data[r][1]}push(e){return this.set(this.length,e),this.length}get length(){if(this._sortData(),this._changedLength){const e=this._data[this._data.length-1];this._length=e?e[0]+1:0,this._changedLength=!1}return this._length}forEach(e){let r=0;for(;r<this.length;)e(this.get(r),r,this),r++}map(e){let r=0,n=new Array(this.length);for(;r<this.length;)n[r]=e(this.get(r),r,this),r++;return n}reduce(e,r){let n=0,o=r;for(;n<this.length;){const a=this.get(n);o=e(o,a,n),n++}return o}find(e){let r=0,n,o;for(;r<this.length&&!n;)o=this.get(r),n=e(o),r++;return n?o:void 0}_internalPositionFor(e,r){const n=this._bytePosFor(e,r);if(n>=this._bitArrays.length)return-1;const o=this._bitArrays[n],a=e-n*BITS_PER_BYTE;if(!((o&1<<a)>0))return-1;const c=this._bitArrays.slice(0,n).reduce(popCountReduce,0),d=~(4294967295<<a+1),m=popCount(o&d);return c+m-1}_bytePosFor(e,r){const n=Math.floor(e/BITS_PER_BYTE),o=n+1;for(;!r&&this._bitArrays.length<o;)this._bitArrays.push(0);return n}_setBit(e){const r=this._bytePosFor(e,!1);this._bitArrays[r]|=1<<e-r*BITS_PER_BYTE}_unsetBit(e){const r=this._bytePosFor(e,!1);this._bitArrays[r]&=~(1<<e-r*BITS_PER_BYTE)}_setInternalPos(e,r,n,o){const a=this._data,u=[r,n];if(o)this._sortData(),a[e]=u;else{if(a.length)if(a[a.length-1][0]>=r)a.push(u);else if(a[0][0]<=r)a.unshift(u);else{const c=Math.round(a.length/2);this._data=a.slice(0,c).concat(u).concat(a.slice(c))}else this._data.push(u);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(e){this._data.splice(e,1)}_sortData(){this._changedData&&this._data.sort(sortInternal),this._changedData=!1}bitField(){const e=[];let r=8,n=0,o=0,a;const u=this._bitArrays.slice();for(;u.length||n;){n===0&&(a=u.shift(),n=7);const d=Math.min(n,r),m=~(255<<d),y=a&m;o|=y<<8-r,a=a>>>d,n-=d,r-=d,(!r||!n&&!u.length)&&(e.push(o),o=0,r=8)}for(var c=e.length-1;c>0&&e[c]===0;c--)e.pop();return e}compactArray(){return this._sortData(),this._data.map(valueOnly)}};function popCountReduce(t,e){return t+popCount(e)}function popCount(t){let e=t;return e=e-(e>>1&1431655765),e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>24}function sortInternal(t,e){return t[0]-e[0]}function valueOnly(t){return t[1]}const require$$1$1=getAugmentedNamespace(fromString$1),SparseArray=sparseArray,{fromString:uint8ArrayFromString}=require$$1$1;let Bucket$1=class Be{constructor(e,r,n=0){this._options=e,this._popCount=0,this._parent=r,this._posAtParent=n,this._children=new SparseArray,this.key=null}async put(e,r){const n=await this._findNewBucketAndPos(e);await n.bucket._putAt(n,e,r)}async get(e){const r=await this._findChild(e);if(r)return r.value}async del(e){const r=await this._findPlace(e),n=r.bucket._at(r.pos);n&&n.key===e&&r.bucket._delAt(r.pos)}leafCount(){return this._children.compactArray().reduce((r,n)=>n instanceof Be?r+n.leafCount():r+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const e=this._children.compactArray();for(const r of e)r instanceof Be?yield*r.eachLeafSeries():yield r;return[]}serialize(e,r){const n=[];return r(this._children.reduce((o,a,u)=>(a&&(a instanceof Be?o.push(a.serialize(e,r)):o.push(e(a,u))),o),n))}asyncTransform(e,r){return asyncTransformBucket(this,e,r)}toJSON(){return this.serialize(mapNode,reduceNodes)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(e){const r=await this._findPlace(e),n=r.bucket._at(r.pos);if(!(n instanceof Be)&&n&&n.key===e)return n}async _findPlace(e){const r=this._options.hash(typeof e=="string"?uint8ArrayFromString(e):e),n=await r.take(this._options.bits),o=this._children.get(n);return o instanceof Be?o._findPlace(r):{bucket:this,pos:n,hash:r,existingChild:o}}async _findNewBucketAndPos(e){const r=await this._findPlace(e);if(r.existingChild&&r.existingChild.key!==e){const n=new Be(this._options,r.bucket,r.pos);r.bucket._putObjectAt(r.pos,n);const o=await n._findPlace(r.existingChild.hash);return o.bucket._putAt(o,r.existingChild.key,r.existingChild.value),n._findNewBucketAndPos(r.hash)}return r}_putAt(e,r,n){this._putObjectAt(e.pos,{key:r,value:n,hash:e.hash})}_putObjectAt(e,r){this._children.get(e)||this._popCount++,this._children.set(e,r)}_delAt(e){if(e===-1)throw new Error("Invalid position");this._children.get(e)&&this._popCount--,this._children.unset(e),this._level()}_level(){if(this._parent&&this._popCount<=1)if(this._popCount===1){const e=this._children.find(exists);if(e&&!(e instanceof Be)){const r=e.hash;r.untake(this._options.bits);const n={pos:this._posAtParent,hash:r,bucket:this._parent};this._parent._putAt(n,e.key,e.value)}}else this._parent._delAt(this._posAtParent)}_at(e){return this._children.get(e)}};function exists(t){return!!t}function mapNode(t,e){return t.key}function reduceNodes(t){return t}async function asyncTransformBucket(t,e,r){const n=[];for(const o of t._children.compactArray())if(o instanceof Bucket$1)await asyncTransformBucket(o,e,r);else{const a=await e(o);n.push({bitField:t._children.bitField(),children:a})}return r(n)}var bucket=Bucket$1,consumableHash={exports:{}};const START_MASKS=[255,254,252,248,240,224,192,128],STOP_MASKS=[1,3,7,15,31,63,127,255];var consumableBuffer=class{constructor(e){this._value=e,this._currentBytePos=e.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+this._currentBytePos*8}totalBits(){return this._value.length*8}take(e){let r=e,n=0;for(;r&&this._haveBits();){const o=this._value[this._currentBytePos],a=this._currentBitPos+1,u=Math.min(a,r),c=byteBitsToInt(o,a-u,u);n=(n<<u)+c,r-=u,this._currentBitPos-=u,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return n}untake(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}};function byteBitsToInt(t,e,r){const n=maskFor(e,r);return(t&n)>>>e}function maskFor(t,e){return START_MASKS[t]&STOP_MASKS[Math.min(e+t-1,7)]}function concat(t,e){e||(e=t.reduce((o,a)=>o+a.length,0));const r=allocUnsafe(e);let n=0;for(const o of t)r.set(o,n),n+=o.length;return asUint8Array(r)}const concat$1=Object.freeze(Object.defineProperty({__proto__:null,concat},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(concat$1),ConsumableBuffer=consumableBuffer,{concat:uint8ArrayConcat}=require$$1;function wrapHash$1(t){function e(r){return r instanceof InfiniteHash?r:new InfiniteHash(r,t)}return e}class InfiniteHash{constructor(e,r){if(!(e instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=e,this._hashFn=r,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(e){let r=e;for(;this._availableBits<r;)await this._produceMoreBits();let n=0;for(;r>0;){const o=this._buffers[this._currentBufferIndex],a=Math.min(o.availableBits(),r),u=o.take(a);n=(n<<a)+u,r-=a,this._availableBits-=a,o.availableBits()===0&&this._currentBufferIndex++}return n}untake(e){let r=e;for(;r>0;){const n=this._buffers[this._currentBufferIndex],o=Math.min(n.totalBits()-n.availableBits(),r);n.untake(o),r-=o,this._availableBits+=o,this._currentBufferIndex>0&&n.totalBits()===n.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;const e=this._depth?uint8ArrayConcat([this._value,Uint8Array.from([this._depth])]):this._value,r=await this._hashFn(e),n=new ConsumableBuffer(r);this._buffers.push(n),this._availableBits+=n.availableBits()}}consumableHash.exports=wrapHash$1;consumableHash.exports.InfiniteHash=InfiniteHash;var consumableHashExports=consumableHash.exports;const Bucket=bucket,wrapHash=consumableHashExports;function createHAMT(t){if(!t||!t.hashFn)throw new Error("please define an options.hashFn");const e={bits:t.bits||8,hash:wrapHash(t.hashFn)};return new Bucket(e)}var src={createHAMT,Bucket};class DirSharded extends Dir{constructor(e,r){super(e,r),this._bucket=src.createHAMT({hashFn:r.hamtHashFn,bits:r.hamtBucketBits})}async put(e,r){await this._bucket.put(e,r)}get(e){return this._bucket.get(e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(const{key:e,value:r}of this._bucket.eachLeafSeries())yield{key:e,child:r}}async*flush(e){for await(const r of flush(this._bucket,e,this,this.options))yield{...r,path:this.path}}}async function*flush(t,e,r,n){const o=t._children,a=[];let u=0;for(let w=0;w<o.length;w++){const _=o.get(w);if(!_)continue;const h=w.toString(16).toUpperCase().padStart(2,"0");if(_ instanceof src.Bucket){let E;for await(const B of await flush(_,e,null,n))E=B;if(!E)throw new Error("Could not flush sharded directory, no subshard found");a.push({Name:h,Tsize:E.size,Hash:E.cid}),u+=E.size}else if(typeof _.value.flush=="function"){const E=_.value;let B;for await(const k of E.flush(e))B=k,yield B;const O=h+_.key;a.push({Name:O,Tsize:B.size,Hash:B.cid}),u+=B.size}else{const E=_.value;if(!E.cid)continue;const B=h+_.key,O=E.size;a.push({Name:B,Tsize:O,Hash:E.cid}),u+=O}}const c=Uint8Array.from(o.bitField().reverse()),d=new UnixFS({type:"hamt-sharded-directory",data:c,fanout:t.tableSize(),hashType:n.hamtHashCode,mtime:r&&r.mtime,mode:r&&r.mode}),m={Data:d.marshal(),Links:a},y=encode$1(prepare(m)),D=await persist(y,e,n),T=y.length+u;yield{cid:D,unixfs:d,size:T}}async function flatToShard(t,e,r,n){let o=e;e instanceof DirFlat&&e.directChildrenCount()>=r&&(o=await convertToShard(e,n));const a=o.parent;if(a){if(o!==e){if(t&&(t.parent=o),!o.parentKey)throw new Error("No parent key found");await a.put(o.parentKey,o)}return flatToShard(o,a,r,n)}return o}async function convertToShard(t,e){const r=new DirSharded({root:t.root,dir:!0,parent:t.parent,parentKey:t.parentKey,path:t.path,dirty:t.dirty,flat:!1,mtime:t.mtime,mode:t.mode},e);for await(const{key:n,child:o}of t.eachChildSeries())await r.put(n,o);return r}const toPathComponents=(t="")=>(t.trim().match(/([^\\/]|\\\/)+/g)||[]).filter(Boolean);async function addToTree(t,e,r){const n=toPathComponents(t.path||""),o=n.length-1;let a=e,u="";for(let c=0;c<n.length;c++){const d=n[c];u+=`${u?"/":""}${d}`;const m=c===o;if(a.dirty=!0,a.cid=void 0,a.size=void 0,m)await a.put(d,t),e=await flatToShard(null,a,r.shardSplitThreshold,r);else{let y=await a.get(d);(!y||!(y instanceof Dir))&&(y=new DirFlat({root:!1,dir:!0,parent:a,parentKey:d,path:u,dirty:!0,flat:!0,mtime:y&&y.unixfs&&y.unixfs.mtime,mode:y&&y.unixfs&&y.unixfs.mode},r)),await a.put(d,y),a=y}}return e}async function*flushAndYield(t,e){if(!(t instanceof Dir)){t&&t.unixfs&&t.unixfs.isDirectory()&&(yield t);return}yield*t.flush(e)}async function*treeBuilder(t,e,r){let n=new DirFlat({root:!0,dir:!0,path:"",dirty:!0,flat:!0},r);for await(const o of t)o&&(n=await addToTree(o,n,r),(!o.unixfs||!o.unixfs.isDirectory())&&(yield o));if(r.wrapWithDirectory)yield*flushAndYield(n,e);else for await(const o of n.eachChildSeries())o&&(yield*flushAndYield(o.child,e))}async function*importer(t,e,r={}){const n=defaultOptions$1(r);let o;typeof r.dagBuilder=="function"?o=r.dagBuilder:o=dagBuilder;let a;typeof r.treeBuilder=="function"?a=r.treeBuilder:a=treeBuilder;let u;Symbol.asyncIterator in t||Symbol.iterator in t?u=t:u=[t];for await(const c of a(parallelBatch$1(o(u,e,n),n.fileImportConcurrency),e,n))yield{cid:c.cid,path:c.path,unixfs:c.unixfs,size:c.size}}async function*browserReadableStreamToIt$1(t,e={}){const r=t.getReader();try{for(;;){const n=await r.read();if(n.done)return;yield n.value}}finally{e.preventCancel!==!0&&r.cancel(),r.releaseLock()}}var browserReadablestreamToIt=browserReadableStreamToIt$1;const browserStreamToIt=getDefaultExportFromCjs(browserReadablestreamToIt),browserReadableStreamToIt=browserReadablestreamToIt;function blobToIt(t){return typeof t.stream=="function"?browserReadableStreamToIt(t.stream()):browserReadableStreamToIt(new Response(t).body)}var blobToIt_1=blobToIt;const blobToIt$1=getDefaultExportFromCjs(blobToIt_1);function peekableIterator(t){const[e,r]=t[Symbol.asyncIterator]?[t[Symbol.asyncIterator](),Symbol.asyncIterator]:[t[Symbol.iterator](),Symbol.iterator],n=[];return{peek:()=>e.next(),push:o=>{n.push(o)},next:()=>n.length?{done:!1,value:n.shift()}:e.next(),[r](){return this}}}var itPeekable=peekableIterator;const itPeekable$1=getDefaultExportFromCjs(itPeekable),map=async function*(t,e){for await(const r of t)yield e(r)};var itMap=map;const map$1=getDefaultExportFromCjs(itMap);function isBytes$1(t){return ArrayBuffer.isView(t)||t instanceof ArrayBuffer}function isBlob$2(t){return t.constructor&&(t.constructor.name==="Blob"||t.constructor.name==="File")&&typeof t.stream=="function"}function isFileObject(t){return typeof t=="object"&&(t.path||t.content)}const isReadableStream=t=>t&&typeof t.getReader=="function";async function*toAsyncIterable(t){yield t}async function normaliseContent(t){if(isBytes$1(t))return toAsyncIterable(toBytes(t));if(typeof t=="string"||t instanceof String)return toAsyncIterable(toBytes(t.toString()));if(isBlob$2(t))return blobToIt$1(t);if(isReadableStream(t)&&(t=browserStreamToIt(t)),Symbol.iterator in t||Symbol.asyncIterator in t){const e=itPeekable$1(t),{value:r,done:n}=await e.peek();if(n)return toAsyncIterable(new Uint8Array(0));if(e.push(r),Number.isInteger(r))return toAsyncIterable(Uint8Array.from(await all$1(e)));if(isBytes$1(r)||typeof r=="string"||r instanceof String)return map$1(e,toBytes)}throw errCode$1(new Error(`Unexpected input: ${t}`),"ERR_UNEXPECTED_INPUT")}function toBytes(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer?new Uint8Array(t):Array.isArray(t)?Uint8Array.from(t):fromString(t.toString())}async function*normaliseCandidateSingle(t,e){if(t==null)throw errCode$1(new Error(`Unexpected input: ${t}`),"ERR_UNEXPECTED_INPUT");if(typeof t=="string"||t instanceof String){yield toFileObject$1(t.toString(),e);return}if(isBytes$1(t)||isBlob$2(t)){yield toFileObject$1(t,e);return}if(isReadableStream(t)&&(t=browserStreamToIt(t)),Symbol.iterator in t||Symbol.asyncIterator in t){const r=itPeekable$1(t),{value:n,done:o}=await r.peek();if(o){yield{content:[]};return}if(r.push(n),Number.isInteger(n)||isBytes$1(n)||typeof n=="string"||n instanceof String){yield toFileObject$1(r,e);return}throw errCode$1(new Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(isFileObject(t)){yield toFileObject$1(t,e);return}throw errCode$1(new Error('Unexpected input: cannot convert "'+typeof t+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT")}async function toFileObject$1(t,e){const{path:r,mode:n,mtime:o,content:a}=t,u={path:r||"",mode:parseMode(n),mtime:parseMtime(o)};return a?u.content=await e(a):r||(u.content=await e(t)),u}function normaliseInput$1(t){return normaliseCandidateSingle(t,normaliseContent)}async function*normaliseCandidateMultiple(t,e){if(typeof t=="string"||t instanceof String||isBytes$1(t)||isBlob$2(t)||t._readableState)throw errCode$1(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(isReadableStream(t)&&(t=browserStreamToIt(t)),Symbol.iterator in t||Symbol.asyncIterator in t){const r=itPeekable$1(t),{value:n,done:o}=await r.peek();if(o){yield*[];return}if(r.push(n),Number.isInteger(n))throw errCode$1(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(n._readableState){yield*map$1(r,a=>toFileObject({content:a},e));return}if(isBytes$1(n)){yield toFileObject({content:r},e);return}if(isFileObject(n)||n[Symbol.iterator]||n[Symbol.asyncIterator]||isReadableStream(n)||isBlob$2(n)){yield*map$1(r,a=>toFileObject(a,e));return}}throw isFileObject(t)?errCode$1(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT"):errCode$1(new Error("Unexpected input: "+typeof t),"ERR_UNEXPECTED_INPUT")}async function toFileObject(t,e){const{path:r,mode:n,mtime:o,content:a}=t,u={path:r||"",mode:parseMode(n),mtime:parseMtime(o)};return a?u.content=await e(a):r||(u.content=await e(t)),u}function normaliseInput(t){return normaliseCandidateMultiple(t,normaliseContent)}function isBytes(t){return ArrayBuffer.isView(t)||t instanceof ArrayBuffer}function isBlob$1(t){return!!t.constructor&&(t.constructor.name==="Blob"||t.constructor.name==="File")&&typeof t.stream=="function"}function isSingle(t){return typeof t=="string"||t instanceof String||isBytes(t)||isBlob$1(t)||"_readableState"in t}function getNormaliser(t){return isSingle(t)?normaliseInput$1(t):normaliseInput(t)}const drain=async t=>{for await(const e of t);};var itDrain=drain;const drain$1=getDefaultExportFromCjs(itDrain),filter=async function*(t,e){for await(const r of t)await e(r)&&(yield r)};var itFilter=filter;const filter$1=getDefaultExportFromCjs(itFilter),take=async function*(t,e){let r=0;if(!(e<1)){for await(const n of t)if(yield n,r++,r===e)return}};var itTake=take;const take$1=getDefaultExportFromCjs(itTake),sortAll=(t,e)=>async function*(){yield*(await all$1(t)).sort(e)}();class BaseBlockstore{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(e,r,n){return Promise.reject(new Error(".put is not implemented"))}get(e,r){return Promise.reject(new Error(".get is not implemented"))}has(e,r){return Promise.reject(new Error(".has is not implemented"))}delete(e,r){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e,r={}){for await(const{key:n,value:o}of e)await this.put(n,o,r),yield{key:n,value:o}}async*getMany(e,r={}){for await(const n of e)yield this.get(n,r)}async*deleteMany(e,r={}){for await(const n of e)await this.delete(n,r),yield n}batch(){let e=[],r=[];return{put(n,o){e.push({key:n,value:o})},delete(n){r.push(n)},commit:async n=>{await drain$1(this.putMany(e,n)),e=[],await drain$1(this.deleteMany(r,n)),r=[]}}}async*_all(e,r){throw new Error("._all is not implemented")}async*_allKeys(e,r){throw new Error("._allKeys is not implemented")}query(e,r){let n=this._all(e,r);if(e.prefix!=null&&(n=filter$1(n,o=>o.key.toString().startsWith(e.prefix||""))),Array.isArray(e.filters)&&(n=e.filters.reduce((o,a)=>filter$1(o,a),n)),Array.isArray(e.orders)&&(n=e.orders.reduce((o,a)=>sortAll(o,a),n)),e.offset!=null){let o=0;n=filter$1(n,()=>o++>=(e.offset||0))}return e.limit!=null&&(n=take$1(n,e.limit)),n}queryKeys(e,r){let n=this._allKeys(e,r);if(e.prefix!=null&&(n=filter$1(n,o=>o.toString().startsWith(e.prefix||""))),Array.isArray(e.filters)&&(n=e.filters.reduce((o,a)=>filter$1(o,a),n)),Array.isArray(e.orders)&&(n=e.orders.reduce((o,a)=>sortAll(o,a),n)),e.offset!=null){let o=0;n=filter$1(n,()=>o++>=e.offset)}return e.limit!=null&&(n=take$1(n,e.limit)),n}}class MemoryBlockStore extends BaseBlockstore{constructor(){super(),this.store=new Map}async*blocks(){for(const[e,r]of this.store.entries())yield{cid:CID.parse(e),bytes:r}}put(e,r){return this.store.set(e.toString(),r),Promise.resolve()}get(e){const r=this.store.get(e.toString());if(!r)throw new Error(`block with cid ${e.toString()} no found`);return Promise.resolve(r)}has(e){return Promise.resolve(this.store.has(e.toString()))}close(){return this.store.clear(),Promise.resolve()}}const unixfsImporterOptionsDefault={cidVersion:1,chunker:"fixed",maxChunkSize:262144,hasher:sha256,rawLeaves:!0,wrapWithDirectory:!0,maxChildrenPerNode:174};async function pack({input:t,blockstore:e,hasher:r,maxChunkSize:n,maxChildrenPerNode:o,wrapWithDirectory:a,rawLeaves:u}){if(!t||Array.isArray(t)&&!t.length)throw new Error("missing input file(s)");const c=e||new MemoryBlockStore,d=await last$1(pipe$1(getNormaliser(t),E=>importer(E,c,{...unixfsImporterOptionsDefault,hasher:r||unixfsImporterOptionsDefault.hasher,maxChunkSize:n||unixfsImporterOptionsDefault.maxChunkSize,maxChildrenPerNode:o||unixfsImporterOptionsDefault.maxChildrenPerNode,wrapWithDirectory:a===!1?!1:unixfsImporterOptionsDefault.wrapWithDirectory,rawLeaves:u??unixfsImporterOptionsDefault.rawLeaves})));if(!d||!d.cid)throw new Error("given input could not be parsed correctly");const m=d.cid,{writer:y,out:D}=await CarWriter.create([m]),T=D[Symbol.asyncIterator]();let w;const _=async()=>{for await(const E of c.blocks())await y.put(E);await y.close(),e||await c.close()},h={[Symbol.asyncIterator](){if(w!=null)throw new Error("Multiple iterator not supported");return w=_(),{async next(){const E=await T.next();return E.done&&await w,E}}}};return{root:m,out:h}}var throttledQueue$1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});function r(n,o,a){a===void 0&&(a=!1),a&&(o=o/n,n=1);var u=[],c=0,d=0,m,y=function(){var D=c+o,T=Date.now();if(T<D){m!==void 0&&clearTimeout(m),m=setTimeout(y,D-T);return}c=T,d=0;for(var w=0,_=u.splice(0,n);w<_.length;w++){var h=_[w];d++,h()}u.length?m=setTimeout(y,o):m=void 0};return function(D){return new Promise(function(T,w){var _=function(){return Promise.resolve().then(D).then(T).catch(w)},h=Date.now();m===void 0&&h-c>o&&(c=h,d=0),d++<n?_():(u.push(_),m===void 0&&(m=setTimeout(y,c+o-h)))})}}t.exports=r,e.default=r})(throttledQueue$1,throttledQueue$1.exports);var throttledQueueExports=throttledQueue$1.exports;const throttledQueue=getDefaultExportFromCjs(throttledQueueExports),fetch$1=globalThis.fetch,Blob$1=globalThis.Blob,Blockstore=MemoryBlockStore,GATEWAY=new URL("https://nftstorage.link/"),toGatewayURL=(t,e={})=>{const r=e.gateway||GATEWAY;return t=new URL(String(t)),t.protocol==="ipfs:"?new URL(`/ipfs/${t.href.slice(7)}`,r):t};class BlockstoreCarReader{constructor(e,r,n){this._version=e,this._roots=r,this._blockstore=n}get version(){return this._version}get blockstore(){return this._blockstore}async getRoots(){return this._roots}has(e){return this._blockstore.has(e)}async get(e){const r=await this._blockstore.get(e);return{cid:e,bytes:r}}blocks(){return this._blockstore.blocks()}async*cids(){for await(const e of this.blocks())yield e.cid}}class Token{constructor(e,r,n){this.ipnft=e,this.url=r,this.data=n,Object.defineProperties(this,{ipnft:{enumerable:!0,writable:!1},url:{enumerable:!0,writable:!1},data:{enumerable:!1,writable:!1}})}embed(){return Token.embed(this)}static embed({data:e}){return embed(e,{gateway:GATEWAY})}static async encode(e){var m,y;const r=new Blockstore,[n,o]=mapTokenInputBlobs(e),a=JSON.parse(JSON.stringify(o)),u=JSON.parse(JSON.stringify(o));for(const[D,T]of n.entries()){const w=T.name||"blob";let _;parseInt((y=(m=globalThis.process)==null?void 0:m.versions)==null?void 0:y.node)>18?_=new Uint8Array(await T.arrayBuffer()):_=T.stream();const{root:h}=await pack({input:[{path:w,content:_}],blockstore:r,wrapWithDirectory:!0}),E=new URL(`ipfs://${h}/${w}`),B=D.split(".");setIn(a,B,E),setIn(u,B,h)}const{root:c}=await pack({input:[{path:"metadata.json",content:JSON.stringify(a)}],blockstore:r,wrapWithDirectory:!1}),d=await encode$4({value:{...u,"metadata.json":c,type:"nft"},codec:dagCbor,hasher:sha256});return await r.put(d.cid,d.bytes),{cid:d.cid,token:new Token(d.cid.toString(),`ipfs://${d.cid}/metadata.json`,a),car:new BlockstoreCarReader(1,[d.cid],r)}}}const embed=(t,e)=>mapWith(t,isURL,embedURL,e),isURL=t=>t instanceof URL,embedURL=(t,e)=>[t,toGatewayURL(e,t)],isObject=t=>typeof t=="object"&&t!=null,encodeBlob=(t,e,r)=>(t.set(r.join("."),e),[t,void 0]),isBlob=t=>t instanceof Blob$1,mapTokenInputBlobs=t=>mapValueWith(t,isBlob,encodeBlob,new Map,[]),mapWith=(t,e,r,n)=>{const[,o]=mapValueWith(t,e,r,n,[]);return o},mapValueWith=(t,e,r,n,o)=>e(t,n,o)?r(n,t,o):Array.isArray(t)?mapArrayWith(t,e,r,n,o):isObject(t)?mapObjectWith(t,e,r,n,o):[n,t],mapObjectWith=(t,e,r,n,o)=>{let a=n;const u={};for(const[c,d]of Object.entries(t)){const[m,y]=mapValueWith(d,e,r,a,[...o,c]);u[c]=y,a=m}return[a,u]},mapArrayWith=(t,e,r,n,o)=>{const a=[];let u=n;for(const[c,d]of t.entries()){const[m,y]=mapValueWith(d,e,r,u,[...o,c]);a[c]=y,u=m}return[u,a]},setIn=(t,e,r)=>{const n=e.length-1;let o=t;for(let[a,u]of e.entries())a===n?o[u]=r:o=o[u]},MAX_STORE_RETRIES=5,MAX_CONCURRENT_UPLOADS=3,MAX_CHUNK_SIZE=1024*1024*50,RATE_LIMIT_REQUESTS=30,RATE_LIMIT_PERIOD=10*1e3;function createRateLimiter(){const t=throttledQueue(RATE_LIMIT_REQUESTS,RATE_LIMIT_PERIOD);return()=>t(()=>{})}const globalRateLimiter=createRateLimiter();class NFTStorage{constructor({token:e,did:r,endpoint:n=new URL("https://api.nft.storage"),rateLimiter:o}){this.token=e,this.endpoint=n,this.rateLimiter=o||createRateLimiter(),this.did=r}static auth({token:e,did:r}){if(!e)throw new Error("missing token");return{Authorization:`Bearer ${e}`,"X-Client":"nft.storage/js",...r?{"x-agent-did":r}:{}}}static async storeBlob(e,r,n){const o=new Blockstore;let a;try{const{cid:u,car:c}=await NFTStorage.encodeBlob(r,{blockstore:o});await NFTStorage.storeCar(e,c,n),a=u.toString()}finally{await o.close()}return a}static async storeCar({endpoint:e,rateLimiter:r=globalRateLimiter,...n},o,{onStoredChunk:a,maxRetries:u,maxChunkSize:c,decoders:d,signal:m}={}){const y=new URL("upload/",e),D={...NFTStorage.auth(n),"Content-Type":"application/car"},T=c||MAX_CHUNK_SIZE,w=o instanceof Blob$1?await TreewalkCarSplitter.fromBlob(o,T,{decoders:d}):new TreewalkCarSplitter(o,T,{decoders:d}),_=transform(MAX_CONCURRENT_UPLOADS,async function(E){var A,$;const B=[];for await(const v of E)B.push(v);const O=new Blob$1(B,{type:"application/car"});let k=O;parseInt(($=(A=globalThis.process)==null?void 0:A.versions)==null?void 0:$.node)>18&&(k=await k.arrayBuffer());const S=await pRetry$1(async()=>{await r();let v;try{v=await fetch$1(y.toString(),{method:"POST",headers:D,body:k,signal:m})}catch(I){throw m&&m.aborted?new AbortError_1(I):I}if(v.status===429)throw new Error("rate limited");const C=await v.json();if(!C.ok)throw v.status===401?new AbortError_1(C.error.message):new Error(C.error.message);return C.value.cid},{retries:u??MAX_STORE_RETRIES});return a&&a(O.size),S});let h;for await(const E of _(w.cars()))h=E;return h}static async storeDirectory(e,r,n){const o=new Blockstore;let a;try{const{cid:u,car:c}=await NFTStorage.encodeDirectory(r,{blockstore:o});await NFTStorage.storeCar(e,c,n),a=u.toString()}finally{await o.close()}return a}static async store(e,r,n){const{token:o,car:a}=await NFTStorage.encodeNFT(r);return await NFTStorage.storeCar(e,a,n),o}static async status({endpoint:e,rateLimiter:r=globalRateLimiter,...n},o,a){const u=new URL(`${o}/`,e);await r();const c=await fetch$1(u.toString(),{method:"GET",headers:NFTStorage.auth(n),signal:a&&a.signal});if(c.status===429)throw new Error("rate limited");const d=await c.json();if(d.ok)return{cid:d.value.cid,deals:decodeDeals(d.value.deals),size:d.value.size,pin:decodePin(d.value.pin),created:new Date(d.value.created)};throw new Error(d.error.message)}static async check({endpoint:e,rateLimiter:r=globalRateLimiter},n,o){const a=new URL(`check/${n}/`,e);await r();const u=await fetch$1(a.toString(),{signal:o&&o.signal});if(u.status===429)throw new Error("rate limited");const c=await u.json();if(c.ok)return{cid:c.value.cid,deals:decodeDeals(c.value.deals),pin:c.value.pin};throw new Error(c.error.message)}static async delete({endpoint:e,rateLimiter:r=globalRateLimiter,...n},o,a){const u=new URL(`${o}/`,e);await r();const c=await fetch$1(u.toString(),{method:"DELETE",headers:NFTStorage.auth(n),signal:a&&a.signal});if(c.status===429)throw new Error("rate limited");const d=await c.json();if(!d.ok)throw new Error(d.error.message)}static async encodeNFT(e){return validateERC1155(e),Token.encode(e)}static async encodeBlob(e,{blockstore:r}={}){if(e.size===0)throw new Error("Content size is 0, make sure to provide some content");return packCar([toImportCandidate("blob",e)],{blockstore:r,wrapWithDirectory:!1})}static async encodeDirectory(e,{blockstore:r}={}){let n=0;const o=pipe$1(e,async function*(u){for await(const c of u)yield toImportCandidate(c.name,c),n+=c.size}),a=await packCar(o,{blockstore:r,wrapWithDirectory:!0});if(n===0)throw new Error("Total size of files should exceed 0, make sure to provide some content");return a}storeBlob(e,r){return NFTStorage.storeBlob(this,e,r)}storeCar(e,r){return NFTStorage.storeCar(this,e,r)}storeDirectory(e,r){return NFTStorage.storeDirectory(this,e,r)}status(e,r){return NFTStorage.status(this,e,r)}delete(e,r){return NFTStorage.delete(this,e,r)}check(e,r){return NFTStorage.check(this,e,r)}store(e,r){return NFTStorage.store(this,e,r)}}const validateERC1155=({name:t,description:e,image:r,decimals:n})=>{if(typeof t!="string")throw new TypeError("string property `name` identifying the asset is required");if(typeof e!="string")throw new TypeError("string property `description` describing asset is required");if(r instanceof Blob$1)r.type.startsWith("image/")||console.warn(`According to ERC721 Metadata JSON Schema 'image' must have 'image/*' mime type.

For better interoperability we would highly recommend storing content with different mime type under 'properties' namespace e.g. \`properties: { video: file }\` and using 'image' field for storing a preview image for it instead.

For more context please see ERC-721 specification https://eips.ethereum.org/EIPS/eip-721`);else throw new TypeError("property `image` must be a Blob or File object");if(typeof n<"u"&&typeof n!="number")throw new TypeError("property `decimals` must be an integer value")},packCar=async(t,{blockstore:e,wrapWithDirectory:r}={})=>{e=e||new Blockstore;const{root:n}=await pack({input:t,blockstore:e,wrapWithDirectory:r}),o=new BlockstoreCarReader(1,[n],e);return{cid:n,car:o}},decodeDeals=t=>t.map(e=>{const{dealActivation:r,dealExpiration:n,lastChanged:o}={dealExpiration:null,dealActivation:null,...e};return{...e,lastChanged:new Date(o),...r&&{dealActivation:new Date(r)},...n&&{dealExpiration:new Date(n)}}}),decodePin=t=>({...t,created:new Date(t.created)});function toImportCandidate(t,e){let r;return{path:t,get content(){return r=r||e.stream(),r}}}const client=new NFTStorage({token:PUBLIC_NFT_STORAGE_API_KEY}),storeMetaData=async t=>{try{const e=JSON.stringify(t),r=new Blob([e],{type:"application/json"});return[await client.storeBlob(r),null]}catch(e){return console.error(e),[null,e]}},createReview=async t=>{try{let e="";jwtToken.subscribe(a=>e=a);const r={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(t)};return await(await fetch(`${PUBLIC_GATEWAY_URL}/delegateReviewCreation`,r)).json()}catch(e){return console.error(e),[null,e]}};function create_fragment(t){let e,r,n,o,a,u,c,d,m,y,D,T,w,_,h,E,B,O,k,S,A,$,v,C,I,F,K,G,re,q,U,ue,Ne,le,Pe,fe,H,z,Ie,ae,Se,Ce,Q,de,te,Oe,ne,Fe,V,ee,Le,he,Ae,pe,je,se,ye,Y,xe,Me,L,ie,f,s,l,p,g,b,x,R,j,N,M,P,J,ce,He,me,qe,ge,Ge,we,Ye,_e,Ke,be,Je,De,Xe,Ze,ze,$e,Qe,et,Ee,ve,Re,tt,rt;return r=new Header({}),ve=new Loader({}),{c(){e=element("div"),create_component(r.$$.fragment),n=space(),o=element("div"),a=element("div"),u=element("a"),c=svg_element("svg"),d=svg_element("path"),m=space(),y=element("h1"),D=text("share your reviews"),T=space(),w=element("div"),_=element("div"),h=text(t[2]),E=space(),B=element("select"),O=element("option"),k=text("Category"),S=element("option"),A=text("Tooling"),$=element("option"),v=text("Infra"),C=element("option"),I=text("Bridges"),F=element("option"),K=text("Launchpads"),G=element("option"),re=text("Social"),q=element("option"),U=text("Marketplaces"),ue=element("option"),Ne=text("Wallets"),le=element("option"),Pe=text("Stablecoins"),fe=element("option"),H=text("NFT Tooling"),z=element("option"),Ie=text("Gaming"),ae=element("option"),Se=text("DeFi"),Ce=space(),Q=element("input"),de=space(),te=element("input"),Oe=space(),ne=element("textarea"),Fe=space(),V=element("select"),ee=element("option"),Le=text("Type"),he=element("option"),Ae=text("Website"),pe=element("option"),je=text("Mobile App"),se=element("option"),ye=text("Browser Extension"),Y=element("option"),xe=text("Software"),Me=space(),L=element("select"),ie=element("option"),f=text("Tag"),s=element("option"),l=text("Genuine"),p=element("option"),g=text("Abandoned"),b=element("option"),x=text("Scam"),R=element("option"),j=text("Fake"),N=element("option"),M=text("Unsure"),P=space(),J=element("select"),ce=element("option"),He=text("Safety"),me=element("option"),qe=text("Safe"),ge=element("option"),Ge=text("Mostly Safe"),we=element("option"),Ye=text("Adware Issues"),_e=element("option"),Ke=text("Malware Threats"),be=element("option"),Je=text("Spyware Risks"),De=element("option"),Xe=text("Phishing Concerns"),Ze=space(),ze=element("div"),$e=element("button"),Qe=text("Submit"),et=space(),Ee=element("div"),create_component(ve.$$.fragment),this.h()},l(W){e=claim_element(W,"DIV",{class:!0});var X=children(e);claim_component(r.$$.fragment,X),n=claim_space(X),o=claim_element(X,"DIV",{class:!0});var Ve=children(o);a=claim_element(Ve,"DIV",{class:!0});var We=children(a);u=claim_element(We,"A",{href:!0});var nt=children(u);c=claim_svg_element(nt,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0,class:!0});var it=children(c);d=claim_svg_element(it,"path",{d:!0}),children(d).forEach(detach),it.forEach(detach),nt.forEach(detach),m=claim_space(We),y=claim_element(We,"H1",{class:!0});var ot=children(y);D=claim_text(ot,"share your reviews"),ot.forEach(detach),We.forEach(detach),T=claim_space(Ve),w=claim_element(Ve,"DIV",{class:!0});var Z=children(w);_=claim_element(Z,"DIV",{id:!0,class:!0});var at=children(_);h=claim_text(at,t[2]),at.forEach(detach),E=claim_space(Z),B=claim_element(Z,"SELECT",{id:!0,class:!0});var oe=children(B);O=claim_element(oe,"OPTION",{class:!0});var st=children(O);k=claim_text(st,"Category"),st.forEach(detach),S=claim_element(oe,"OPTION",{});var ct=children(S);A=claim_text(ct,"Tooling"),ct.forEach(detach),$=claim_element(oe,"OPTION",{});var ut=children($);v=claim_text(ut,"Infra"),ut.forEach(detach),C=claim_element(oe,"OPTION",{});var lt=children(C);I=claim_text(lt,"Bridges"),lt.forEach(detach),F=claim_element(oe,"OPTION",{});var ft=children(F);K=claim_text(ft,"Launchpads"),ft.forEach(detach),G=claim_element(oe,"OPTION",{});var dt=children(G);re=claim_text(dt,"Social"),dt.forEach(detach),q=claim_element(oe,"OPTION",{});var ht=children(q);U=claim_text(ht,"Marketplaces"),ht.forEach(detach),ue=claim_element(oe,"OPTION",{});var pt=children(ue);Ne=claim_text(pt,"Wallets"),pt.forEach(detach),le=claim_element(oe,"OPTION",{});var yt=children(le);Pe=claim_text(yt,"Stablecoins"),yt.forEach(detach),fe=claim_element(oe,"OPTION",{});var mt=children(fe);H=claim_text(mt,"NFT Tooling"),mt.forEach(detach),z=claim_element(oe,"OPTION",{});var gt=children(z);Ie=claim_text(gt,"Gaming"),gt.forEach(detach),ae=claim_element(oe,"OPTION",{});var wt=children(ae);Se=claim_text(wt,"DeFi"),wt.forEach(detach),oe.forEach(detach),Ce=claim_space(Z),Q=claim_element(Z,"INPUT",{id:!0,type:!0,min:!0,max:!0,placeholder:!0,class:!0}),de=claim_space(Z),te=claim_element(Z,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),Oe=claim_space(Z),ne=claim_element(Z,"TEXTAREA",{id:!0,placeholder:!0,class:!0}),children(ne).forEach(detach),Fe=claim_space(Z),V=claim_element(Z,"SELECT",{id:!0,class:!0});var Ue=children(V);ee=claim_element(Ue,"OPTION",{class:!0});var _t=children(ee);Le=claim_text(_t,"Type"),_t.forEach(detach),he=claim_element(Ue,"OPTION",{});var bt=children(he);Ae=claim_text(bt,"Website"),bt.forEach(detach),pe=claim_element(Ue,"OPTION",{});var Dt=children(pe);je=claim_text(Dt,"Mobile App"),Dt.forEach(detach),se=claim_element(Ue,"OPTION",{});var Et=children(se);ye=claim_text(Et,"Browser Extension"),Et.forEach(detach),Y=claim_element(Ue,"OPTION",{});var Tt=children(Y);xe=claim_text(Tt,"Software"),Tt.forEach(detach),Ue.forEach(detach),Me=claim_space(Z),L=claim_element(Z,"SELECT",{id:!0,class:!0});var ke=children(L);ie=claim_element(ke,"OPTION",{class:!0});var Bt=children(ie);f=claim_text(Bt,"Tag"),Bt.forEach(detach),s=claim_element(ke,"OPTION",{});var At=children(s);l=claim_text(At,"Genuine"),At.forEach(detach),p=claim_element(ke,"OPTION",{});var xt=children(p);g=claim_text(xt,"Abandoned"),xt.forEach(detach),b=claim_element(ke,"OPTION",{});var $t=children(b);x=claim_text($t,"Scam"),$t.forEach(detach),R=claim_element(ke,"OPTION",{});var vt=children(R);j=claim_text(vt,"Fake"),vt.forEach(detach),N=claim_element(ke,"OPTION",{});var kt=children(N);M=claim_text(kt,"Unsure"),kt.forEach(detach),ke.forEach(detach),P=claim_space(Z),J=claim_element(Z,"SELECT",{id:!0,class:!0});var Te=children(J);ce=claim_element(Te,"OPTION",{class:!0});var It=children(ce);He=claim_text(It,"Safety"),It.forEach(detach),me=claim_element(Te,"OPTION",{});var St=children(me);qe=claim_text(St,"Safe"),St.forEach(detach),ge=claim_element(Te,"OPTION",{});var Ct=children(ge);Ge=claim_text(Ct,"Mostly Safe"),Ct.forEach(detach),we=claim_element(Te,"OPTION",{});var Ot=children(we);Ye=claim_text(Ot,"Adware Issues"),Ot.forEach(detach),_e=claim_element(Te,"OPTION",{});var Ft=children(_e);Ke=claim_text(Ft,"Malware Threats"),Ft.forEach(detach),be=claim_element(Te,"OPTION",{});var Rt=children(be);Je=claim_text(Rt,"Spyware Risks"),Rt.forEach(detach),De=claim_element(Te,"OPTION",{});var Ut=children(De);Xe=claim_text(Ut,"Phishing Concerns"),Ut.forEach(detach),Te.forEach(detach),Ze=claim_space(Z),ze=claim_element(Z,"DIV",{});var Nt=children(ze);$e=claim_element(Nt,"BUTTON",{class:!0});var Pt=children($e);Qe=claim_text(Pt,"Submit"),Pt.forEach(detach),Nt.forEach(detach),Z.forEach(detach),Ve.forEach(detach),et=claim_space(X),Ee=claim_element(X,"DIV",{class:!0});var Lt=children(Ee);claim_component(ve.$$.fragment,Lt),Lt.forEach(detach),X.forEach(detach),this.h()},h(){attr(d,"d","M16.6205 2.98833C16.5044 2.87192 16.3664 2.77956 16.2146 2.71655C16.0627 2.65353 15.8999 2.62109 15.7355 2.62109C15.5711 2.62109 15.4083 2.65353 15.2564 2.71655C15.1045 2.77956 14.9666 2.87192 14.8505 2.98833L6.54049 11.2983C6.44779 11.3908 6.37424 11.5007 6.32406 11.6217C6.27388 11.7427 6.24805 11.8724 6.24805 12.0033C6.24805 12.1343 6.27388 12.264 6.32406 12.385C6.37424 12.5059 6.44779 12.6158 6.54049 12.7083L14.8505 21.0183C15.3405 21.5083 16.1305 21.5083 16.6205 21.0183C17.1105 20.5283 17.1105 19.7383 16.6205 19.2483L9.38049 11.9983L16.6305 4.74833C17.1105 4.26833 17.1105 3.46833 16.6205 2.98833Z"),attr(c,"width","24"),attr(c,"height","24"),attr(c,"viewBox","0 0 24 24"),attr(c,"fill","none"),attr(c,"xmlns","http://www.w3.org/2000/svg"),attr(c,"class","fill-[#263238] dark:fill-[#11D9C5]"),attr(u,"href","/"),attr(y,"class","font-bold text-2xl capitalize"),attr(a,"class","flex items-center gap-4 mt-6"),attr(_,"id","websiteUrl"),attr(_,"class","text-xs text-gray-400 bg-transparent border border-[#263238] dark:border-[#11D9C5] py-3 px-3 rounded-full"),O.disabled=!0,O.selected=!0,attr(O,"class","font-bold"),O.__value="Category",O.value=O.__value,S.__value="tooling",S.value=S.__value,$.__value="infra",$.value=$.__value,C.__value="bridges",C.value=C.__value,F.__value="launchpads",F.value=F.__value,G.__value="social",G.value=G.__value,q.__value="marketplaces",q.value=q.__value,ue.__value="wallets",ue.value=ue.__value,le.__value="stablecoins",le.value=le.__value,fe.__value="nft tooling",fe.value=fe.__value,z.__value="gaming",z.value=z.__value,ae.__value="defi",ae.value=ae.__value,attr(B,"id","siteTag"),attr(B,"class","select select-success primary-input h-8"),B.required=!0,t[3]===void 0&&add_render_callback(()=>t[10].call(B)),attr(Q,"id","rating"),attr(Q,"type","number"),attr(Q,"min",0),attr(Q,"max",10),attr(Q,"placeholder","rating"),attr(Q,"class","input primary-input text-gray-400"),Q.required=!0,attr(te,"id","title"),attr(te,"type","text"),attr(te,"placeholder","Title"),attr(te,"class","input primary-input"),te.required=!0,attr(ne,"id","description"),attr(ne,"placeholder","Description"),attr(ne,"class","textarea textarea-success primary-input h-12 rounded-2xl"),ne.required=!0,ee.disabled=!0,ee.selected=!0,attr(ee,"class","font-bold"),ee.__value="Type",ee.value=ee.__value,he.__value="website",he.value=he.__value,pe.__value="mobile app",pe.value=pe.__value,se.__value="browser extension",se.value=se.__value,Y.__value="software",Y.value=Y.__value,attr(V,"id","siteType"),attr(V,"class","select select-success primary-input"),V.required=!0,t[6]===void 0&&add_render_callback(()=>t[14].call(V)),ie.disabled=!0,ie.selected=!0,attr(ie,"class","font-bold"),ie.__value="Tag",ie.value=ie.__value,s.__value="genuine",s.value=s.__value,p.__value="abandoned",p.value=p.__value,b.__value="scam",b.value=b.__value,R.__value="fake",R.value=R.__value,N.__value="unsure",N.value=N.__value,attr(L,"id","siteTag"),attr(L,"class","select select-success primary-input"),L.required=!0,t[4]===void 0&&add_render_callback(()=>t[15].call(L)),ce.disabled=!0,ce.selected=!0,attr(ce,"class","font-bold"),ce.__value="Safety",ce.value=ce.__value,me.__value="safe",me.value=me.__value,ge.__value="mostly safe",ge.value=ge.__value,we.__value="adware issues",we.value=we.__value,_e.__value="malware threats",_e.value=_e.__value,be.__value="spyware risks",be.value=be.__value,De.__value="phishing concerns",De.value=De.__value,attr(J,"id","siteSafety"),attr(J,"class","select select-success primary-input"),J.required=!0,t[5]===void 0&&add_render_callback(()=>t[16].call(J)),attr($e,"class","btn primary-button"),attr(w,"class","grid gap-y-4 mt-4"),attr(o,"class","relative text-black dark:text-white"),attr(Ee,"class","modal h-screen z-10 absolute top-0 flex justify-center items-center"),toggle_class(Ee,"modal-open",t[7]),attr(e,"class","grid flex-grow")},m(W,X){insert_hydration(W,e,X),mount_component(r,e,null),append_hydration(e,n),append_hydration(e,o),append_hydration(o,a),append_hydration(a,u),append_hydration(u,c),append_hydration(c,d),append_hydration(a,m),append_hydration(a,y),append_hydration(y,D),append_hydration(o,T),append_hydration(o,w),append_hydration(w,_),append_hydration(_,h),append_hydration(w,E),append_hydration(w,B),append_hydration(B,O),append_hydration(O,k),append_hydration(B,S),append_hydration(S,A),append_hydration(B,$),append_hydration($,v),append_hydration(B,C),append_hydration(C,I),append_hydration(B,F),append_hydration(F,K),append_hydration(B,G),append_hydration(G,re),append_hydration(B,q),append_hydration(q,U),append_hydration(B,ue),append_hydration(ue,Ne),append_hydration(B,le),append_hydration(le,Pe),append_hydration(B,fe),append_hydration(fe,H),append_hydration(B,z),append_hydration(z,Ie),append_hydration(B,ae),append_hydration(ae,Se),select_option(B,t[3],!0),append_hydration(w,Ce),append_hydration(w,Q),set_input_value(Q,t[8]),append_hydration(w,de),append_hydration(w,te),set_input_value(te,t[0]),append_hydration(w,Oe),append_hydration(w,ne),set_input_value(ne,t[1]),append_hydration(w,Fe),append_hydration(w,V),append_hydration(V,ee),append_hydration(ee,Le),append_hydration(V,he),append_hydration(he,Ae),append_hydration(V,pe),append_hydration(pe,je),append_hydration(V,se),append_hydration(se,ye),append_hydration(V,Y),append_hydration(Y,xe),select_option(V,t[6],!0),append_hydration(w,Me),append_hydration(w,L),append_hydration(L,ie),append_hydration(ie,f),append_hydration(L,s),append_hydration(s,l),append_hydration(L,p),append_hydration(p,g),append_hydration(L,b),append_hydration(b,x),append_hydration(L,R),append_hydration(R,j),append_hydration(L,N),append_hydration(N,M),select_option(L,t[4],!0),append_hydration(w,P),append_hydration(w,J),append_hydration(J,ce),append_hydration(ce,He),append_hydration(J,me),append_hydration(me,qe),append_hydration(J,ge),append_hydration(ge,Ge),append_hydration(J,we),append_hydration(we,Ye),append_hydration(J,_e),append_hydration(_e,Ke),append_hydration(J,be),append_hydration(be,Je),append_hydration(J,De),append_hydration(De,Xe),select_option(J,t[5],!0),append_hydration(w,Ze),append_hydration(w,ze),append_hydration(ze,$e),append_hydration($e,Qe),append_hydration(e,et),append_hydration(e,Ee),mount_component(ve,Ee,null),Re=!0,tt||(rt=[listen(B,"change",t[10]),listen(Q,"input",t[11]),listen(te,"input",t[12]),listen(ne,"input",t[13]),listen(V,"change",t[14]),listen(L,"change",t[15]),listen(J,"change",t[16]),listen($e,"click",t[9])],tt=!0)},p(W,[X]){(!Re||X&4)&&set_data(h,W[2]),X&8&&select_option(B,W[3]),X&256&&to_number(Q.value)!==W[8]&&set_input_value(Q,W[8]),X&1&&te.value!==W[0]&&set_input_value(te,W[0]),X&2&&set_input_value(ne,W[1]),X&64&&select_option(V,W[6]),X&16&&select_option(L,W[4]),X&32&&select_option(J,W[5]),(!Re||X&128)&&toggle_class(Ee,"modal-open",W[7])},i(W){Re||(transition_in(r.$$.fragment,W),transition_in(ve.$$.fragment,W),Re=!0)},o(W){transition_out(r.$$.fragment,W),transition_out(ve.$$.fragment,W),Re=!1},d(W){W&&detach(e),destroy_component(r),destroy_component(ve),tt=!1,run_all(rt)}}}let image="ipfs://bafybeica7pi67452fokrlrmxrooazsxbuluckmcojascc5z4fcazsuhsuy";function instance(t,e,r){let n,o,a,u,c,d,m,y=!1,D=0,T;const w=async()=>{var v;const[$]=await chrome.tabs.query({active:!0,currentWindow:!0});r(2,a=(v=$.url)==null?void 0:v.toLocaleLowerCase())},_=async()=>{r(7,y=!0);const $=new URL(`${a}`).hostname;let I=`ipfs://${await storeMetaData({name:n??"",description:o??"",category:u??"",image,domainAddress:$??"",siteUrl:a??"",siteType:m??"",siteTag:c??"",siteSafety:d??"",siteRating:D??""})}`.split(",")[0];try{T=await createReview({category:u??"",domainAddress:$??"",siteUrl:a??"",siteType:m??"",siteTag:c??"",siteSafety:d??"",metaDataUri:I,siteIpfsHash:"ipfs://abcd"})}catch(F){console.log("error: "+F)}finally{r(7,y=!1),T.status===200&&(window.location.href="/submit-review/success")}};onMount(async()=>{await checkAuth(),await w()});function h(){u=select_value(this),r(3,u)}function E(){D=to_number(this.value),r(8,D)}function B(){n=this.value,r(0,n)}function O(){o=this.value,r(1,o)}function k(){m=select_value(this),r(6,m)}function S(){c=select_value(this),r(4,c)}function A(){d=select_value(this),r(5,d)}return[n,o,a,u,c,d,m,y,D,_,h,E,B,O,k,S,A]}class Page extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{})}}export{Page as component};
