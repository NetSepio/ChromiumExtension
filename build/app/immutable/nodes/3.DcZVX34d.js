import{t as N,a as P}from"../chunks/XdHx9Q2R.js";import{p as A,c as t,g as s,a as C,s as b,b as r,r as a,d as _}from"../chunks/CsqGFeDh.js";import{d as E}from"../chunks/DCCTpnlQ.js";import{r as g}from"../chunks/CYIbFpwj.js";import{b as y}from"../chunks/BoKxmPir.js";import{s as L,a as S}from"../chunks/GeWgIBjc.js";import{H as B}from"../chunks/CoumpVV1.js";import{j as R}from"../chunks/0wNmbcRK.js";import{P as z}from"../chunks/DcZVe53u.js";var F=N('<div><!> <h1 class="text-xl font-bold text-center mt-4">Set your profile</h1> <br> <div><label for="userName" class="text-sm text-left mt-4 mb-4">Enter name</label> <input name="userName" type="text" class="secondary-input"></div> <div class="mt-12"><label for="userImage" class="text-sm text-left mt-4 mb-4">Enter profile URL</label> <input name="userImage" type="url" class="secondary-input"></div> <br> <div class="flex gap-4 w-full mt-5"><div class="grid flex-grow"><button class="btn primary-button">Save</button></div></div></div>');function V(h,x){A(x,!0);const[w,$]=L(),T=()=>S(R,"$jwtToken",w);let o=b(""),i=b(""),U;const j=async()=>{try{let e=s(o).trim(),H=s(i).trim(),p=new Headers;p.append("Authorization",`Bearer ${T()}`),p.append("Content-Type","application/json");let I=JSON.stringify({name:e,profilePictureUrl:H});(await fetch(`${z}/profile`,{method:"PATCH",headers:p,body:I})).status!==200&&(U="Failed to update the profile")}catch(e){console.error(e)}finally{window.location.href="/"}};var l=F(),d=t(l);B(d,{});var n=r(d,6),c=r(t(n),2);g(c),a(n);var m=r(n,2),u=r(t(m),2);g(u),a(m);var f=r(m,4),v=t(f),k=t(v);k.__click=j,a(v),a(f),a(l),y(c,()=>s(o),e=>_(o,e)),y(u,()=>s(i),e=>_(i,e)),P(h,l),C(),$()}E(["click"]);export{V as component};
